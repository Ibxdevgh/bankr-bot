var Pc=e=>{throw TypeError(e)};var Ti=(e,t,n)=>t.has(e)||Pc("Cannot "+n);var P=(e,t,n)=>(Ti(e,t,"read from private field"),n?n.call(e):t.get(e)),D=(e,t,n)=>t.has(e)?Pc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_=(e,t,n,r)=>(Ti(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),G=(e,t,n)=>(Ti(e,t,"access private method"),n);var As=(e,t,n,r)=>({set _(s){_(e,t,s,n)},get _(){return P(e,t,r)}});import{r as ya,g as cf}from"./react-CvrAlPOO.js";function z0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Bi={exports:{}},Cr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ic;function j0(){if(Ic)return Cr;Ic=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var a in s)a!=="key"&&(i[a]=s[a])}else i=s;return s=i.ref,{$$typeof:e,type:r,key:o,ref:s!==void 0?s:null,props:i}}return Cr.Fragment=t,Cr.jsx=n,Cr.jsxs=n,Cr}var Sc;function L0(){return Sc||(Sc=1,Bi.exports=j0()),Bi.exports}var U0=L0(),W=ya();const D0=cf(W),w2=z0({__proto__:null,default:D0},[W]);var Oi={exports:{}},Ri={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c;function q0(){if($c)return Ri;$c=1;var e=ya();function t(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(d,l){var h=l(),b=r({inst:{value:h,getSnapshot:l}}),p=b[0].inst,y=b[1];return i(function(){p.value=h,p.getSnapshot=l,c(p)&&y({inst:p})},[d,h,l]),s(function(){return c(p)&&y({inst:p}),d(function(){c(p)&&y({inst:p})})},[d]),o(h),h}function c(d){var l=d.getSnapshot;d=d.value;try{var h=l();return!n(d,h)}catch{return!0}}function u(d,l){return l()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return Ri.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Ri}var Ac;function G0(){return Ac||(Ac=1,Oi.exports=q0()),Oi.exports}const H0="modulepreload",V0=function(e){return"/"+e},Cc={},uf=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(n.map(u=>{if(u=V0(u),u in Cc)return;Cc[u]=!0;const f=u.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":H0,f||(l.as="script"),l.crossOrigin="",l.href=u,c&&l.setAttribute("nonce",c),document.head.appendChild(l),f)return new Promise((h,b)=>{l.addEventListener("load",h),l.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};function W0(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function K0(){const e=new Set;let t=[];const n=()=>W0(s=>{t.some(({info:i})=>i.uuid===s.info.uuid)||(t=[...t,s],e.forEach(i=>i(t,{added:[s]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(s=>s([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r==null||r()},findProvider({rdns:s}){return t.find(i=>i.info.rdns===s)},getProviders(){return t},reset(){this.clear(),r==null||r(),r=n()},subscribe(s,{emitImmediately:i}={}){return e.add(s),i&&s(t,{added:t}),()=>e.delete(s)}}}const Q0="1.1.0";let De=class fo extends Error{constructor(t,n={}){var o;const r=n.cause instanceof fo?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof fo&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Q0}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function It(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const ff=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,df=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,lf=/^\(.+?\).*?$/,Tc=/^tuple(?<array>(\[(\d*)\])*)$/;function lo(e){let t=e.type;if(Tc.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=lo(i),s<n-1&&(t+=", ")}const r=It(Tc,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,lo({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Tr(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=lo(s),r!==n-1&&(t+=", ")}return t}function Z0(e){var t;return e.type==="function"?`function ${e.name}(${Tr(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Tr(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Tr(e.inputs)})`:e.type==="error"?`error ${e.name}(${Tr(e.inputs)})`:e.type==="constructor"?`constructor(${Tr(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const hf=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Y0(e){return hf.test(e)}function J0(e){return It(hf,e)}const pf=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function X0(e){return pf.test(e)}function eh(e){return It(pf,e)}const bf=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function th(e){return bf.test(e)}function nh(e){return It(bf,e)}const yf=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function mf(e){return yf.test(e)}function rh(e){return It(yf,e)}const gf=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function sh(e){return gf.test(e)}function ih(e){return It(gf,e)}const wf=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function oh(e){return wf.test(e)}function ah(e){return It(wf,e)}const ch=/^receive\(\) external payable$/;function uh(e){return ch.test(e)}const fh=new Set(["indexed"]),ho=new Set(["calldata","memory","storage"]);let dh=class extends De{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},lh=class extends De{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}},hh=class extends De{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},ph=class extends De{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},bh=class extends De{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},yh=class extends De{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},mh=class extends De{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},br=class extends De{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},gh=class extends De{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},wh=class extends De{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},vh=class extends De{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},xh=class extends De{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function Eh(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const Mi=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ph(e,t={}){if(th(e))return Ih(e,t);if(X0(e))return Sh(e,t);if(Y0(e))return $h(e,t);if(sh(e))return Ah(e,t);if(oh(e))return Ch(e);if(uh(e))return{type:"receive",stateMutability:"payable"};throw new gh({signature:e})}function Ih(e,t={}){const n=nh(e);if(!n)throw new br({signature:e,type:"function"});const r=Ve(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(vn(r[a],{modifiers:ho,structs:t,type:"function"}));const o=[];if(n.returns){const a=Ve(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(vn(a[u],{modifiers:ho,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function Sh(e,t={}){const n=eh(e);if(!n)throw new br({signature:e,type:"event"});const r=Ve(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(vn(r[o],{modifiers:fh,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function $h(e,t={}){const n=J0(e);if(!n)throw new br({signature:e,type:"error"});const r=Ve(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(vn(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function Ah(e,t={}){const n=ih(e);if(!n)throw new br({signature:e,type:"constructor"});const r=Ve(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(vn(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Ch(e){const t=ah(e);if(!t)throw new br({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Th=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Bh=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Oh=/^u?int$/;function vn(e,t){var d,l;const n=Eh(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Mi.has(n))return Mi.get(n);const r=lf.test(e),s=It(r?Bh:Th,e);if(!s)throw new hh({param:e});if(s.name&&Mh(s.name))throw new ph({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=Ve(s.type),b=[],p=h.length;for(let y=0;y<p;y++)b.push(vn(h[y],{structs:a}));u={components:b}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(Oh.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!vf(c))throw new lh({type:c});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new bh({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(ho.has(s.modifier)&&!kh(c,!!s.array))throw new yh({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...i,...o,...u};return Mi.set(n,f),f}function Ve(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?Ve(a,[...t,n.trim()]):Ve(a,t,`${n}${o}`,r);case"(":return Ve(a,t,`${n}${o}`,r+1);case")":return Ve(a,t,`${n}${o}`,r-1);default:return Ve(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new xh({current:n,depth:r});return t.push(n.trim()),t}function vf(e){return e==="address"||e==="bool"||e==="function"||e==="string"||ff.test(e)||df.test(e)}const Rh=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Mh(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||ff.test(e)||df.test(e)||Rh.test(e)}function kh(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Fh(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!mf(a))continue;const c=rh(a);if(!c)throw new br({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const b=u[l].trim();if(!b)continue;const p=vn(b,{type:"struct"});f.push(p)}if(!f.length)throw new wh({signature:a});t[c.name]=f}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=xf(c,t)}return r}const Nh=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function xf(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(lf.test(o.type))r.push(o);else{const c=It(Nh,o.type);if(!(c!=null&&c.type))throw new mh({abiParameter:o});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new vh({type:f});r.push({...o,type:`tuple${u??""}`,components:xf(t[f]??[],t,new Set([...n,f]))})}else if(vf(f))r.push(o);else throw new dh({type:f})}}return r}function Ef(e){const t=Fh(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];mf(i)||n.push(Ph(i,t))}return n}function Q(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Pf="2.42.1";let Br={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Pf}`},B=class po extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof po?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof po&&n.cause.docsPath||n.docsPath,i=(a=Br.getDocsUrl)==null?void 0:a.call(Br,{...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Br.version?[`Version: ${Br.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Pf}walk(t){return If(this,t)}};function If(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?If(e.cause,t):t?null:e}let Ie=class extends B{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function Ke(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}let Sf=class extends B{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},$f=class extends B{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Bc extends B{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function mt(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ht(e,{dir:t,size:n}):_h(e,{dir:t,size:n})}function Ht(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new $f({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function _h(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new $f({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let Af=class extends B{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},zh=class extends B{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class jh extends B{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Lh=class extends B{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Z(e){return Ke(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function Ee(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function qe(e,{size:t}){if(Z(e)>t)throw new Lh({givenSize:Z(e),maxSize:t})}function Ce(e,t={}){const{signed:n}=t;t.size&&qe(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Uh(e,t={}){let n=e;if(t.size&&(qe(n,{size:t.size}),n=Ee(n)),Ee(n)==="0x00")return!1;if(Ee(n)==="0x01")return!0;throw new jh(n)}function je(e,t={}){return Number(Ce(e,t))}function Cf(e,t={}){let n=Le(e);return t.size&&(qe(n,{size:t.size}),n=Ee(n,{dir:"right"})),new TextDecoder().decode(n)}const Dh=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Qe(e,t={}){return typeof e=="number"||typeof e=="bigint"?M(e,t):typeof e=="string"?xn(e,t):typeof e=="boolean"?ma(e,t):ee(e,t)}function ma(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(qe(n,{size:t.size}),mt(n,{size:t.size})):n}function ee(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Dh[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(qe(r,{size:t.size}),mt(r,{dir:"right",size:t.size})):r}function M(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new Af({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?mt(a,{size:r}):a}const qh=new TextEncoder;function xn(e,t={}){const n=qh.encode(e);return ee(n,t)}const Gh=new TextEncoder;function yr(e,t={}){return typeof e=="number"||typeof e=="bigint"?Vh(e,t):typeof e=="boolean"?Hh(e,t):Ke(e)?Le(e,t):yn(e,t)}function Hh(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(qe(n,{size:t.size}),mt(n,{size:t.size})):n}const it={zero:48,nine:57,A:65,F:70,a:97,f:102};function Oc(e){if(e>=it.zero&&e<=it.nine)return e-it.zero;if(e>=it.A&&e<=it.F)return e-(it.A-10);if(e>=it.a&&e<=it.f)return e-(it.a-10)}function Le(e,t={}){let n=e;t.size&&(qe(n,{size:t.size}),n=mt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=Oc(r.charCodeAt(a++)),u=Oc(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new B(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function Vh(e,t){const n=M(e,t);return Le(n)}function yn(e,t={}){const n=Gh.encode(e);return typeof t.size=="number"?(qe(n,{size:t.size}),mt(n,{dir:"right",size:t.size})):n}const Cs=BigInt(2**32-1),Rc=BigInt(32);function Wh(e,t=!1){return t?{h:Number(e&Cs),l:Number(e>>Rc&Cs)}:{h:Number(e>>Rc&Cs)|0,l:Number(e&Cs)|0}}function Tf(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=Wh(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const Mc=(e,t,n)=>e>>>n,kc=(e,t,n)=>e<<32-n|t>>>n,jn=(e,t,n)=>e>>>n|t<<32-n,Ln=(e,t,n)=>e<<32-n|t>>>n,Ts=(e,t,n)=>e<<64-n|t>>>n-32,Bs=(e,t,n)=>e>>>n-32|t<<64-n,Kh=(e,t,n)=>e<<n|t>>>32-n,Qh=(e,t,n)=>t<<n|e>>>32-n,Zh=(e,t,n)=>t<<n-32|e>>>64-n,Yh=(e,t,n)=>e<<n-32|t>>>64-n;function ot(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const Jh=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Xh=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,ep=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),tp=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,np=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),rp=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,Un=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function kr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Kt(e,...t){if(!sp(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ip(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");kr(e.outputLen),kr(e.blockLen)}function cr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Bf(e,t){Kt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function op(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Qt(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ki(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Xe(e,t){return e<<32-t|e>>>t}const ap=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function cp(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function up(e){for(let t=0;t<e.length;t++)e[t]=cp(e[t]);return e}const Fc=ap?e=>e:up,Of=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",fp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function z2(e){if(Kt(e),Of)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=fp[e[n]];return t}const at={_0:48,_9:57,A:65,F:70,a:97,f:102};function Nc(e){if(e>=at._0&&e<=at._9)return e-at._0;if(e>=at.A&&e<=at.F)return e-(at.A-10);if(e>=at.a&&e<=at.f)return e-(at.a-10)}function j2(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Of)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Nc(e.charCodeAt(i)),a=Nc(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function dp(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ni(e){return typeof e=="string"&&(e=dp(e)),Kt(e),e}function lp(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Kt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class ga{}function wa(e){const t=r=>e().update(ni(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function hp(e=32){if(Un&&typeof Un.getRandomValues=="function")return Un.getRandomValues(new Uint8Array(e));if(Un&&typeof Un.randomBytes=="function")return Uint8Array.from(Un.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const pp=BigInt(0),Or=BigInt(1),bp=BigInt(2),yp=BigInt(7),mp=BigInt(256),gp=BigInt(113),Rf=[],Mf=[],kf=[];for(let e=0,t=Or,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Rf.push(2*(5*r+n)),Mf.push((e+1)*(e+2)/2%64);let s=pp;for(let i=0;i<7;i++)t=(t<<Or^(t>>yp)*gp)%mp,t&bp&&(s^=Or<<(Or<<BigInt(i))-Or);kf.push(s)}const Ff=Tf(kf,!0),wp=Ff[0],vp=Ff[1],_c=(e,t,n)=>n>32?Zh(e,t,n):Kh(e,t,n),zc=(e,t,n)=>n>32?Yh(e,t,n):Qh(e,t,n);function xp(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],f=n[c+1],d=_c(u,f,1)^n[a],l=zc(u,f,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=d,e[o+h+1]^=l}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=Mf[o],c=_c(s,i,a),u=zc(s,i,a),f=Rf[o];s=e[f],i=e[f+1],e[f]=c,e[f+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=wp[r],e[1]^=vp[r]}Qt(n)}class va extends ga{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,kr(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=op(this.state)}clone(){return this._cloneInto()}keccak(){Fc(this.state32),xp(this.state32,this.rounds),Fc(this.state32),this.posOut=0,this.pos=0}update(t){cr(this),t=ni(t),Kt(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){cr(this,!1),Kt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return kr(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Bf(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Qt(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new va(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Ep=(e,t,n)=>wa(()=>new va(t,e,n)),Nf=Ep(1,136,256/8);function ae(e,t){const n=t||"hex",r=Nf(Ke(e,{strict:!1})?yr(e):e);return n==="bytes"?r:Qe(r)}let kn=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Pp=/^0x[a-fA-F0-9]{40}$/,Fi=new kn(8192);function ie(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Fi.has(r))return Fi.get(r);const s=Pp.test(e)?e.toLowerCase()===e?!0:n?cs(e)===e:!0:!1;return Fi.set(r,s),s}const Ni=new kn(8192);function cs(e,t){if(Ni.has(`${e}.${t}`))return Ni.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=ae(yn(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Ni.set(`${e}.${t}`,i),i}function Gt(e,t){if(!ie(e,{strict:!1}))throw new Ie({address:e});return cs(e,t)}function Ip(e){const t=ae(`0x${e.substring(4)}`).substring(26);return cs(`0x${t}`)}function Ze(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Np(e.type);return`${e.name}(${ri(e.inputs,{includeName:t})})`}function ri(e,{includeName:t=!1}={}){return e?e.map(n=>Sp(n,{includeName:t})).join(t?", ":","):""}function Sp(e,{includeName:t}){return e.type.startsWith("tuple")?`(${ri(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class $p extends B{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class jc extends B{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class _f extends B{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ri(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class us extends B{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Ap extends B{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Cp extends B{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Z(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class zf extends B{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Tp extends B{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Lc extends B{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class jf extends B{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Bp extends B{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Op extends B{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Uc extends B{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class ur extends B{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Lf extends B{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Rp extends B{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Mp extends B{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ze(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ze(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Uf=class extends B{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Gs extends B{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${ri(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class xa extends B{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ze(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class kp extends B{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class Fp extends B{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Df=class extends B{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Np extends B{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class _p extends B{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let Dc=class extends B{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},qf=class extends B{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},zp=class extends B{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const jp={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new zp({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new qf({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Dc({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Dc({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Ea(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(jp);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function En(e,t,n,{strict:r}={}){return Ke(e,{strict:!1})?bo(e,t,n,{strict:r}):Vf(e,t,n,{strict:r})}function Gf(e,t){if(typeof t=="number"&&t>0&&t>Z(e)-1)throw new Sf({offset:t,position:"start",size:Z(e)})}function Hf(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Z(e)!==n-t)throw new Sf({offset:n,position:"end",size:Z(e)})}function Vf(e,t,n,{strict:r}={}){Gf(e,t);const s=e.slice(t,n);return r&&Hf(s,t,n),s}function bo(e,t,n,{strict:r}={}){Gf(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Hf(s,t,n),s}function Lp(e,t={}){typeof t.size<"u"&&qe(e,{size:t.size});const n=ee(e,t);return Ce(n,t)}function Up(e,t={}){let n=e;if(typeof t.size<"u"&&(qe(n,{size:t.size}),n=Ee(n)),n.length>1||n[0]>1)throw new zh(n);return!!n[0]}function gt(e,t={}){typeof t.size<"u"&&qe(e,{size:t.size});const n=ee(e,t);return je(n,t)}function Dp(e,t={}){let n=e;return typeof t.size<"u"&&(qe(n,{size:t.size}),n=Ee(n,{dir:"right"})),new TextDecoder().decode(n)}function Te(e){return typeof e[0]=="string"?Oe(e):qp(e)}function qp(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Oe(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const Gp=/^(.*)\[([0-9]*)\]$/,Wf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Pa=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function St(e,t){if(e.length!==t.length)throw new zf({expectedLength:e.length,givenLength:t.length});const n=Hp({params:e,values:t}),r=Sa(n);return r.length===0?"0x":r}function Hp({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Ia({param:e[r],value:t[r]}));return n}function Ia({param:e,value:t}){const n=$a(e.type);if(n){const[r,s]=n;return Wp(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Jp(t,{param:e});if(e.type==="address")return Vp(t);if(e.type==="bool")return Qp(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Pa.exec(e.type)??[];return Zp(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Kp(t,{param:e});if(e.type==="string")return Yp(t);throw new kp(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Sa(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=Z(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(M(t+s,{size:32})),r.push(a),s+=Z(a)):n.push(a)}return Te([...n,...r])}function Vp(e){if(!ie(e))throw new Ie({address:e});return{dynamic:!1,encoded:Ht(e.toLowerCase())}}function Wp(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Df(e);if(!r&&e.length!==t)throw new Ap({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=Ia({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Sa(i);if(r){const a=M(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Te([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Te(i.map(({encoded:o})=>o))}}function Kp(e,{param:t}){const[,n]=t.type.split("bytes"),r=Z(e);if(!n){let s=e;return r%32!==0&&(s=Ht(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Te([Ht(M(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Cp({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ht(e,{dir:"right"})}}function Qp(e){if(typeof e!="boolean")throw new B(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ht(ma(e))}}function Zp(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Af({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:M(e,{size:32,signed:t})}}function Yp(e){const t=xn(e),n=Math.ceil(Z(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ht(En(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Te([Ht(M(Z(t),{size:32})),...r])}}function Jp(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=Ia({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Sa(r):Te(r.map(({encoded:s})=>s))}}function $a(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function fs(e,t){const n=typeof t=="string"?Le(t):t,r=Ea(n);if(Z(n)===0&&e.length>0)throw new us;if(Z(t)&&Z(t)<32)throw new _f({data:typeof t=="string"?t:ee(t),params:e,size:Z(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,u]=Wn(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function Wn(e,t,{staticPosition:n}){const r=$a(t.type);if(r){const[s,i]=r;return eb(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return sb(e,t,{staticPosition:n});if(t.type==="address")return Xp(e);if(t.type==="bool")return tb(e);if(t.type.startsWith("bytes"))return nb(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return rb(e,t);if(t.type==="string")return ib(e,{staticPosition:n});throw new Fp(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const qc=32,yo=32;function Xp(e){const t=e.readBytes(32);return[cs(ee(Vf(t,-20))),32]}function eb(e,t,{length:n,staticPosition:r}){if(!n){const o=gt(e.readBytes(yo)),a=r+o,c=a+qc;e.setPosition(a);const u=gt(e.readBytes(qc)),f=Fr(t);let d=0;const l=[];for(let h=0;h<u;++h){e.setPosition(c+(f?h*32:d));const[b,p]=Wn(e,t,{staticPosition:c});d+=p,l.push(b)}return e.setPosition(r+32),[l,32]}if(Fr(t)){const o=gt(e.readBytes(yo)),a=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[f]=Wn(e,t,{staticPosition:a});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Wn(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function tb(e){return[Up(e.readBytes(32),{size:32}),32]}function nb(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=gt(e.readBytes(32));e.setPosition(n+o);const a=gt(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[ee(c),32]}return[ee(e.readBytes(Number.parseInt(s,10),32)),32]}function rb(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Lp(s,{signed:n}):gt(s,{signed:n}),32]}function sb(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Fr(t)){const o=gt(e.readBytes(yo)),a=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+i);const[f,d]=Wn(e,u,{staticPosition:a});i+=d,s[r?c:u==null?void 0:u.name]=f}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,u]=Wn(e,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=u}return[s,i]}function ib(e,{staticPosition:t}){const n=gt(e.readBytes(32)),r=t+n;e.setPosition(r);const s=gt(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=Dp(Ee(i));return e.setPosition(t+32),[o,32]}function Fr(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Fr);const n=$a(e.type);return!!(n&&Fr({...e,type:n[1]}))}const ob={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Kf={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},ab={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},cb=e=>ae(yr(e));function ub(e){return cb(e)}function fb(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new B("Unable to normalize signature.");return s}const db=e=>{const t=typeof e=="string"?e:Z0(e);return fb(t)};function Qf(e){return ub(db(e))}const ds=e=>En(Qf(e),0,4);function Zf(e){const{abi:t,data:n}=e,r=En(n,0,4);if(r==="0x")throw new us;const i=[...t||[],Kf,ab].find(o=>o.type==="error"&&r===ds(Ze(o)));if(!i)throw new jf(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?fs(i.inputs,En(n,4)):void 0,errorName:i.name}}const si=Qf,Gc="/docs/contract/decodeEventLog";function Hs(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new Bp({docsPath:Gc});const c=t.find(p=>p.type==="event"&&o===si(Ze(p)));if(!(c&&"name"in c)||c.type!=="event")throw new Op(o,{docsPath:Gc});const{name:u,inputs:f}=c,d=f==null?void 0:f.some(p=>!("name"in p&&p.name)),l=d?[]:{},h=f.map((p,y)=>[p,y]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const[y,v]=h[p],I=a[p];if(!I)throw new xa({abiItem:c,param:y});l[d?v:y.name||v]=lb({param:y,value:I})}const b=f.filter(p=>!("indexed"in p&&p.indexed));if(b.length>0){if(n&&n!=="0x")try{const p=fs(b,n);if(p)if(d)for(let y=0;y<f.length;y++)l[y]=l[y]??p.shift();else for(let y=0;y<b.length;y++)l[b[y].name]=p[y]}catch(p){if(i)throw p instanceof _f||p instanceof qf?new Gs({abiItem:c,data:n,params:b,size:Z(n)}):p}else if(i)throw new Gs({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function lb({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(fs([e],t)||[])[0]}function hb(e){const{abi:t,data:n}=e,r=En(n,0,4),s=t.find(i=>i.type==="function"&&r===ds(Ze(i)));if(!s)throw new Rp(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?fs(s.inputs,En(n,4)):void 0}}function Fn(e){const{abi:t,args:n=[],name:r}=e,s=Ke(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?ds(a)===r:a.type==="event"?si(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in a&&a.inputs[f];return d?mo(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=Yf(a.inputs,o.inputs,n);if(u)throw new Mp({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function mo(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ie(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>mo(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>mo(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Yf(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Yf(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ie(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ie(n[r],{strict:!1}):!1)return o}}const _i="/docs/contract/decodeFunctionResult";function Nn(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=Fn({abi:t,args:n,name:r});if(!a)throw new ur(r,{docsPath:_i});i=a}if(i.type!=="function")throw new ur(void 0,{docsPath:_i});if(!i.outputs)throw new Lf(i.name,{docsPath:_i});const o=fs(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const zi="/docs/contract/encodeDeployData";function ii(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new $p({docsPath:zi});if(!("inputs"in s))throw new jc({docsPath:zi});if(!s.inputs||s.inputs.length===0)throw new jc({docsPath:zi});const i=St(s.inputs,n);return Oe([r,i])}const ji="/docs/contract/encodeErrorResult";function Hc(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Fn({abi:t,args:r,name:n});if(!c)throw new Lc(n,{docsPath:ji});s=c}if(s.type!=="error")throw new Lc(void 0,{docsPath:ji});const i=Ze(s),o=ds(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Tp(s.name,{docsPath:ji});a=St(s.inputs,r)}return Oe([o,a])}class pb extends B{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Vc="/docs/contract/encodeEventTopics";function ls(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Fn({abi:t,name:n});if(!u)throw new Uc(n,{docsPath:Vc});s=u}if(s.type!=="event")throw new Uc(void 0,{docsPath:Vc});const i=Ze(s),o=si(i);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),f=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];f.length>0&&(a=(u==null?void 0:u.map((d,l)=>Array.isArray(f[l])?f[l].map((h,b)=>Wc({param:d,value:f[l][b]})):typeof f[l]<"u"&&f[l]!==null?Wc({param:d,value:f[l]}):null))??[])}return[o,...a]}function Wc({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return ae(yr(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new pb(e.type);return St([e],[t])}const Kc="/docs/contract/encodeFunctionData";function bb(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=Fn({abi:t,args:n,name:r});if(!i)throw new ur(r,{docsPath:Kc});s=i}if(s.type!=="function")throw new ur(void 0,{docsPath:Kc});return{abi:[s],functionName:ds(Ze(s))}}function Re(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:bb(e)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?St(s.inputs,t??[]):void 0;return Oe([i,o??"0x"])}const Li="/docs/contract/encodeFunctionResult";function yb(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=Fn({abi:t,name:n});if(!o)throw new ur(n,{docsPath:Li});s=o}if(s.type!=="function")throw new ur(void 0,{docsPath:Li});if(!s.outputs)throw new Lf(s.name,{docsPath:Li});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Df(r)})();return St(s.outputs,i)}function V2(e,t){if(e.length!==t.length)throw new zf({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(Jf(s,i))}return Oe(n)}function Jf(e,t,n=!1){if(e==="address"){const o=t;if(!ie(o))throw new Ie({address:o});return mt(o.toLowerCase(),{size:n?32:null})}if(e==="string")return xn(t);if(e==="bytes")return t;if(e==="bool")return mt(ma(t),{size:n?32:1});const r=e.match(Pa);if(r){const[o,a,c="256"]=r,u=Number.parseInt(c,10)/8;return M(t,{size:n?32:u,signed:a==="int"})}const s=e.match(Wf);if(s){const[o,a]=s;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new Uf({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return mt(t,{dir:"right",size:n?32:null})}const i=e.match(Gp);if(i&&Array.isArray(t)){const[o,a]=i,c=[];for(let u=0;u<t.length;u++)c.push(Jf(a,t[u],!0));return c.length===0?"0x":Oe(c)}throw new _p(e)}const X=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Xf({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?X(t[i]):t[i]}`).join(", ")})`}function mr(e,t){if(!ie(e,{strict:!1}))throw new Ie({address:e});if(!ie(t,{strict:!1}))throw new Ie({address:t});return e.toLowerCase()===t.toLowerCase()}function Aa(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{var f;const a=t.filter(d=>d.type==="event"&&o.topics[0]===si(d));if(a.length===0)return null;let c,u;for(const d of a)try{c=Hs({...o,abi:[d],strict:!0}),u=d;break}catch{}if(!c&&!s){u=a[0];try{c=Hs({...o,abi:[u],strict:!1})}catch{const d=(f=u.inputs)==null?void 0:f.some(l=>!("name"in l&&l.name));return{...o,args:d?[]:{},eventName:u.name}}}return!c||!u||i&&!i.includes(c.eventName)||!mb({args:c.args,inputs:u.inputs,matchArgs:n})?null:{...c,...o}}).filter(Boolean)}function mb(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,a){try{return i.type==="address"?mr(o,a):i.type==="string"||i.type==="bytes"?ae(yr(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===i);return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):!1}function Pn(e,t="hex"){const n=ed(e),r=Ea(new Uint8Array(n.length));return n.encode(r),t==="hex"?ee(r.bytes):r.bytes}function ed(e){return Array.isArray(e)?gb(e.map(t=>ed(t))):wb(e)}function gb(e){const t=e.reduce((s,i)=>s+i.length,0),n=td(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function wb(e){const t=typeof e=="string"?Le(e):e,n=td(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function td(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new B("Length is too large.")}function vb(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=ae(Oe(["0x05",Pn([t?M(t):"0x",s,n?M(n):"0x"])]));return r==="bytes"?Le(i):i}async function xb({hash:e,signature:t}){const n=Ke(e)?e:Qe(e),{secp256k1:r}=await uf(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>bg);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,h=Number(l??d),b=Qc(h);return new r.Signature(Ce(u),Ce(f)).addRecoveryBit(b)}const o=Ke(t)?t:Qe(t);if(Z(o)!==65)throw new Error("invalid signature length");const a=je(`0x${o.slice(130)}`),c=Qc(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Qc(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function nd({hash:e,signature:t}){return Ip(await xb({hash:e,signature:t}))}async function oi(e){const{authorization:t,signature:n}=e;return nd({hash:vb(t),signature:n??t})}const rd={gwei:9,wei:18},Eb={ether:-9,wei:9},Pb={ether:-18,gwei:-9};function ai(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Ca(e,t="wei"){return ai(e,rd[t])}function Pe(e,t="wei"){return ai(e,Eb[t])}function hs(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Ib extends B{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class Sb extends B{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",hs(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class $b extends B{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Ab extends B{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var b;const h=hs({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Ca(l)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class sd extends B{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class id extends B{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class od extends B{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class Cb extends B{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function Ta(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>Le(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>ee(i))}function Ba(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Le(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>Le(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>ee(o))}function Tb(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}function Bb(e,t,n){return e&t^~e&n}function Ob(e,t,n){return e&t^e&n^t&n}class ad extends ga{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=ki(this.buffer)}update(t){cr(this),t=ni(t),Kt(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=ki(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){cr(this),Bf(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Qt(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Tb(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=ki(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,f[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Bt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ue=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Rb=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ot=new Uint32Array(64);class Mb extends ad{constructor(t=32){super(64,t,8,!1),this.A=Bt[0]|0,this.B=Bt[1]|0,this.C=Bt[2]|0,this.D=Bt[3]|0,this.E=Bt[4]|0,this.F=Bt[5]|0,this.G=Bt[6]|0,this.H=Bt[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Ot[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const l=Ot[d-15],h=Ot[d-2],b=Xe(l,7)^Xe(l,18)^l>>>3,p=Xe(h,17)^Xe(h,19)^h>>>10;Ot[d]=p+Ot[d-7]+b+Ot[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){const l=Xe(a,6)^Xe(a,11)^Xe(a,25),h=f+l+Bb(a,c,u)+Rb[d]+Ot[d]|0,p=(Xe(r,2)^Xe(r,13)^Xe(r,22))+Ob(r,s,i)|0;f=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,u,f)}roundClean(){Qt(Ot)}destroy(){this.set(0,0,0,0,0,0,0,0),Qt(this.buffer)}}const cd=Tf(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),kb=cd[0],Fb=cd[1],Rt=new Uint32Array(80),Mt=new Uint32Array(80);class Nb extends ad{constructor(t=64){super(128,t,16,!1),this.Ah=ue[0]|0,this.Al=ue[1]|0,this.Bh=ue[2]|0,this.Bl=ue[3]|0,this.Ch=ue[4]|0,this.Cl=ue[5]|0,this.Dh=ue[6]|0,this.Dl=ue[7]|0,this.Eh=ue[8]|0,this.El=ue[9]|0,this.Fh=ue[10]|0,this.Fl=ue[11]|0,this.Gh=ue[12]|0,this.Gl=ue[13]|0,this.Hh=ue[14]|0,this.Hl=ue[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:f,Fh:d,Fl:l,Gh:h,Gl:b,Hh:p,Hl:y}=this;return[t,n,r,s,i,o,a,c,u,f,d,l,h,b,p,y]}set(t,n,r,s,i,o,a,c,u,f,d,l,h,b,p,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=d|0,this.Fl=l|0,this.Gh=h|0,this.Gl=b|0,this.Hh=p|0,this.Hl=y|0}process(t,n){for(let w=0;w<16;w++,n+=4)Rt[w]=t.getUint32(n),Mt[w]=t.getUint32(n+=4);for(let w=16;w<80;w++){const m=Rt[w-15]|0,g=Mt[w-15]|0,E=jn(m,g,1)^jn(m,g,8)^Mc(m,g,7),x=Ln(m,g,1)^Ln(m,g,8)^kc(m,g,7),S=Rt[w-2]|0,$=Mt[w-2]|0,C=jn(S,$,19)^Ts(S,$,61)^Mc(S,$,6),T=Ln(S,$,19)^Bs(S,$,61)^kc(S,$,6),R=ep(x,T,Mt[w-7],Mt[w-16]),O=tp(R,E,C,Rt[w-7],Rt[w-16]);Rt[w]=O|0,Mt[w]=R|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:f,Eh:d,El:l,Fh:h,Fl:b,Gh:p,Gl:y,Hh:v,Hl:I}=this;for(let w=0;w<80;w++){const m=jn(d,l,14)^jn(d,l,18)^Ts(d,l,41),g=Ln(d,l,14)^Ln(d,l,18)^Bs(d,l,41),E=d&h^~d&p,x=l&b^~l&y,S=np(I,g,x,Fb[w],Mt[w]),$=rp(S,v,m,E,kb[w],Rt[w]),C=S|0,T=jn(r,s,28)^Ts(r,s,34)^Ts(r,s,39),R=Ln(r,s,28)^Bs(r,s,34)^Bs(r,s,39),O=r&i^r&a^i&a,U=s&o^s&c^o&c;v=p|0,I=y|0,p=h|0,y=b|0,h=d|0,b=l|0,{h:d,l}=ot(u|0,f|0,$|0,C|0),u=a|0,f=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const A=Jh(C,R,U);r=Xh(A,$,T,O),s=A|0}({h:r,l:s}=ot(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=ot(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=ot(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=ot(this.Dh|0,this.Dl|0,u|0,f|0),{h:d,l}=ot(this.Eh|0,this.El|0,d|0,l|0),{h,l:b}=ot(this.Fh|0,this.Fl|0,h|0,b|0),{h:p,l:y}=ot(this.Gh|0,this.Gl|0,p|0,y|0),{h:v,l:I}=ot(this.Hh|0,this.Hl|0,v|0,I|0),this.set(r,s,i,o,a,c,u,f,d,l,h,b,p,y,v,I)}roundClean(){Qt(Rt,Mt)}destroy(){Qt(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ud=wa(()=>new Mb),W2=wa(()=>new Nb),_b=ud;function zb(e,t){return _b(Ke(e,{strict:!1})?yr(e):e)}function jb(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=zb(t);return s.set([n],0),r==="bytes"?s:ee(s)}function fd(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(jb({commitment:i,to:r,version:n}));return s}const Zc=6,dd=32,Oa=4096,ld=dd*Oa,Yc=ld*Zc-1-1*Oa*Zc,hd=1;class Lb extends B{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class pd extends B{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Ub extends B{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Db extends B{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${hd}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function qb(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Le(e.data):e.data,r=Z(n);if(!r)throw new pd;if(r>Yc)throw new Lb({maxSize:Yc,size:r});const s=[];let i=!0,o=0;for(;i;){const a=Ea(new Uint8Array(ld));let c=0;for(;c<Oa;){const u=n.slice(o,o+(dd-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>ee(a.bytes))}function bd(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??qb({data:t,to:r}),i=e.commitments??Ta({blobs:s,kzg:n,to:r}),o=e.proofs??Ba({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}const ci=2n**256n-1n;class go extends B{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Gb extends B{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class Hb extends B{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class yd extends B{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class ui extends B{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class nn extends B{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(nn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class In extends B{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pe(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(In,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class wo extends B{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pe(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(wo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class vo extends B{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(vo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class xo extends B{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(xo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Eo extends B{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Eo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Po extends B{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Po,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Io extends B{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Io,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class So extends B{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(So,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class $o extends B{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty($o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Nr extends B{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Pe(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Pe(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Nr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ps extends B{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Vb(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!ie(s))throw new Ie({address:s});if(r<0)throw new ui({chainId:r})}Ra(e)}function Wb(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new pd;for(const n of t){const r=Z(n),s=je(En(n,0,1));if(r!==32)throw new Ub({hash:n,size:r});if(s!==hd)throw new Db({hash:n,version:s})}}Ra(e)}function Ra(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new ui({chainId:t});if(s&&!ie(s))throw new Ie({address:s});if(r&&r>ci)throw new In({maxFeePerGas:r});if(n&&r&&n>r)throw new Nr({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Kb(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new ui({chainId:t});if(i&&!ie(i))throw new Ie({address:i});if(n||s)throw new B("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>ci)throw new In({maxFeePerGas:r})}function Qb(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(i&&!ie(i))throw new Ie({address:i});if(typeof t<"u"&&t<=0)throw new ui({chainId:t});if(n||s)throw new B("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>ci)throw new In({maxFeePerGas:r})}function md(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Sb({transaction:e})}function fi(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new $b({storageKey:s[i]});if(!ie(r,{strict:!1}))throw new Ie({address:r});t.push([r,s])}return t}function K2(e,t){const n=md(e);return n==="eip1559"?Jb(e,t):n==="eip2930"?Xb(e,t):n==="eip4844"?Yb(e,t):n==="eip7702"?Zb(e,t):ey(e,t)}function Zb(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Vb(e);const l=fi(f),h=ty(n);return Oe(["0x04",Pn([M(r),i?M(i):"0x",u?M(u):"0x",c?M(c):"0x",s?M(s):"0x",o??"0x",a?M(a):"0x",d??"0x",l,h,...bs(e,t)])])}function Yb(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:f,data:d}=e;Wb(e);let l=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof l>"u"||typeof h>"u")){const w=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(E=>ee(E)),m=e.kzg,g=Ta({blobs:w,kzg:m});if(typeof l>"u"&&(l=fd({commitments:g})),typeof h>"u"){const E=Ba({blobs:w,commitments:g,kzg:m});h=bd({blobs:w,commitments:g,proofs:E})}}const b=fi(f),p=[M(n),s?M(s):"0x",u?M(u):"0x",c?M(c):"0x",r?M(r):"0x",i??"0x",o?M(o):"0x",d??"0x",b,a?M(a):"0x",l??[],...bs(e,t)],y=[],v=[],I=[];if(h)for(let w=0;w<h.length;w++){const{blob:m,commitment:g,proof:E}=h[w];y.push(m),v.push(g),I.push(E)}return Oe(["0x03",Pn(h?[p,y,v,I]:p)])}function Jb(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:f}=e;Ra(e);const d=fi(u),l=[M(n),s?M(s):"0x",c?M(c):"0x",a?M(a):"0x",r?M(r):"0x",i??"0x",o?M(o):"0x",f??"0x",d,...bs(e,t)];return Oe(["0x02",Pn(l)])}function Xb(e,t){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=e;Kb(e);const f=fi(c),d=[M(n),i?M(i):"0x",u?M(u):"0x",r?M(r):"0x",o??"0x",a?M(a):"0x",s??"0x",f,...bs(e,t)];return Oe(["0x01",Pn(d)])}function ey(e,t){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=e;Qb(e);let u=[i?M(i):"0x",c?M(c):"0x",r?M(r):"0x",o??"0x",a?M(a):"0x",s??"0x"];if(t){const f=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new Ib({v:t.v});return h})(),d=Ee(t.r),l=Ee(t.s);u=[...u,M(f),d==="0x00"?"0x":d,l==="0x00"?"0x":l]}else n>0&&(u=[...u,M(n),"0x","0x"]);return Pn(u)}function bs(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=Ee(n.r),o=Ee(n.s);return[typeof s=="number"?s?M(1):"0x":r===0n?"0x":r===1n?M(1):r===27n?"0x":M(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function ty(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...i}=n,o=n.address;t.push([r?Qe(r):"0x",o,s?Qe(s):"0x",...bs({},i)])}return t}async function ny({address:e,authorization:t,signature:n}){return mr(Gt(e),await oi({authorization:t,signature:n}))}const ry=e=>e,ys=e=>e;class mn extends B{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${ys(o)}`,t&&`Request body: ${X(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class Ma extends B{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${ys(r)}`,`Request body: ${X(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class Jc extends B{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ys(n)}`,`Request body: ${X(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const sy=-1;class Se extends B{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof Ma?t.code:n??sy}}class Me extends Se{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class _r extends Se{constructor(t){super(t,{code:_r.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(_r,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class zr extends Se{constructor(t){super(t,{code:zr.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(zr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class jr extends Se{constructor(t,{method:n}={}){super(t,{code:jr.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(jr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Lr extends Se{constructor(t){super(t,{code:Lr.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Sn extends Se{constructor(t){super(t,{code:Sn.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Zt extends Se{constructor(t){super(t,{code:Zt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Ur extends Se{constructor(t){super(t,{code:Ur.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Ur,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Vt extends Se{constructor(t){super(t,{code:Vt.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class fr extends Se{constructor(t){super(t,{code:fr.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class rn extends Se{constructor(t,{method:n}={}){super(t,{code:rn.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class dr extends Se{constructor(t){super(t,{code:dr.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Dr extends Se{constructor(t){super(t,{code:Dr.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class fe extends Me{constructor(t){super(t,{code:fe.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class qr extends Me{constructor(t){super(t,{code:qr.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Gr extends Me{constructor(t,{method:n}={}){super(t,{code:Gr.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Gr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Hr extends Me{constructor(t){super(t,{code:Hr.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Vr extends Me{constructor(t){super(t,{code:Vr.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class $n extends Me{constructor(t){super(t,{code:$n.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty($n,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class lr extends Me{constructor(t){super(t,{code:lr.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Wr extends Me{constructor(t){super(t,{code:Wr.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Kr extends Me{constructor(t){super(t,{code:Kr.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Kr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Qr extends Me{constructor(t){super(t,{code:Qr.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Qr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Zr extends Me{constructor(t){super(t,{code:Zr.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Zr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Yr extends Me{constructor(t){super(t,{code:Yr.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Yr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class hr extends Me{constructor(t){super(t,{code:hr.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class iy extends Se{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Os=new kn(8192);function oy(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Os.get(n))return Os.get(n);const r=e().finally(()=>Os.delete(n));return Os.set(n,r),r}async function Vs(e){return new Promise(t=>setTimeout(t,e))}function Jr(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const f=typeof t=="function"?t({count:a,error:u}):t;f&&await Vs(f),o({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}function ay(e,t={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(u))throw new rn(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new rn(new Error("method not supported"),{method:u});const f=s?xn(`${c}.${X(n)}`):void 0;return oy(()=>Jr(async()=>{try{return await e(n)}catch(l){const h=l;switch(h.code){case _r.code:throw new _r(h);case zr.code:throw new zr(h);case jr.code:throw new jr(h,{method:n.method});case Lr.code:throw new Lr(h);case Sn.code:throw new Sn(h);case Zt.code:throw new Zt(h);case Ur.code:throw new Ur(h);case Vt.code:throw new Vt(h);case fr.code:throw new fr(h);case rn.code:throw new rn(h,{method:n.method});case dr.code:throw new dr(h);case Dr.code:throw new Dr(h);case fe.code:throw new fe(h);case qr.code:throw new qr(h);case Gr.code:throw new Gr(h);case Hr.code:throw new Hr(h);case Vr.code:throw new Vr(h);case $n.code:throw new $n(h);case lr.code:throw new lr(h);case Wr.code:throw new Wr(h);case Kr.code:throw new Kr(h);case Qr.code:throw new Qr(h);case Zr.code:throw new Zr(h);case Yr.code:throw new Yr(h);case hr.code:throw new hr(h);case 5e3:throw new fe(h);default:throw l instanceof B?l:new iy(h)}}},{delay:({count:l,error:h})=>{var b;if(h&&h instanceof mn){const p=(b=h==null?void 0:h.headers)==null?void 0:b.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<l)*o},retryCount:a,shouldRetry:({error:l})=>cy(l)}),{enabled:s,id:f})}}function cy(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===dr.code||e.code===Sn.code:e instanceof mn&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ka=BigInt(0),Ao=BigInt(1);function ms(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Fa(e){if(!ms(e))throw new Error("Uint8Array expected")}function Xr(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Rs(e){const t=e.toString(16);return t.length&1?"0"+t:t}function gd(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?ka:BigInt("0x"+e)}const wd=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",uy=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function es(e){if(Fa(e),wd)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=uy[e[n]];return t}const ct={_0:48,_9:57,A:65,F:70,a:97,f:102};function Xc(e){if(e>=ct._0&&e<=ct._9)return e-ct._0;if(e>=ct.A&&e<=ct.F)return e-(ct.A-10);if(e>=ct.a&&e<=ct.f)return e-(ct.a-10)}function Ws(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(wd)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Xc(e.charCodeAt(i)),a=Xc(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function gn(e){return gd(es(e))}function vd(e){return Fa(e),gd(es(Uint8Array.from(e).reverse()))}function gs(e,t){return Ws(e.toString(16).padStart(t*2,"0"))}function xd(e,t){return gs(e,t).reverse()}function Fe(e,t,n){let r;if(typeof t=="string")try{r=Ws(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(ms(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Ks(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Fa(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const Ui=e=>typeof e=="bigint"&&ka<=e;function Na(e,t,n){return Ui(e)&&Ui(t)&&Ui(n)&&t<=e&&e<n}function Kn(e,t,n,r){if(!Na(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function fy(e){let t;for(t=0;e>ka;e>>=Ao,t+=1);return t}const di=e=>(Ao<<BigInt(e))-Ao,Di=e=>new Uint8Array(e),eu=e=>Uint8Array.from(e);function dy(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Di(e),s=Di(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=Di(0))=>{s=a(eu([0]),d),r=a(),d.length!==0&&(s=a(eu([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=a();const h=r.slice();l.push(h),d+=r.length}return Ks(...l)};return(d,l)=>{o(),c(d);let h;for(;!(h=l(u()));)c();return o(),h}}const ly={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ms(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function li(e,t,n={}){const r=(s,i,o)=>{const a=ly[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function tu(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const hy="0.1.1";function py(){return hy}let V=class Co extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof Co){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Co&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${py()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return Ed(this,t)}};function Ed(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Ed(e.cause,t):t?null:e}function ws(e,t){if(Hn(e)>t)throw new Oy({givenSize:Hn(e),maxSize:t})}const ut={zero:48,nine:57,A:65,F:70,a:97,f:102};function nu(e){if(e>=ut.zero&&e<=ut.nine)return e-ut.zero;if(e>=ut.A&&e<=ut.F)return e-(ut.A-10);if(e>=ut.a&&e<=ut.f)return e-(ut.a-10)}function by(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Ry({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function Pd(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function hi(e,t){if(Be(e)>t)throw new zy({givenSize:Be(e),maxSize:t})}function yy(e,t){if(typeof t=="number"&&t>0&&t>Be(e)-1)throw new Rd({offset:t,position:"start",size:Be(e)})}function my(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Be(e)!==n-t)throw new Rd({offset:n,position:"end",size:Be(e)})}function Id(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new jy({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const gy="#__bigint";function Sd(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+gy:s,n)}const wy=new TextDecoder,vy=new TextEncoder;function xy(e){return e instanceof Uint8Array?e:typeof e=="string"?$d(e):Ey(e)}function Ey(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function $d(e,t={}){const{size:n}=t;let r=e;n&&(hi(e,n),r=Cn(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=nu(s.charCodeAt(c++)),f=nu(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new V(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u*16+f}return o}function Py(e,t={}){const{size:n}=t,r=vy.encode(e);return typeof n=="number"?(ws(r,n),Iy(r,n)):r}function Iy(e,t){return by(e,{dir:"right",size:t})}function Hn(e){return e.length}function Sy(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function $y(e,t={}){const{size:n}=t;typeof n<"u"&&ws(e,n);const r=Je(e,t);return Td(r,t)}function Ay(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(ws(r,n),r=Ad(r)),r.length>1||r[0]>1)throw new By(r);return!!r[0]}function wt(e,t={}){const{size:n}=t;typeof n<"u"&&ws(e,n);const r=Je(e,t);return Bd(r,t)}function Cy(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(ws(r,n),r=Ty(r)),wy.decode(r)}function Ad(e){return Pd(e,{dir:"left"})}function Ty(e){return Pd(e,{dir:"right"})}class By extends V{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Oy=class extends V{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Ry=class extends V{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const My=new TextEncoder,ky=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fy(e,t={}){const{strict:n=!1}=t;if(!e)throw new ru(e);if(typeof e!="string")throw new ru(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new su(e);if(!e.startsWith("0x"))throw new su(e)}function Ye(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Ny(e){return e instanceof Uint8Array?Je(e):Array.isArray(e)?Je(new Uint8Array(e)):e}function Cd(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(hi(n,t.size),An(n,t.size)):n}function Je(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=ky[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(hi(r,t.size),Cn(r,t.size)):r}function ye(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const u=typeof e=="bigint"?"n":"";throw new Od({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?An(c,r):c}function _a(e,t={}){return Je(My.encode(e),t)}function An(e,t){return Id(e,{dir:"left",size:t})}function Cn(e,t){return Id(e,{dir:"right",size:t})}function st(e,t,n,r={}){const{strict:s}=r;yy(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&my(i,t,n),i}function Be(e){return Math.ceil((e.length-2)/2)}function Td(e,t={}){const{signed:n}=t;t.size&&hi(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function Bd(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Td(e,t))}function _y(e,t={}){const{strict:n=!1}=t;try{return Fy(e,{strict:n}),!0}catch{return!1}}class Od extends V{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class ru extends V{constructor(t){super(`Value \`${typeof t=="object"?Sd(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class su extends V{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class zy extends V{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Rd extends V{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class jy extends V{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Ly(e){return{address:e.address,amount:ye(e.amount),index:ye(e.index),validatorIndex:ye(e.validatorIndex)}}function Md(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:ye(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:ye(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:ye(e.gasLimit)},...typeof e.number=="bigint"&&{number:ye(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:ye(e.prevRandao)},...typeof e.time=="bigint"&&{time:ye(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Ly)}}}const Qs=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],To=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],kd=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Fd=[...kd,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Uy=[...kd,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],iu=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],ou=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Nd=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],au=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Y2=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],J2=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],Dy="0x82ad56cb",_d="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",qy="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Gy="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",za="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Hy extends B{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Vy extends B{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function cu(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function Wy(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=cu(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=cu(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}class zd extends B{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:h}){var y;const b=n?Q(n):void 0;let p=hs({from:b==null?void 0:b.address,to:d,value:typeof l<"u"&&`${Ca(l)} ${((y=s==null?void 0:s.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:f});h&&(p+=`
${Wy(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ja extends B{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Fn({abi:n,args:r,name:o}),u=c?Xf({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?Ze(c,{includeName:!0}):void 0,d=hs({address:s&&ry(s),function:f,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class Bo extends B{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=Zf({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=o;if(d==="Error")c=l[0];else if(d==="Panic"){const[h]=l;c=ob[h]}else{const h=f?Ze(f,{includeName:!0}):void 0,b=f&&l?Xf({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",b&&b!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(f){i=f}else s&&(c=s);let u;i instanceof jf&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class Ky extends B{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Qy extends B{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class pi extends B{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function gr({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new go({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new go({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function bi(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof B?e.walk(s=>(s==null?void 0:s.code)===nn.code):e;return r instanceof B?new nn({cause:e,message:r.details}):nn.nodeMessage.test(n)?new nn({cause:e,message:e.details}):In.nodeMessage.test(n)?new In({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):wo.nodeMessage.test(n)?new wo({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):vo.nodeMessage.test(n)?new vo({cause:e,nonce:t==null?void 0:t.nonce}):xo.nodeMessage.test(n)?new xo({cause:e,nonce:t==null?void 0:t.nonce}):Eo.nodeMessage.test(n)?new Eo({cause:e,nonce:t==null?void 0:t.nonce}):Po.nodeMessage.test(n)?new Po({cause:e}):Io.nodeMessage.test(n)?new Io({cause:e,gas:t==null?void 0:t.gas}):So.nodeMessage.test(n)?new So({cause:e,gas:t==null?void 0:t.gas}):$o.nodeMessage.test(n)?new $o({cause:e}):Nr.nodeMessage.test(n)?new Nr({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new ps({cause:e})}function jd(e,{docsPath:t,...n}){const r=(()=>{const s=bi(e,n);return s instanceof ps?e:s})();return new zd(r,{docsPath:t,...n})}function wr(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}function La(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,i)=>{const o=t(s,i);if(n)for(const a of n)delete o[a];return{...o,...r(s,i)}},type:e})}const Zy={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Yt(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Yy(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>ee(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=M(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=M(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=M(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=M(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=M(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=M(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Zy[e.type]),typeof e.value<"u"&&(n.value=M(e.value)),n}function Yy(e){return e.map(t=>({address:t.address,r:t.r?M(BigInt(t.r)):t.r,s:t.s?M(BigInt(t.s)):t.s,chainId:M(t.chainId),nonce:M(t.nonce),...typeof t.yParity<"u"?{yParity:M(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:M(t.v)}:{}}))}function Ua(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const qi=new Map;function Ld({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const f=c();o();const d=f.map(({args:l})=>l);d.length!==0&&e(d).then(l=>{s&&Array.isArray(l)&&l.sort(s);for(let h=0;h<f.length;h++){const{resolve:b}=f[h];b==null||b([l[h],l])}}).catch(l=>{for(let h=0;h<f.length;h++){const{reject:b}=f[h];b==null||b(l)}})},o=()=>qi.delete(t),a=()=>c().map(({args:f})=>f),c=()=>qi.get(t)||[],u=f=>qi.set(t,[...c(),f]);return{flush:o,async schedule(f){const{promise:d,resolve:l,reject:h}=Ua();return(n==null?void 0:n([...a(),f]))&&i(),c().length>0?(u({args:f,resolve:l,reject:h}),d):(u({args:f,resolve:l,reject:h}),setTimeout(i,r),d)}}}function uu(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Bc({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Bc({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Jy(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=M(t)),n!==void 0&&(o.nonce=M(n)),r!==void 0&&(o.state=uu(r)),s!==void 0){if(o.state)throw new Vy;o.stateDiff=uu(s)}return o}function Da(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ie(n,{strict:!1}))throw new Ie({address:n});if(t[n])throw new Hy({address:n});t[n]=Jy(r)}return t}function $t(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:s}=e,i=t?Q(t):void 0;if(i&&!ie(i.address))throw new Ie({address:i.address});if(s&&!ie(s))throw new Ie({address:s});if(n&&n>ci)throw new In({maxFeePerGas:n});if(r&&n&&r>n)throw new Nr({maxFeePerGas:n,maxPriorityFeePerGas:r})}async function vr(e,t){var O,U,A,k;const{account:n=e.account,authorizationList:r,batch:s=!!((O=e.batch)!=null&&O.multicall),blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:h,gas:b,gasPrice:p,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:I,nonce:w,to:m,value:g,stateOverride:E,...x}=t,S=n?Q(n):void 0;if(f&&(l||h))throw new B("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&m)throw new B("Cannot provide both `code` & `to` as parameters.");const $=f&&d,C=l&&h&&m&&d,T=$||C,R=$?Ud({code:f,data:d}):C?t1({data:d,factory:l,factoryData:h,to:m}):d;try{$t(t);const F=(typeof i=="bigint"?M(i):void 0)||o,N=u?Md(u):void 0,L=Da(E),q=(k=(A=(U=e.chain)==null?void 0:U.formatters)==null?void 0:A.transactionRequest)==null?void 0:k.format,de=(q||Yt)({...wr(x,{format:q}),accessList:a,account:S,authorizationList:r,blobs:c,data:R,gas:b,gasPrice:p,maxFeePerBlobGas:y,maxFeePerGas:v,maxPriorityFeePerGas:I,nonce:w,to:T?void 0:m,value:g},"call");if(s&&Xy({request:de})&&!L&&!N)try{return await e1(e,{...de,blockNumber:i,blockTag:o})}catch(le){if(!(le instanceof yd)&&!(le instanceof go))throw le}const ce=(()=>{const le=[de,F];return L&&N?[...le,L,N]:L?[...le,L]:N?[...le,{},N]:le})(),te=await e.request({method:"eth_call",params:ce});return te==="0x"?{data:void 0}:{data:te}}catch(z){const F=n1(z),{offchainLookup:N,offchainLookupSignature:L}=await uf(async()=>{const{offchainLookup:q,offchainLookupSignature:Y}=await Promise.resolve().then(()=>u1);return{offchainLookup:q,offchainLookupSignature:Y}},void 0);if(e.ccipRead!==!1&&(F==null?void 0:F.slice(0,10))===L&&m)return{data:await N(e,{data:F,to:m})};throw T&&(F==null?void 0:F.slice(0,10))==="0x101bb98d"?new Qy({factory:l}):jd(z,{...t,account:S,chain:e.chain})}}function Xy({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Dy)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function e1(e,t){var p;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((p=e.batch)==null?void 0:p.multicall)=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return gr({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new yd})(),d=(typeof i=="bigint"?M(i):void 0)||o,{schedule:l}=Ld({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(y){return y.reduce((I,{data:w})=>I+(w.length-2),0)>n*2},fn:async y=>{const v=y.map(m=>({allowFailure:!0,callData:m.data,target:m.to})),I=Re({abi:Qs,args:[v],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{...u===null?{data:Ud({code:za,data:I})}:{to:u,data:I}},d]});return Nn({abi:Qs,args:[v],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:h,success:b}]=await l({data:a,to:c});if(!b)throw new pi({data:h});return h==="0x"?{data:void 0}:{data:h}}function Ud(e){const{code:t,data:n}=e;return ii({abi:Ef(["constructor(bytes, bytes)"]),bytecode:_d,args:[t,n]})}function t1(e){const{data:t,factory:n,factoryData:r,to:s}=e;return ii({abi:Ef(["constructor(address, bytes, address, bytes)"]),bytecode:qy,args:[s,t,n,r]})}function n1(e){var n;if(!(e instanceof B))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}class r1 extends B{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:i,urls:o}){var a;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${ys(c)}`)],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}}class s1 extends B{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${ys(n)}`,`Response: ${X(t)}`],name:"OffchainLookupResponseMalformedError"})}}class i1 extends B{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const vs="x-batch-gateway:true";async function Dd(e){const{data:t,ccipRequest:n}=e,{args:[r]}=hb({abi:To,data:t}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(vs)?await Dd({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=o1(c)}})),yb({abi:To,functionName:"query",result:[s,i]})}function o1(e){return e.name==="HttpRequestError"&&e.status?Hc({abi:To,errorName:"HttpError",args:[e.status,e.shortMessage]}):Hc({abi:[Kf],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}const a1="0x556f1830",qd={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function c1(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:i}=Zf({data:r,abi:[qd]}),[o,a,c,u,f]=i,{ccipRead:d}=e,l=d&&typeof(d==null?void 0:d.request)=="function"?d.request:Gd;try{if(!mr(s,o))throw new i1({sender:o,to:s});const h=a.includes(vs)?await Dd({data:c,ccipRequest:l}):await l({data:c,sender:o,urls:a}),{data:b}=await vr(e,{blockNumber:t,blockTag:n,data:Te([u,St([{type:"bytes"},{type:"bytes"}],[h,f])]),to:s});return b}catch(h){throw new r1({callbackSelector:u,cause:h,data:r,extraData:f,sender:o,urls:a})}}async function Gd({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let i=0;i<n.length;i++){const o=n[i],a=o.includes("{data}")?"GET":"POST",c=a==="POST"?{data:e,sender:t}:void 0,u=a==="POST"?{"Content-Type":"application/json"}:{};try{const f=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(c),headers:u,method:a});let d;if((s=f.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await f.json()).data:d=await f.text(),!f.ok){r=new mn({body:c,details:d!=null&&d.error?X(d.error):f.statusText,headers:f.headers,status:f.status,url:o});continue}if(!Ke(d)){r=new s1({result:d,url:o});continue}return d}catch(f){r=new mn({body:c,details:f.message,url:o})}}throw r}const u1=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Gd,offchainLookup:c1,offchainLookupAbiItem:qd,offchainLookupSignature:a1},Symbol.toStringTag,{value:"Module"}));function qa({chain:e,currentChainId:t}){if(!e)throw new Hb;if(t!==e.id)throw new Gb({chain:e,currentChainId:t})}function X2(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const f1=3;function Tn(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=e instanceof pi?e:e instanceof B?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=a,h=e instanceof us?new Ky({functionName:i}):[f1,Sn.code].includes(c)&&(u||f||d||l)||c===Zt.code&&f==="execution reverted"&&u?new Bo({abi:t,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof Ma?f:l??d}):e;return new ja(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}class d1 extends B{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){var b;const h=hs({from:n==null?void 0:n.address,to:d,value:typeof l<"u"&&`${Ca(l)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function l1(e,{docsPath:t,...n}){const r=(()=>{const s=bi(e,n);return s instanceof ps?e:s})();return new d1(r,{docsPath:t,...n})}function yi(e,{docsPath:t,...n}){const r=(()=>{const s=bi(e,n);return s instanceof ps?e:s})();return new Ab(r,{docsPath:t,...n})}const Hd={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function mi(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?je(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?je(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Hd[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=h1(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const ev=La("transaction",mi);function h1(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Ga(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:mi(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const tv=La("block",Ga);function xt(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}const Vd={"0x0":"reverted","0x1":"success"};function Ha(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>xt(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?je(e.transactionIndex):null,status:e.status?Vd[e.status]:null,type:e.type?Hd[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const nv=La("transactionReceipt",Ha);function j(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}async function Va(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?M(r):n]},{dedupe:!!r});return je(s)}function rv(e){const{source:t}=e,n=new Map,r=new kn(8192),s=new Map,i=({address:o,chainId:a})=>`${o}.${a}`;return{async consume({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a}),f=this.get({address:o,chainId:a,client:c});this.increment({address:o,chainId:a});const d=await f;return await t.set({address:o,chainId:a},d),r.set(u,d),d},async increment({address:o,chainId:a}){const c=i({address:o,chainId:a}),u=n.get(c)??0;n.set(c,u+1)},async get({address:o,chainId:a,client:c}){const u=i({address:o,chainId:a});let f=s.get(u);return f||(f=(async()=>{try{const l=await t.get({address:o,chainId:a,client:c}),h=r.get(u)??0;return h>0&&l<=h?h+1:(r.delete(u),l)}finally{this.reset({address:o,chainId:a})}})(),s.set(u,f)),(n.get(u)??0)+await f},reset({address:o,chainId:a}){const c=i({address:o,chainId:a});n.delete(c),s.delete(c)}}}function Wd(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():i(t)},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function p1(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const fu=p1();function b1(e,t={}){return{async request(n){var l;const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:f,signal:d}=c;try{const h=await Wd(async({signal:p})=>{const y={...c,body:Array.isArray(r)?X(r.map(m=>({jsonrpc:"2.0",id:m.id??fu.take(),...m}))):X({jsonrpc:"2.0",id:r.id??fu.take(),...r}),headers:{"Content-Type":"application/json",...u},method:f||"POST",signal:d||(a>0?p:null)},v=new Request(e,y),I=await(i==null?void 0:i(v,y))??{...y,url:e};return await s(I.url??e,I)},{errorInstance:new Jc({body:r,url:e}),timeout:a,signal:!0});o&&await o(h);let b;if((l=h.headers.get("Content-Type"))!=null&&l.startsWith("application/json"))b=await h.json();else{b=await h.text();try{b=JSON.parse(b||"{}")}catch(p){if(h.ok)throw p;b={error:b}}}if(!h.ok)throw new mn({body:r,details:X(b.error)||h.statusText,headers:h.headers,status:h.status,url:e});return b}catch(h){throw h instanceof mn||h instanceof Jc?h:new mn({body:r,cause:h,url:e})}}}}const y1=`Ethereum Signed Message:
`;function m1(e){const t=typeof e=="string"?xn(e):typeof e.raw=="string"?e.raw:ee(e.raw),n=xn(`${y1}${Z(t)}`);return Te([n,t])}function Kd(e,t){return ae(m1(e),t)}class g1 extends B{constructor({domain:t}){super(`Invalid domain "${X(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class w1 extends B{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class v1 extends B{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function x1(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(c,u)=>{const f={...u};for(const d of c){const{name:l,type:h}=d;h==="address"&&(f[l]=f[l].toLowerCase())}return f},o=s.EIP712Domain?t?i(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return X({domain:o,message:a,primaryType:r,types:s})}function Qd(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:u,type:f}=c,d=a[u],l=f.match(Pa);if(l&&(typeof d=="number"||typeof d=="bigint")){const[p,y,v]=l;M(d,{signed:y==="int",size:Number.parseInt(v,10)/8})}if(f==="address"&&typeof d=="string"&&!ie(d))throw new Ie({address:d});const h=f.match(Wf);if(h){const[p,y]=h;if(y&&Z(d)!==Number.parseInt(y,10))throw new Uf({expectedSize:Number.parseInt(y,10),givenSize:Z(d)})}const b=s[f];b&&(E1(f),i(b,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new g1({domain:t});i(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new w1({primaryType:r,types:s})}function Zd({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function E1(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new v1({type:e})}function P1(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Zd({domain:t}),...e.types};Qd({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(I1({domain:t,types:s})),r!=="EIP712Domain"&&i.push(Yd({data:n,primaryType:r,types:s})),ae(Te(i))}function I1({domain:e,types:t}){return Yd({data:e,primaryType:"EIP712Domain",types:t})}function Yd({data:e,primaryType:t,types:n}){const r=Jd({data:e,primaryType:t,types:n});return ae(r)}function Jd({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[S1({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=el({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return St(r,s)}function S1({primaryType:e,types:t}){const n=Qe($1({primaryType:e,types:t}));return ae(n)}function $1({primaryType:e,types:t}){let n="";const r=Xd({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function Xd({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])Xd({primaryType:i.type,types:t},n);return n}function el({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},ae(Jd({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},ae(r)];if(n==="string")return[{type:"bytes32"},ae(Qe(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>el({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},ae(St(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}const A1="0x6492649264926492649264926492649264926492649264926492649264926492",C1="1.2.3";let $e=class Oo extends Error{constructor(t,n={}){var o;const r=n.cause instanceof Oo?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Oo&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${C1}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function At(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const tl=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,nl=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,rl=/^\(.+?\).*?$/,du=/^tuple(?<array>(\[(\d*)\])*)$/;function Ro(e){let t=e.type;if(du.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=Ro(i),s<n-1&&(t+=", ")}const r=At(du,e.type);return t+=`)${(r==null?void 0:r.array)||""}`,Ro({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Gn(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Ro(s),r!==n-1&&(t+=", ")}return t}function Mo(e){var t;return e.type==="function"?`function ${e.name}(${Gn(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Gn(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Gn(e.inputs)})`:e.type==="error"?`error ${e.name}(${Gn(e.inputs)})`:e.type==="constructor"?`constructor(${Gn(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const sl=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function T1(e){return sl.test(e)}function B1(e){return At(sl,e)}const il=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function O1(e){return il.test(e)}function R1(e){return At(il,e)}const ol=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function M1(e){return ol.test(e)}function k1(e){return At(ol,e)}const al=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Wa(e){return al.test(e)}function F1(e){return At(al,e)}const cl=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function N1(e){return cl.test(e)}function _1(e){return At(cl,e)}const ul=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function z1(e){return ul.test(e)}function j1(e){return At(ul,e)}const L1=/^receive\(\) external payable$/;function U1(e){return L1.test(e)}const lu=new Set(["memory","indexed","storage","calldata"]),D1=new Set(["indexed"]),ko=new Set(["calldata","memory","storage"]);class q1 extends $e{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class G1 extends $e{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class H1 extends $e{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class V1 extends $e{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class W1 extends $e{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class K1 extends $e{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Q1 extends $e{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Z1 extends $e{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Y1 extends $e{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class xr extends $e{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class J1 extends $e{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class X1 extends $e{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class em extends $e{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class tm extends $e{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function nm(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const Gi=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function hu(e,t={}){if(M1(e))return rm(e,t);if(O1(e))return sm(e,t);if(T1(e))return im(e,t);if(N1(e))return om(e,t);if(z1(e))return am(e);if(U1(e))return{type:"receive",stateMutability:"payable"};throw new J1({signature:e})}function rm(e,t={}){const n=k1(e);if(!n)throw new xr({signature:e,type:"function"});const r=Ae(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Et(r[a],{modifiers:ko,structs:t,type:"function"}));const o=[];if(n.returns){const a=Ae(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(Et(a[u],{modifiers:ko,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function sm(e,t={}){const n=R1(e);if(!n)throw new xr({signature:e,type:"event"});const r=Ae(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Et(r[o],{modifiers:D1,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function im(e,t={}){const n=B1(e);if(!n)throw new xr({signature:e,type:"error"});const r=Ae(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Et(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function om(e,t={}){const n=_1(e);if(!n)throw new xr({signature:e,type:"constructor"});const r=Ae(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Et(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function am(e){const t=j1(e);if(!t)throw new xr({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const cm=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,um=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,fm=/^u?int$/;function Et(e,t){var d,l;const n=nm(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(Gi.has(n))return Gi.get(n);const r=rl.test(e),s=At(r?um:cm,e);if(!s)throw new W1({param:e});if(s.name&&lm(s.name))throw new K1({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=Ae(s.type),b=[],p=h.length;for(let y=0;y<p;y++)b.push(Et(h[y],{structs:a}));u={components:b}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(fm.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!fl(c))throw new H1({type:c});if(s.modifier){if(!((l=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&l.call(d,s.modifier)))throw new Q1({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(ko.has(s.modifier)&&!hm(c,!!s.array))throw new Z1({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...i,...o,...u};return Gi.set(n,f),f}function Ae(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?Ae(a,[...t,n.trim()]):Ae(a,t,`${n}${o}`,r);case"(":return Ae(a,t,`${n}${o}`,r+1);case")":return Ae(a,t,`${n}${o}`,r-1);default:return Ae(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new tm({current:n,depth:r});return t.push(n.trim()),t}function fl(e){return e==="address"||e==="bool"||e==="function"||e==="string"||tl.test(e)||nl.test(e)}const dm=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function lm(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||tl.test(e)||nl.test(e)||dm.test(e)}function hm(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function dl(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!Wa(a))continue;const c=F1(a);if(!c)throw new xr({signature:a,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const b=u[l].trim();if(!b)continue;const p=Et(b,{type:"struct"});f.push(p)}if(!f.length)throw new X1({signature:a});t[c.name]=f}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=ll(c,t)}return r}const pm=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ll(e=[],t={},n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(rl.test(o.type))r.push(o);else{const c=At(pm,o.type);if(!(c!=null&&c.type))throw new Y1({abiParameter:o});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new em({type:f});r.push({...o,type:`tuple${u??""}`,components:ll(t[f],t,new Set([...n,f]))})}else if(fl(f))r.push(o);else throw new G1({type:f})}}return r}function pu(e){let t;if(typeof e=="string")t=hu(e);else{const n=dl(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!Wa(i)){t=hu(i,n);break}}}if(!t)throw new q1({signature:e});return t}function bu(e){const t=[];if(typeof e=="string"){const n=Ae(e),r=n.length;for(let s=0;s<r;s++)t.push(Et(n[s],{modifiers:lu}))}else{const n=dl(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(Wa(i))continue;const o=Ae(i),a=o.length;for(let c=0;c<a;c++)t.push(Et(o[c],{modifiers:lu,structs:n}))}}if(t.length===0)throw new V1({params:e});return t}class bm extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const ym={checksum:new bm(8192)},Hi=ym.checksum;function hl(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Nf(xy(e));return n==="Bytes"?r:Je(r)}const mm=/^0x[a-fA-F0-9]{40}$/;function gi(e,t={}){const{strict:n=!0}=t;if(!mm.test(e))throw new yu({address:e,cause:new gm});if(n){if(e.toLowerCase()===e)return;if(pl(e)!==e)throw new yu({address:e,cause:new wm})}}function pl(e){if(Hi.has(e))return Hi.get(e);gi(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=hl(Py(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return Hi.set(e,s),s}function Fo(e,t={}){const{strict:n=!0}=t??{};try{return gi(e,{strict:n}),!0}catch{return!1}}class yu extends V{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class gm extends V{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class wm extends V{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const vm=/^(.*)\[([0-9]*)\]$/,xm=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bl=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,mu=2n**256n-1n;function Qn(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=Za(t.type);if(i){const[o,a]=i;return Pm(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return Am(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return Em(e,{checksum:r});if(t.type==="bool")return Im(e);if(t.type.startsWith("bytes"))return Sm(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return $m(e,t);if(t.type==="string")return Cm(e,{staticPosition:s});throw new Ja(t.type)}const gu=32,No=32;function Em(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=>n?pl(i):i)(Je(Sy(r,-20))),32]}function Pm(e,t,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const c=wt(e.readBytes(No)),u=i+c,f=u+gu;e.setPosition(u);const d=wt(e.readBytes(gu)),l=ts(t);let h=0;const b=[];for(let p=0;p<d;++p){e.setPosition(f+(l?p*32:h));const[y,v]=Qn(e,t,{checksumAddress:r,staticPosition:f});h+=v,b.push(y)}return e.setPosition(i+32),[b,32]}if(ts(t)){const c=wt(e.readBytes(No)),u=i+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=Qn(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(i+32),[f,32]}let o=0;const a=[];for(let c=0;c<s;++c){const[u,f]=Qn(e,t,{checksumAddress:r,staticPosition:i+o});o+=f,a.push(u)}return[a,o]}function Im(e){return[Ay(e.readBytes(32),{size:32}),32]}function Sm(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=wt(e.readBytes(32));e.setPosition(n+o);const a=wt(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Je(c),32]}return[Je(e.readBytes(Number.parseInt(s,10),32)),32]}function $m(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?$y(s,{signed:n}):wt(s,{signed:n}),32]}function Am(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=t.components.length===0||t.components.some(({name:c})=>!c),o=i?[]:{};let a=0;if(ts(t)){const c=wt(e.readBytes(No)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+a);const[l,h]=Qn(e,d,{checksumAddress:r,staticPosition:u});a+=h,o[i?f:d==null?void 0:d.name]=l}return e.setPosition(s+32),[o,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=Qn(e,u,{checksumAddress:r,staticPosition:s});o[i?c:u==null?void 0:u.name]=f,a+=d}return[o,a]}function Cm(e,{staticPosition:t}){const n=wt(e.readBytes(32)),r=t+n;e.setPosition(r);const s=wt(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=Cy(Ad(i));return e.setPosition(t+32),[o,32]}function Tm({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Ka({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Ka({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Za(r.type);if(s){const[i,o]=s;return Om(n,{checksumAddress:e,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return Nm(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Bm(n,{checksum:e});if(r.type==="bool")return Mm(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=bl.exec(r.type)??[];return km(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return Rm(n,{type:r.type});if(r.type==="string")return Fm(n);throw new Ja(r.type)}function Qa(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=Be(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(ye(t+s,{size:32})),r.push(a),s+=Be(a)):n.push(a)}return Ye(...n,...r)}function Bm(e,t){const{checksum:n=!1}=t;return gi(e,{strict:n}),{dynamic:!1,encoded:An(e.toLowerCase())}}function Om(e,t){const{checksumAddress:n,length:r,parameter:s}=t,i=r===null;if(!Array.isArray(e))throw new Hm(e);if(!i&&e.length!==r)throw new Gm({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const u=Ka({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(o=!0),a.push(u)}if(i||o){const c=Qa(a);if(i){const u=ye(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Ye(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:Ye(...a.map(({encoded:c})=>c))}}function Rm(e,{type:t}){const[,n]=t.split("bytes"),r=Be(e);if(!n){let s=e;return r%32!==0&&(s=Cn(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:Ye(An(ye(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new ml({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Cn(e)}}function Mm(e){if(typeof e!="boolean")throw new V(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:An(Cd(e))}}function km(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Od({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:ye(e,{size:32,signed:t})}}function Fm(e){const t=_a(e),n=Math.ceil(Be(t)/32),r=[];for(let s=0;s<n;s++)r.push(Cn(st(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:Ye(Cn(ye(Be(t),{size:32})),...r)}}function Nm(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,u=Ka({checksumAddress:n,parameter:a,value:e[c]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Qa(i):Ye(...i.map(({encoded:o})=>o))}}function Za(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function ts(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(ts);const n=Za(e.type);return!!(n&&ts({...e,type:n[1]}))}const _m={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Lm({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new jm({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new wu({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new wu({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function zm(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(_m);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class wu extends V{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class jm extends V{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Lm extends V{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Um(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof t=="string"?$d(t):t,o=zm(i);if(Hn(i)===0&&e.length>0)throw new qm;if(Hn(i)&&Hn(i)<32)throw new Dm({data:typeof t=="string"?t:Je(t),parameters:e,size:Hn(i)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];o.setPosition(a);const[d,l]=Qn(o,f,{checksumAddress:s,staticPosition:0});a+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function Ya(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new gl({expectedLength:e.length,givenLength:t.length});const s=Tm({checksumAddress:r,parameters:e,values:t}),i=Qa(s);return i.length===0?"0x":i}function _o(e,t){if(e.length!==t.length)throw new gl({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(_o.encode(s,i))}return Ye(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return gi(c),An(c.toLowerCase(),s?32:0)}if(n==="string")return _a(r);if(n==="bytes")return r;if(n==="bool")return An(Cd(r),s?32:1);const i=n.match(bl);if(i){const[c,u,f="256"]=i,d=Number.parseInt(f,10)/8;return ye(r,{size:s?32:d,signed:u==="int"})}const o=n.match(xm);if(o){const[c,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new ml({expectedSize:Number.parseInt(u,10),value:r});return Cn(r,s?32:0)}const a=n.match(vm);if(a&&Array.isArray(r)){const[c,u]=a,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":Ye(...f)}throw new Ja(n)}e.encode=t})(_o||(_o={}));function yl(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?bu(e):e}class Dm extends V{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Gn(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class qm extends V{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Gm extends V{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class ml extends V{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Be(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class gl extends V{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Hm extends V{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Ja extends V{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class wl extends ga{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ip(t);const r=ni(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Qt(i)}update(t){return cr(this),this.iHash.update(t),this}digestInto(t){cr(this),Kt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const vl=(e,t,n)=>new wl(e,t).update(n).digest();vl.create=(e,t)=>new wl(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xe=BigInt(0),me=BigInt(1),sn=BigInt(2),Vm=BigInt(3),xl=BigInt(4),El=BigInt(5),Pl=BigInt(8);function ve(e,t){const n=e%t;return n>=xe?n:t+n}function ke(e,t,n){let r=e;for(;t-- >xe;)r*=r,r%=n;return r}function zo(e,t){if(e===xe)throw new Error("invert: expected non-zero number");if(t<=xe)throw new Error("invert: expected positive modulus, got "+t);let n=ve(e,t),r=t,s=xe,i=me;for(;n!==xe;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==me)throw new Error("invert: does not exist");return ve(s,t)}function Il(e,t){const n=(e.ORDER+me)/xl,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Wm(e,t){const n=(e.ORDER-El)/Pl,r=e.mul(t,sn),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,sn),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Km(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-me,n=0;for(;t%sn===xe;)t/=sn,n++;let r=sn;const s=Xa(e);for(;vu(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Il;let i=s.pow(r,t);const o=(t+me)/sn;return function(c,u){if(c.is0(u))return u;if(vu(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,i),l=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let b=1,p=c.sqr(l);for(;!c.eql(p,c.ONE);)if(b++,p=c.sqr(p),b===f)throw new Error("Cannot find square root");const y=me<<BigInt(f-b-1),v=c.pow(d,y);f=b,d=c.sqr(v),l=c.mul(l,d),h=c.mul(h,v)}return h}}function Qm(e){return e%xl===Vm?Il:e%Pl===El?Wm:Km(e)}const Zm=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ym(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Zm.reduce((r,s)=>(r[s]="function",r),t);return li(e,n)}function Jm(e,t,n){if(n<xe)throw new Error("invalid exponent, negatives unsupported");if(n===xe)return e.ONE;if(n===me)return t;let r=e.ONE,s=t;for(;n>xe;)n&me&&(r=e.mul(r,s)),s=e.sqr(s),n>>=me;return r}function Sl(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function vu(e,t){const n=(e.ORDER-me)/sn,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function $l(e,t){t!==void 0&&kr(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Xa(e,t,n=!1,r={}){if(e<=xe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=$l(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:di(s),ZERO:xe,ONE:me,create:c=>ve(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return xe<=c&&c<e},is0:c=>c===xe,isOdd:c=>(c&me)===me,neg:c=>ve(-c,e),eql:(c,u)=>c===u,sqr:c=>ve(c*c,e),add:(c,u)=>ve(c+u,e),sub:(c,u)=>ve(c-u,e),mul:(c,u)=>ve(c*u,e),pow:(c,u)=>Jm(a,c,u),div:(c,u)=>ve(c*zo(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>zo(c,e),sqrt:r.sqrt||(c=>(o||(o=Qm(e)),o(a,c))),toBytes:c=>n?xd(c,i):gs(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?vd(c):gn(c)},invertBatch:c=>Sl(a,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(a)}function Al(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Cl(e){const t=Al(e);return t+Math.ceil(t/2)}function Xm(e,t,n=!1){const r=e.length,s=Al(t),i=Cl(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?vd(e):gn(e),a=ve(o,t-me)+me;return n?xd(a,s):gs(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xu=BigInt(0),jo=BigInt(1);function Vi(e,t){const n=t.negate();return e?n:t}function Tl(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Wi(e,t){Tl(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=di(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Eu(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=jo);const u=t*r,f=u+Math.abs(a)-1,d=a===0,l=a<0,h=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:u}}function eg(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function tg(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ki=new WeakMap,Bl=new WeakMap;function Qi(e){return Bl.get(e)||1}function ng(e,t){return{constTimeNegate:Vi,hasPrecomputes(n){return Qi(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>xu;)r&jo&&(s=s.add(i)),i=i.double(),r>>=jo;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Wi(r,t),o=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let f=1;f<i;f++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=Wi(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:h,offsetF:b}=Eu(s,c,a);s=u,d?o=o.add(Vi(h,r[b])):i=i.add(Vi(l,r[f]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=Wi(n,t);for(let a=0;a<o.windows&&s!==xu;a++){const{nextN:c,offset:u,isZero:f,isNeg:d}=Eu(s,a,o);if(s=c,!f){const l=r[u];i=i.add(d?l.negate():l)}}return i},getPrecomputes(n,r,s){let i=Ki.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Ki.set(r,s(i))),i},wNAFCached(n,r,s){const i=Qi(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Qi(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){Tl(r,t),Bl.set(n,r),Ki.delete(n)}}}function rg(e,t,n,r){eg(n,e),tg(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=fy(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=di(c),f=new Array(Number(u)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let l=o;for(let h=d;h>=0;h-=c){f.fill(o);for(let p=0;p<i;p++){const y=r[p],v=Number(y>>BigInt(h)&u);f[v]=f[v].add(n[p])}let b=o;for(let p=f.length-1,y=o;p>0;p--)y=y.add(f[p]),b=b.add(y);if(l=l.add(b),h!==0)for(let p=0;p<c;p++)l=l.double()}return l}function Ol(e){return Ym(e.Fp),li(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$l(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Pu(e){e.lowS!==void 0&&Xr("lowS",e.lowS),e.prehash!==void 0&&Xr("prehash",e.prehash)}function sg(e){const t=Ol(e);li(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class ig extends Error{constructor(t=""){super(t)}}const dt={Err:ig,_tlv:{encode:(e,t)=>{const{Err:n}=dt;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Rs(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Rs(s.length/2|128):"";return Rs(e)+i+s+t},decode(e,t){const{Err:n}=dt;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)o=o<<8|f;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=dt;if(e<yt)throw new t("integer: negative integers are not allowed");let n=Rs(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=dt;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return gn(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=dt,s=Fe("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=dt,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function Zi(e,t){return es(gs(e,t))}const yt=BigInt(0),se=BigInt(1);BigInt(2);const Yi=BigInt(3),og=BigInt(4);function ag(e){const t=sg(e),{Fp:n}=t,r=Xa(t.n,t.nBitLength),s=t.toBytes||((w,m,g)=>{const E=m.toAffine();return Ks(Uint8Array.from([4]),n.toBytes(E.x),n.toBytes(E.y))}),i=t.fromBytes||(w=>{const m=w.subarray(1),g=n.fromBytes(m.subarray(0,n.BYTES)),E=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x:g,y:E}});function o(w){const{a:m,b:g}=t,E=n.sqr(w),x=n.mul(E,w);return n.add(n.add(x,n.mul(w,m)),g)}function a(w,m){const g=n.sqr(m),E=o(w);return n.eql(g,E)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Yi),og),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(w){return Na(w,se,t.n)}function d(w){const{allowedPrivateKeyLengths:m,nByteLength:g,wrapPrivateKey:E,n:x}=t;if(m&&typeof w!="bigint"){if(ms(w)&&(w=es(w)),typeof w!="string"||!m.includes(w.length))throw new Error("invalid private key");w=w.padStart(g*2,"0")}let S;try{S=typeof w=="bigint"?w:gn(Fe("private key",w,g))}catch{throw new Error("invalid private key, expected hex or "+g+" bytes, got "+typeof w)}return E&&(S=ve(S,x)),Kn("private key",S,se,x),S}function l(w){if(!(w instanceof p))throw new Error("ProjectivePoint expected")}const h=tu((w,m)=>{const{px:g,py:E,pz:x}=w;if(n.eql(x,n.ONE))return{x:g,y:E};const S=w.is0();m==null&&(m=S?n.ONE:n.inv(x));const $=n.mul(g,m),C=n.mul(E,m),T=n.mul(x,m);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(T,n.ONE))throw new Error("invZ was invalid");return{x:$,y:C}}),b=tu(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:m,y:g}=w.toAffine();if(!n.isValid(m)||!n.isValid(g))throw new Error("bad point: x or y not FE");if(!a(m,g))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(m,g,E){if(m==null||!n.isValid(m))throw new Error("x required");if(g==null||!n.isValid(g)||n.is0(g))throw new Error("y required");if(E==null||!n.isValid(E))throw new Error("z required");this.px=m,this.py=g,this.pz=E,Object.freeze(this)}static fromAffine(m){const{x:g,y:E}=m||{};if(!m||!n.isValid(g)||!n.isValid(E))throw new Error("invalid affine point");if(m instanceof p)throw new Error("projective point not allowed");const x=S=>n.eql(S,n.ZERO);return x(g)&&x(E)?p.ZERO:new p(g,E,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const g=Sl(n,m.map(E=>E.pz));return m.map((E,x)=>E.toAffine(g[x])).map(p.fromAffine)}static fromHex(m){const g=p.fromAffine(i(Fe("pointHex",m)));return g.assertValidity(),g}static fromPrivateKey(m){return p.BASE.multiply(d(m))}static msm(m,g){return rg(p,r,m,g)}_setWindowSize(m){I.setWindowSize(this,m)}assertValidity(){b(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){l(m);const{px:g,py:E,pz:x}=this,{px:S,py:$,pz:C}=m,T=n.eql(n.mul(g,C),n.mul(S,x)),R=n.eql(n.mul(E,C),n.mul($,x));return T&&R}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:g}=t,E=n.mul(g,Yi),{px:x,py:S,pz:$}=this;let C=n.ZERO,T=n.ZERO,R=n.ZERO,O=n.mul(x,x),U=n.mul(S,S),A=n.mul($,$),k=n.mul(x,S);return k=n.add(k,k),R=n.mul(x,$),R=n.add(R,R),C=n.mul(m,R),T=n.mul(E,A),T=n.add(C,T),C=n.sub(U,T),T=n.add(U,T),T=n.mul(C,T),C=n.mul(k,C),R=n.mul(E,R),A=n.mul(m,A),k=n.sub(O,A),k=n.mul(m,k),k=n.add(k,R),R=n.add(O,O),O=n.add(R,O),O=n.add(O,A),O=n.mul(O,k),T=n.add(T,O),A=n.mul(S,$),A=n.add(A,A),O=n.mul(A,k),C=n.sub(C,O),R=n.mul(A,U),R=n.add(R,R),R=n.add(R,R),new p(C,T,R)}add(m){l(m);const{px:g,py:E,pz:x}=this,{px:S,py:$,pz:C}=m;let T=n.ZERO,R=n.ZERO,O=n.ZERO;const U=t.a,A=n.mul(t.b,Yi);let k=n.mul(g,S),z=n.mul(E,$),F=n.mul(x,C),N=n.add(g,E),L=n.add(S,$);N=n.mul(N,L),L=n.add(k,z),N=n.sub(N,L),L=n.add(g,x);let q=n.add(S,C);return L=n.mul(L,q),q=n.add(k,F),L=n.sub(L,q),q=n.add(E,x),T=n.add($,C),q=n.mul(q,T),T=n.add(z,F),q=n.sub(q,T),O=n.mul(U,L),T=n.mul(A,F),O=n.add(T,O),T=n.sub(z,O),O=n.add(z,O),R=n.mul(T,O),z=n.add(k,k),z=n.add(z,k),F=n.mul(U,F),L=n.mul(A,L),z=n.add(z,F),F=n.sub(k,F),F=n.mul(U,F),L=n.add(L,F),k=n.mul(z,L),R=n.add(R,k),k=n.mul(q,L),T=n.mul(N,T),T=n.sub(T,k),k=n.mul(N,z),O=n.mul(q,O),O=n.add(O,k),new p(T,R,O)}subtract(m){return this.add(m.negate())}is0(){return this.equals(p.ZERO)}wNAF(m){return I.wNAFCached(this,m,p.normalizeZ)}multiplyUnsafe(m){const{endo:g,n:E}=t;Kn("scalar",m,yt,E);const x=p.ZERO;if(m===yt)return x;if(this.is0()||m===se)return this;if(!g||I.hasPrecomputes(this))return I.wNAFCachedUnsafe(this,m,p.normalizeZ);let{k1neg:S,k1:$,k2neg:C,k2:T}=g.splitScalar(m),R=x,O=x,U=this;for(;$>yt||T>yt;)$&se&&(R=R.add(U)),T&se&&(O=O.add(U)),U=U.double(),$>>=se,T>>=se;return S&&(R=R.negate()),C&&(O=O.negate()),O=new p(n.mul(O.px,g.beta),O.py,O.pz),R.add(O)}multiply(m){const{endo:g,n:E}=t;Kn("scalar",m,se,E);let x,S;if(g){const{k1neg:$,k1:C,k2neg:T,k2:R}=g.splitScalar(m);let{p:O,f:U}=this.wNAF(C),{p:A,f:k}=this.wNAF(R);O=I.constTimeNegate($,O),A=I.constTimeNegate(T,A),A=new p(n.mul(A.px,g.beta),A.py,A.pz),x=O.add(A),S=U.add(k)}else{const{p:$,f:C}=this.wNAF(m);x=$,S=C}return p.normalizeZ([x,S])[0]}multiplyAndAddUnsafe(m,g,E){const x=p.BASE,S=(C,T)=>T===yt||T===se||!C.equals(x)?C.multiplyUnsafe(T):C.multiply(T),$=S(this,g).add(S(m,E));return $.is0()?void 0:$}toAffine(m){return h(this,m)}isTorsionFree(){const{h:m,isTorsionFree:g}=t;if(m===se)return!0;if(g)return g(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:g}=t;return m===se?this:g?g(p,this):this.multiplyUnsafe(t.h)}toRawBytes(m=!0){return Xr("isCompressed",m),this.assertValidity(),s(p,this,m)}toHex(m=!0){return Xr("isCompressed",m),es(this.toRawBytes(m))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:y,nBitLength:v}=t,I=ng(p,y?Math.ceil(v/2):v);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:f}}function cg(e){const t=Ol(e);return li(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function ug(e){const t=cg(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(A){return ve(A,r)}function u(A){return zo(A,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:h}=ag({...t,toBytes(A,k,z){const F=k.toAffine(),N=n.toBytes(F.x),L=Ks;return Xr("isCompressed",z),z?L(Uint8Array.from([k.hasEvenY()?2:3]),N):L(Uint8Array.from([4]),N,n.toBytes(F.y))},fromBytes(A){const k=A.length,z=A[0],F=A.subarray(1);if(k===o&&(z===2||z===3)){const N=gn(F);if(!Na(N,se,n.ORDER))throw new Error("Point is not on curve");const L=l(N);let q;try{q=n.sqrt(L)}catch(ce){const te=ce instanceof Error?": "+ce.message:"";throw new Error("Point is not on curve"+te)}const Y=(q&se)===se;return(z&1)===1!==Y&&(q=n.neg(q)),{x:N,y:q}}else if(k===a&&z===4){const N=n.fromBytes(F.subarray(0,n.BYTES)),L=n.fromBytes(F.subarray(n.BYTES,2*n.BYTES));return{x:N,y:L}}else{const N=o,L=a;throw new Error("invalid Point, expected length of "+N+", or uncompressed "+L+", got "+k)}}});function b(A){const k=r>>se;return A>k}function p(A){return b(A)?c(-A):A}const y=(A,k,z)=>gn(A.slice(k,z));class v{constructor(k,z,F){Kn("r",k,se,r),Kn("s",z,se,r),this.r=k,this.s=z,F!=null&&(this.recovery=F),Object.freeze(this)}static fromCompact(k){const z=s;return k=Fe("compactSignature",k,z*2),new v(y(k,0,z),y(k,z,2*z))}static fromDER(k){const{r:z,s:F}=dt.toSig(Fe("DER",k));return new v(z,F)}assertValidity(){}addRecoveryBit(k){return new v(this.r,this.s,k)}recoverPublicKey(k){const{r:z,s:F,recovery:N}=this,L=x(Fe("msgHash",k));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const q=N===2||N===3?z+t.n:z;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=(N&1)===0?"02":"03",de=f.fromHex(Y+Zi(q,n.BYTES)),ce=u(q),te=c(-L*ce),le=c(F*ce),Tt=f.BASE.multiplyAndAddUnsafe(de,te,le);if(!Tt)throw new Error("point at infinify");return Tt.assertValidity(),Tt}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ws(this.toDERHex())}toDERHex(){return dt.hexFromSig(this)}toCompactRawBytes(){return Ws(this.toCompactHex())}toCompactHex(){const k=s;return Zi(this.r,k)+Zi(this.s,k)}}const I={isValidPrivateKey(A){try{return d(A),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const A=Cl(t.n);return Xm(t.randomBytes(A),t.n)},precompute(A=8,k=f.BASE){return k._setWindowSize(A),k.multiply(BigInt(3)),k}};function w(A,k=!0){return f.fromPrivateKey(A).toRawBytes(k)}function m(A){if(typeof A=="bigint")return!1;if(A instanceof f)return!0;const z=Fe("key",A).length,F=n.BYTES,N=F+1,L=2*F+1;if(!(t.allowedPrivateKeyLengths||s===N))return z===N||z===L}function g(A,k,z=!0){if(m(A)===!0)throw new Error("first arg must be private key");if(m(k)===!1)throw new Error("second arg must be public key");return f.fromHex(k).multiply(d(A)).toRawBytes(z)}const E=t.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const k=gn(A),z=A.length*8-i;return z>0?k>>BigInt(z):k},x=t.bits2int_modN||function(A){return c(E(A))},S=di(i);function $(A){return Kn("num < 2^"+i,A,yt,S),gs(A,s)}function C(A,k,z=T){if(["recovered","canonical"].some(en=>en in z))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:N}=t;let{lowS:L,prehash:q,extraEntropy:Y}=z;L==null&&(L=!0),A=Fe("msgHash",A),Pu(z),q&&(A=Fe("prehashed msgHash",F(A)));const de=x(A),ce=d(k),te=[$(ce),$(de)];if(Y!=null&&Y!==!1){const en=Y===!0?N(n.BYTES):Y;te.push(Fe("extraEntropy",en))}const le=Ks(...te),Tt=de;function Ai(en){const _n=E(en);if(!h(_n))return;const Ci=u(_n),Sr=f.BASE.multiply(_n).toAffine(),tn=c(Sr.x);if(tn===yt)return;const $r=c(Ci*c(Tt+tn*ce));if($r===yt)return;let Ar=(Sr.x===tn?0:2)|Number(Sr.y&se),zn=$r;return L&&b($r)&&(zn=p($r),Ar^=1),new v(tn,zn,Ar)}return{seed:le,k2sig:Ai}}const T={lowS:t.lowS,prehash:!1},R={lowS:t.lowS,prehash:!1};function O(A,k,z=T){const{seed:F,k2sig:N}=C(A,k,z),L=t;return dy(L.hash.outputLen,L.nByteLength,L.hmac)(F,N)}f.BASE._setWindowSize(8);function U(A,k,z,F=R){var Ar;const N=A;k=Fe("msgHash",k),z=Fe("publicKey",z);const{lowS:L,prehash:q,format:Y}=F;if(Pu(F),"strict"in F)throw new Error("options.strict was renamed to lowS");if(Y!==void 0&&Y!=="compact"&&Y!=="der")throw new Error("format must be compact or der");const de=typeof N=="string"||ms(N),ce=!de&&!Y&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!de&&!ce)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let te,le;try{if(ce&&(te=new v(N.r,N.s)),de){try{Y!=="compact"&&(te=v.fromDER(N))}catch(zn){if(!(zn instanceof dt.Err))throw zn}!te&&Y!=="der"&&(te=v.fromCompact(N))}le=f.fromHex(z)}catch{return!1}if(!te||L&&te.hasHighS())return!1;q&&(k=t.hash(k));const{r:Tt,s:Ai}=te,en=x(k),_n=u(Ai),Ci=c(en*_n),Sr=c(Tt*_n),tn=(Ar=f.BASE.multiplyAndAddUnsafe(le,Ci,Sr))==null?void 0:Ar.toAffine();return tn?c(tn.x)===Tt:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:g,sign:O,verify:U,ProjectivePoint:f,Signature:v,utils:I}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fg(e){return{hash:e,hmac:(t,...n)=>vl(e,t,lp(...n)),randomBytes:hp}}function dg(e,t){const n=r=>ug({...e,...fg(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rl=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Iu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lg=BigInt(0),hg=BigInt(1),Lo=BigInt(2),Su=(e,t)=>(e+t/Lo)/t;function pg(e){const t=Rl,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=ke(f,n,t)*f%t,l=ke(d,n,t)*f%t,h=ke(l,Lo,t)*u%t,b=ke(h,s,t)*h%t,p=ke(b,i,t)*b%t,y=ke(p,a,t)*p%t,v=ke(y,c,t)*y%t,I=ke(v,a,t)*p%t,w=ke(I,n,t)*f%t,m=ke(w,o,t)*b%t,g=ke(m,r,t)*u%t,E=ke(g,Lo,t);if(!Uo.eql(Uo.sqr(E),e))throw new Error("Cannot find square root");return E}const Uo=Xa(Rl,void 0,void 0,{sqrt:pg}),ec=dg({a:lg,b:BigInt(7),Fp:Uo,n:Iu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Iu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-hg*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=Su(i*e,t),c=Su(-r*e,t);let u=ve(e-a*n-c*s,t),f=ve(-a*r-c*i,t);const d=u>o,l=f>o;if(d&&(u=t-u),l&&(f=t-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},ud),bg=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ec},Symbol.toStringTag,{value:"Module"}));function Ml(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Ji({signature:e});if(typeof e.s>"u")throw new Ji({signature:e});if(n&&typeof e.yParity>"u")throw new Ji({signature:e});if(e.r<0n||e.r>mu)throw new Eg({value:e.r});if(e.s<0n||e.s>mu)throw new Pg({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new nc({value:e.yParity})}function yg(e){return kl(Je(e))}function kl(e){if(e.length!==130&&e.length!==132)throw new xg({signature:e});const t=BigInt(st(e,0,32)),n=BigInt(st(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return tc(s)}catch{throw new nc({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function mg(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return gg(e)}function gg(e){const t=typeof e=="string"?kl(e):e instanceof Uint8Array?yg(e):typeof e.r=="string"?vg(e):e.v?wg(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Ml(t),t}function wg(e){return{r:e.r,s:e.s,yParity:tc(e.v)}}function vg(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=tc(n)),typeof r!="number")throw new nc({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function tc(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Ig({value:e})}class xg extends V{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Be(Ny(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Ji extends V{constructor({signature:t}){super(`Signature \`${Sd(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class Eg extends V{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Pg extends V{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class nc extends V{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Ig extends V{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Sg(e,t={}){return typeof e.chainId=="string"?$g(e):{...e,...t.signature}}function $g(e){const{address:t,chainId:n,nonce:r}=e,s=mg(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Ag="0x8010801080108010801080108010801080108010801080108010801080108010",Cg=yl("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Fl(e){if(typeof e=="string"){if(st(e,-32)!==Ag)throw new Og(e)}else Ml(e.authorization)}function Tg(e){Fl(e);const t=Bd(st(e,-64,-32)),n=st(e,-t-64,-64),r=st(e,0,-t-64),[s,i,o]=Um(Cg,n);return{authorization:Sg({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:i}:{}}}function Bg(e){try{return Fl(e),!0}catch{return!1}}let Og=class extends V{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function iv(e){const{address:t,data:n,signature:r,to:s="hex"}=e,i=Oe([St([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),A1]);return s==="hex"?i:Le(i)}class Rg extends B{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Mg(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new Rg({value:e});let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[i,o,a]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function ov(e,t="wei"){return Mg(e,rd[t])}function wi(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&t===i&&(n[o]=c.request)})),(i=>n[i]||e.request)}async function Nl(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,u=wi(e,{method:"eth_newFilter"}),f=i?ls({abi:r,args:s,eventName:i}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?M(o):o,toBlock:typeof c=="bigint"?M(c):c,topics:f}]});return{abi:r,args:s,eventName:i,id:d,request:u(d),strict:!!a,type:"event"}}class _l extends B{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class rc extends B{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class kg extends B{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Pe(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class zl extends B{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function We(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,f,d;const i=s??!1,o=n!==void 0?M(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new zl({blockHash:t,blockNumber:n});return(((d=(f=(u=e.chain)==null?void 0:u.formatters)==null?void 0:f.block)==null?void 0:d.format)||Ga)(a,"getBlock")}async function sc(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Fg(e,t){return jl(e,t)}async function jl(e,t){var i,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=n||await j(e,We,"getBlock")({}),f=await a({block:u,client:e,request:s});if(f===null)throw new Error;return f}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Ce(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):j(e,We,"getBlock")({}),j(e,sc,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new rc;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function Ng(e,t){return Do(e,t)}async function Do(e,t){var l,h;const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>{var b,p;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(o<1)throw new _l;const c=10**(((l=o.toString().split(".")[1])==null?void 0:l.length)??0),u=b=>b*BigInt(Math.ceil(o*c))/BigInt(c),f=n||await j(e,We,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const b=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:i});if(b!==null)return b}if(i==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new rc;const b=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await jl(e,{block:f,chain:r,request:s}),p=u(f.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+b,maxPriorityFeePerGas:b}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await j(e,sc,"getGasPrice")({}))}}async function Jt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return je(t)}async function ic(e,t){var S,$,C,T,R;const{account:n=e.account,accessList:r,authorizationList:s,chain:i=e.chain,blobVersionedHashes:o,blobs:a,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:b,nonceManager:p,to:y,type:v,value:I,...w}=t,m=await(async()=>{if(!n||!p||typeof b<"u")return b;const O=Q(n),U=i?i.id:await j(e,Jt,"getChainId")({});return await p.consume({address:O.address,chainId:U,client:e})})();$t(t);const g=($=(S=i==null?void 0:i.formatters)==null?void 0:S.transactionRequest)==null?void 0:$.format,x=(g||Yt)({...wr(w,{format:g}),account:n?Q(n):void 0,accessList:r,authorizationList:s,blobs:a,blobVersionedHashes:o,data:c,gas:u,gasPrice:f,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,nonce:m,to:y,type:v,value:I},"fillTransaction");try{const O=await e.request({method:"eth_fillTransaction",params:[x]}),A=(((T=(C=i==null?void 0:i.formatters)==null?void 0:C.transaction)==null?void 0:T.format)||mi)(O.tx);delete A.blockHash,delete A.blockNumber,delete A.r,delete A.s,delete A.transactionIndex,delete A.v,delete A.yParity,A.data=A.input,A.gas&&(A.gas=t.gas??A.gas),A.gasPrice&&(A.gasPrice=t.gasPrice??A.gasPrice),A.maxFeePerBlobGas&&(A.maxFeePerBlobGas=t.maxFeePerBlobGas??A.maxFeePerBlobGas),A.maxFeePerGas&&(A.maxFeePerGas=t.maxFeePerGas??A.maxFeePerGas),A.maxPriorityFeePerGas&&(A.maxPriorityFeePerGas=t.maxPriorityFeePerGas??A.maxPriorityFeePerGas),A.nonce&&(A.nonce=t.nonce??A.nonce);const k=await(async()=>{var L,q;if(typeof((L=i==null?void 0:i.fees)==null?void 0:L.baseFeeMultiplier)=="function"){const Y=await j(e,We,"getBlock")({});return i.fees.baseFeeMultiplier({block:Y,client:e,request:t})}return((q=i==null?void 0:i.fees)==null?void 0:q.baseFeeMultiplier)??1.2})();if(k<1)throw new _l;const F=10**(((R=k.toString().split(".")[1])==null?void 0:R.length)??0),N=L=>L*BigInt(Math.ceil(k*F))/BigInt(F);return A.maxFeePerGas&&!t.maxFeePerGas&&(A.maxFeePerGas=N(A.maxFeePerGas)),A.gasPrice&&!t.gasPrice&&(A.gasPrice=N(A.gasPrice)),{raw:O.raw,transaction:{from:x.from,...A}}}catch(O){throw yi(O,{...t,chain:e.chain})}}const oc=["blobVersionedHashes","chainId","fees","gas","nonce","type"],$u=new Map,Xi=new kn(128);async function xs(e,t){var m,g,E;let n=t;const{account:r=e.account,chain:s=e.chain,nonceManager:i,parameters:o=oc}=n,a=(()=>{if(typeof(s==null?void 0:s.prepareTransactionRequest)=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s==null?void 0:s.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})();let c;async function u(){return c||(typeof n.chainId<"u"?n.chainId:s?s.id:(c=await j(e,Jt,"getChainId")({}),c))}const f=r&&Q(r);let d=n.nonce;if(o.includes("nonce")&&typeof d>"u"&&f&&i){const x=await u();d=await i.consume({address:f.address,chainId:x,client:e})}a!=null&&a.fn&&((m=a.runAt)!=null&&m.includes("beforeFillTransaction"))&&(n=await a.fn(n,{phase:"beforeFillTransaction"}),d??(d=n.nonce));const h=((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&n.kzg&&n.blobs||Xi.get(e.uid)===!1||!["fees","gas"].some(S=>o.includes(S))?!1:!!(o.includes("chainId")&&typeof n.chainId!="number"||o.includes("nonce")&&typeof d!="number"||o.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||o.includes("gas")&&typeof n.gas!="bigint"))?await j(e,ic,"fillTransaction")({...n,nonce:d}).then(x=>{const{chainId:S,from:$,gas:C,gasPrice:T,nonce:R,maxFeePerBlobGas:O,maxFeePerGas:U,maxPriorityFeePerGas:A,type:k,...z}=x.transaction;return Xi.set(e.uid,!0),{...n,...$?{from:$}:{},...k?{type:k}:{},...typeof S<"u"?{chainId:S}:{},...typeof C<"u"?{gas:C}:{},...typeof T<"u"?{gasPrice:T}:{},...typeof R<"u"?{nonce:R}:{},...typeof O<"u"?{maxFeePerBlobGas:O}:{},...typeof U<"u"?{maxFeePerGas:U}:{},...typeof A<"u"?{maxPriorityFeePerGas:A}:{},..."nonceKey"in z&&typeof z.nonceKey<"u"?{nonceKey:z.nonceKey}:{}}}).catch(x=>{var C;const S=x;return((C=S.walk)==null?void 0:C.call(S,T=>{const R=T;return R.name==="MethodNotFoundRpcError"||R.name==="MethodNotSupportedRpcError"}))&&Xi.set(e.uid,!1),n}):n;d??(d=h.nonce),n={...h,...f?{from:f==null?void 0:f.address}:{},...d?{nonce:d}:{}};const{blobs:b,gas:p,kzg:y,type:v}=n;a!=null&&a.fn&&((g=a.runAt)!=null&&g.includes("beforeFillParameters"))&&(n=await a.fn(n,{phase:"beforeFillParameters"}));let I;async function w(){return I||(I=await j(e,We,"getBlock")({blockTag:"latest"}),I)}if(o.includes("nonce")&&typeof d>"u"&&f&&!i&&(n.nonce=await j(e,Va,"getTransactionCount")({address:f.address,blockTag:"pending"})),(o.includes("blobVersionedHashes")||o.includes("sidecars"))&&b&&y){const x=Ta({blobs:b,kzg:y});if(o.includes("blobVersionedHashes")){const S=fd({commitments:x,to:"hex"});n.blobVersionedHashes=S}if(o.includes("sidecars")){const S=Ba({blobs:b,commitments:x,kzg:y}),$=bd({blobs:b,commitments:x,proofs:S,to:"hex"});n.sidecars=$}}if(o.includes("chainId")&&(n.chainId=await u()),(o.includes("fees")||o.includes("type"))&&typeof v>"u")try{n.type=md(n)}catch{let x=$u.get(e.uid);if(typeof x>"u"){const S=await w();x=typeof(S==null?void 0:S.baseFeePerGas)=="bigint",$u.set(e.uid,x)}n.type=x?"eip1559":"legacy"}if(o.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const x=await w(),{maxFeePerGas:S,maxPriorityFeePerGas:$}=await Do(e,{block:x,chain:s,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<$)throw new kg({maxPriorityFeePerGas:$});n.maxPriorityFeePerGas=$,n.maxFeePerGas=S}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new rc;if(typeof n.gasPrice>"u"){const x=await w(),{gasPrice:S}=await Do(e,{block:x,chain:s,request:n,type:"legacy"});n.gasPrice=S}}return o.includes("gas")&&typeof p>"u"&&(n.gas=await j(e,ac,"estimateGas")({...n,account:f,prepare:(f==null?void 0:f.type)==="local"?[]:["blobVersionedHashes"]})),a!=null&&a.fn&&((E=a.runAt)!=null&&E.includes("afterFillParameters"))&&(n=await a.fn(n,{phase:"afterFillParameters"})),$t(n),delete n.parameters,n}async function ac(e,t){var o,a,c;const{account:n=e.account,prepare:r=!0}=t,s=n?Q(n):void 0,i=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const u=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await oi({authorization:t.authorizationList[0]}).catch(()=>{throw new B("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:f,authorizationList:d,blobs:l,blobVersionedHashes:h,blockNumber:b,blockTag:p,data:y,gas:v,gasPrice:I,maxFeePerBlobGas:w,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:E,value:x,stateOverride:S,...$}=r?await xs(e,{...t,parameters:i,to:u}):t;if(v&&t.gas!==v)return v;const T=(typeof b=="bigint"?M(b):void 0)||p,R=Da(S);$t(t);const O=(c=(a=(o=e.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,A=(O||Yt)({...wr($,{format:O}),account:s,accessList:f,authorizationList:d,blobs:l,blobVersionedHashes:h,data:y,gasPrice:I,maxFeePerBlobGas:w,maxFeePerGas:m,maxPriorityFeePerGas:g,nonce:E,to:u,value:x},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:R?[A,T??e.experimental_blockTag??"latest",R]:T?[A,T]:[A]}))}catch(u){throw l1(u,{...t,account:s,chain:e.chain})}}async function _g(e,t){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=t,c=Re({abi:n,args:s,functionName:i});try{return await j(e,ac,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(u){const f=a.account?Q(a.account):void 0;throw Tn(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:f==null?void 0:f.address})}}async function cc(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const u=c??!1,f=o??(i?[i]:void 0);let d=[];f&&(d=[f.flatMap(p=>ls({abi:[p],eventName:p.name,args:o?void 0:a}))],i&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?M(r):r,toBlock:typeof s=="bigint"?M(s):s}]});const h=l.map(b=>xt(b));return f?Aa({abi:f,args:a,logs:h,strict:u}):h}async function Ll(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:u}=t,f=o?Fn({abi:n,name:o}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return j(e,cc,"getLogs")({address:r,args:s,blockHash:i,event:f,events:d,fromBlock:a,toBlock:c,strict:u})}async function Ue(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=Re({abi:n,args:s,functionName:i});try{const{data:c}=await j(e,vr,"call")({...o,data:a,to:r});return Nn({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Tn(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function zg(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?Q(a.account):e.account,u=Re({abi:n,args:s,functionName:o});try{const{data:f}=await j(e,vr,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=Nn({abi:n,args:s,functionName:o,data:f||"0x"}),l=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(f){throw Tn(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const eo=new Map,Au=new Map;let jg=0;function Pt(e,t,n){const r=++jg,s=()=>eo.get(e)||[],i=()=>{const f=s();eo.set(e,f.filter(d=>d.id!==r))},o=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Au.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}i()},a=s();if(eo.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const f in t)c[f]=((...d)=>{var h,b;const l=s();if(l.length!==0)for(const p of l)(b=(h=p.fns)[f])==null||b.call(h,...d)});const u=n(c);return typeof u=="function"&&Au.set(e,u),o}function Er(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await Vs(c);const u=async()=>{s&&(await e({unpoll:i}),await Vs(r),u())};u()})(),i}const Lg=new Map,Ug=new Map;function Dg(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,Lg),r=t(e,Ug);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function qg(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Dg(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Gg=e=>`blockNumber.${e}`;async function Es(e,{cacheTime:t=e.cacheTime}={}){const n=await qg(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Gg(e.uid),cacheTime:t});return BigInt(n)}async function vi(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>xt(i));return!("abi"in t)||!t.abi?s:Aa({abi:t.abi,logs:s,strict:n})}async function xi(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Hg(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(typeof f<"u"?f:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const y=l??!1,v=X(["watchContractEvent",r,s,i,e.uid,o,d,y,a]);return Pt(v,{onLogs:u,onError:c},I=>{let w;a!==void 0&&(w=a-1n);let m,g=!1;const E=Er(async()=>{var x;if(!g){try{m=await j(e,Nl,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:y,fromBlock:a})}catch{}g=!0;return}try{let S;if(m)S=await j(e,vi,"getFilterChanges")({filter:m});else{const $=await j(e,Es,"getBlockNumber")({});w&&w<$?S=await j(e,Ll,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:w+1n,toBlock:$,strict:y}):S=[],w=$}if(S.length===0)return;if(i)I.onLogs(S);else for(const $ of S)I.onLogs([$])}catch(S){m&&S instanceof Zt&&(g=!1),(x=I.onError)==null||x.call(I,S)}},{emitOnBegin:!0,interval:d});return async()=>{m&&await j(e,xi,"uninstallFilter")({filter:m}),E()}})})():(()=>{const y=l??!1,v=X(["watchContractEvent",r,s,i,e.uid,o,d,y]);let I=!0,w=()=>I=!1;return Pt(v,{onLogs:u,onError:c},m=>((async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find($=>$.config.type==="webSocket"||$.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),E=o?ls({abi:n,eventName:o,args:s}):[],{unsubscribe:x}=await g.subscribe({params:["logs",{address:r,topics:E}],onData(S){var C;if(!I)return;const $=S.result;try{const{eventName:T,args:R}=Hs({abi:n,data:$.data,topics:$.topics,strict:l}),O=xt($,{args:R,eventName:T});m.onLogs([O])}catch(T){let R,O;if(T instanceof Gs||T instanceof xa){if(l)return;R=T.abiItem.name,O=(C=T.abiItem.inputs)==null?void 0:C.some(A=>!("name"in A&&A.name))}const U=xt($,{args:O?[]:{},eventName:R});m.onLogs([U])}},onError(S){var $;($=m.onError)==null||$.call(m,S)}});w=x,I||w()}catch(g){c==null||c(g)}})(),()=>w()))})()}class Xt extends B{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class wn extends B{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function uc(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const to=new kn(128);async function Ps(e,t){var I,w,m,g;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,type:b,value:p,...y}=t;if(typeof n>"u")throw new Xt({docsPath:"/docs/actions/wallet/sendTransaction"});const v=n?Q(n):null;try{$t(t);const E=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await oi({authorization:i[0]}).catch(()=>{throw new B("`to` is required. Could not infer from `authorizationList`.")})})();if((v==null?void 0:v.type)==="json-rpc"||v===null){let x;r!==null&&(x=await j(e,Jt,"getChainId")({}),qa({currentChainId:x,chain:r}));const S=(m=(w=(I=e.chain)==null?void 0:I.formatters)==null?void 0:w.transactionRequest)==null?void 0:m.format,C=(S||Yt)({...wr(y,{format:S}),accessList:s,account:v,authorizationList:i,blobs:o,chainId:x,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,to:E,type:b,value:p},"sendTransaction"),T=to.get(e.uid),R=T?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:R,params:[C]},{retryCount:0})}catch(O){if(T===!1)throw O;const U=O;if(U.name==="InvalidInputRpcError"||U.name==="InvalidParamsRpcError"||U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[C]},{retryCount:0}).then(A=>(to.set(e.uid,!0),A)).catch(A=>{const k=A;throw k.name==="MethodNotFoundRpcError"||k.name==="MethodNotSupportedRpcError"?(to.set(e.uid,!1),U):k});throw U}}if((v==null?void 0:v.type)==="local"){const x=await j(e,xs,"prepareTransactionRequest")({account:v,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,nonceManager:v.nonceManager,parameters:[...oc,"sidecars"],type:b,value:p,...y,to:E}),S=(g=r==null?void 0:r.serializers)==null?void 0:g.transaction,$=await v.signTransaction(x,{serializer:S});return await j(e,uc,"sendRawTransaction")({serializedTransaction:$})}throw(v==null?void 0:v.type)==="smart"?new wn({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new wn({docsPath:"/docs/actions/wallet/sendTransaction",type:v==null?void 0:v.type})}catch(E){throw E instanceof wn?E:yi(E,{...t,account:v,chain:t.chain||void 0})}}async function pr(e,t){return pr.internal(e,Ps,"sendTransaction",t)}(function(e){async function t(n,r,s,i){const{abi:o,account:a=n.account,address:c,args:u,dataSuffix:f,functionName:d,...l}=i;if(typeof a>"u")throw new Xt({docsPath:"/docs/contract/writeContract"});const h=a?Q(a):null,b=Re({abi:o,args:u,functionName:d});try{return await j(n,r,s)({data:`${b}${f?f.replace("0x",""):""}`,to:c,account:h,...l})}catch(p){throw Tn(p,{abi:o,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:d,sender:h==null?void 0:h.address})}}e.internal=t})(pr||(pr={}));class Vg extends B{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}const Ul="0x5792579257925792579257925792579257925792579257925792579257925792",Dl=M(0,{size:32});async function ql(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=t,f=n?Q(n):null,d=t.calls.map(l=>{const h=l,b=h.abi?Re({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&b?Te([b,h.dataSuffix]):b,to:h.to,value:h.value?M(h.value):void 0}});try{const l=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:M(s.id),from:f==null?void 0:f.address,id:c,version:u}]},{retryCount:0});return typeof l=="string"?{id:l}:l}catch(l){const h=l;if(i&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(I=>!I.optional)){const I="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new lr(new B(I,{details:I}))}if(a&&d.length>1){const v="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new hr(new B(v,{details:v}))}const b=[];for(const v of d){const I=Ps(e,{account:f,chain:s,data:v.data,to:v.to,value:v.value?Ce(v.value):void 0});b.push(I),o>0&&await new Promise(w=>setTimeout(w,o))}const p=await Promise.allSettled(b);if(p.every(v=>v.status==="rejected"))throw p[0].reason;const y=p.map(v=>v.status==="fulfilled"?v.value:Dl);return{id:Te([...y,M(s.id,{size:32}),Ul])}}throw yi(l,{...t,account:f,chain:t.chain})}}async function Gl(e,t){async function n(f){if(f.endsWith(Ul.slice(2))){const l=Ee(bo(f,-64,-32)),h=bo(f,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(h.map(y=>Dl.slice(2)!==y?e.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),p=b.some(y=>y===null)?100:b.every(y=>(y==null?void 0:y.status)==="0x1")?200:b.every(y=>(y==null?void 0:y.status)==="0x0")?500:600;return{atomic:!1,chainId:je(l),receipts:b.filter(Boolean),status:p,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[f]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const f=a.status;return f>=100&&f<200?["pending",f]:f>=200&&f<300?["success",f]:f>=300&&f<700?["failure",f]:f==="CONFIRMED"?["success",200]:f==="PENDING"?["pending",100]:[void 0,f]})();return{...a,atomic:r,chainId:s?je(s):void 0,receipts:(i==null?void 0:i.map(f=>({...f,blockNumber:Ce(f.blockNumber),gasUsed:Ce(f.gasUsed),status:Vd[f.status]})))??[],statusCode:u,status:c,version:o}}async function Hl(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:p})=>p===200||p>=300,retryCount:i=4,retryDelay:o=({count:p})=>~~(1<<p)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=X(["waitForCallsStatus",e.uid,n]),{promise:f,resolve:d,reject:l}=Ua();let h;const b=Pt(u,{resolve:d,reject:l},p=>{const y=Er(async()=>{const v=I=>{clearTimeout(h),y(),I(),b()};try{const I=await Jr(async()=>{const w=await j(e,Gl,"getCallsStatus")({id:n});if(c&&w.status==="failure")throw new Vg(w);return w},{retryCount:i,delay:o});if(!s(I))return;v(()=>p.resolve(I))}catch(I){v(()=>p.reject(I))}},{interval:r,emitOnBegin:!0});return y});return h=a?setTimeout(()=>{b(),clearTimeout(h),l(new Wg({id:n}))},a):void 0,await f}class Wg extends B{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const qo=256;let Ms=qo,ks;function Vl(e=11){if(!ks||Ms+e>qo*2){ks="",Ms=0;for(let t=0;t<qo;t++)ks+=(256+Math.random()*256|0).toString(16).substring(1)}return ks.substring(Ms,Ms+++e)}function Ei(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),f=e.pollingInterval??u,d=e.cacheTime??f,l=e.account?Q(e.account):void 0,{config:h,request:b,value:p}=e.transport({account:l,chain:n,pollingInterval:f}),y={...h,...p},v={account:l,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:i,pollingInterval:f,request:b,transport:y,type:o,uid:Vl(),...a?{experimental_blockTag:a}:{}};function I(w){return m=>{const g=m(w);for(const x in v)delete g[x];const E={...w,...g};return Object.assign(E,{extend:I(E)})}}return Object.assign(v,{extend:I(v)})}function fc(e){var n,r,s,i,o,a;if(!(e instanceof B))return!1;const t=e.walk(c=>c instanceof Bo);return t instanceof Bo?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=t.data)==null?void 0:i.errorName)==="ResolverNotFound"||((o=t.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function Wl(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ke(t)?t:null}function Go(e){let t=new Uint8Array(32).fill(0);if(!e)return ee(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Wl(n[r]),i=s?yr(s):ae(yn(n[r]),"bytes");t=ae(Te([t,i]),"bytes")}return ee(t)}function Kg(e){return`[${e.slice(2)}]`}function Qg(e){const t=new Uint8Array(32).fill(0);return e?Wl(e)||ae(yn(e)):ee(t)}function dc(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(yn(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=yn(s[i]);o.byteLength>255&&(o=yn(Kg(Qg(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Zg(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gr({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(l=>i.endsWith(l)))return null;const d=s!=null?[Go(i),BigInt(s)]:[Go(i)];try{const l=Re({abi:ou,functionName:"addr",args:d}),h={address:u,abi:Fd,functionName:"resolveWithGateways",args:[Qe(dc(i)),l,o??[vs]],blockNumber:n,blockTag:r},p=await j(e,Ue,"readContract")(h);if(p[0]==="0x")return null;const y=Nn({abi:ou,args:d,functionName:"addr",data:p[0]});return y==="0x"||Ee(y)==="0x00"?null:y}catch(l){if(a)throw l;if(fc(l))return null;throw l}}class Yg extends B{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Rr extends B{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class lc extends B{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Jg extends B{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Xg=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,e6=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,t6=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,n6=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function r6(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Cu(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Kl({uri:e,gatewayUrls:t}){const n=t6.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Cu(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Cu(t==null?void 0:t.arweave,"https://arweave.net"),i=e.match(Xg),{protocol:o,subpath:a,target:c,subtarget:u=""}=(i==null?void 0:i.groups)||{},f=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||e6.test(e);if(e.startsWith("http")&&!f&&!d){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(n6,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new lc({uri:e})}function Ql(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Yg({data:e});return e.image||e.image_url||e.image_data}async function s6({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await hc({gatewayUrls:e,uri:Ql(n)})}catch{throw new lc({uri:t})}}async function hc({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Kl({uri:t,gatewayUrls:e});if(r||await r6(n))return n;throw new lc({uri:t})}function i6(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new Rr({reason:"Only EIP-155 supported"});if(!o)throw new Rr({reason:"Chain ID not found"});if(!c)throw new Rr({reason:"Contract address not found"});if(!s)throw new Rr({reason:"Token ID not found"});if(!a)throw new Rr({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function o6(e,{nft:t}){if(t.namespace==="erc721")return Ue(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Ue(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Jg({namespace:t.namespace})}async function a6(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?c6(e,{gatewayUrls:t,record:n}):hc({uri:n,gatewayUrls:t})}async function c6(e,{gatewayUrls:t,record:n}){const r=i6(n),s=await o6(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=Kl({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,f=JSON.parse(u);return hc({uri:Ql(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),s6({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function Zl(e,t){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gr({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c==null?void 0:c.ensTlds;if(f&&!f.some(d=>i.endsWith(d)))return null;try{const d={address:u,abi:Fd,args:[Qe(dc(i)),Re({abi:iu,functionName:"text",args:[Go(i),s]}),o??[vs]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await j(e,Ue,"readContract")(d);if(h[0]==="0x")return null;const b=Nn({abi:iu,functionName:"text",data:h[0]});return b===""?null:b}catch(d){if(a)throw d;if(fc(d))return null;throw d}}async function Yl(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await j(e,Zl,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await a6(e,{record:c,gatewayUrls:r})}catch{return null}}async function Jl(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return gr({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Uy,args:[n,i,o??[vs]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=j(e,Ue,"readContract"),[l]=await d(f);return l||null}catch(f){if(a)throw f;if(fc(f))return null;throw f}}async function u6(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:i}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return gr({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await j(e,Ue,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Qe(dc(s))],blockNumber:n,blockTag:r});return c}async function Xl(e,t){var y,v,I;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h,...b}=t,p=n?Q(n):void 0;try{$t(t);const m=(typeof r=="bigint"?M(r):void 0)||s,g=(I=(v=(y=e.chain)==null?void 0:y.formatters)==null?void 0:v.transactionRequest)==null?void 0:I.format,x=(g||Yt)({...wr(b,{format:g}),account:p,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:h},"createAccessList"),S=await e.request({method:"eth_createAccessList",params:[x,m]});return{accessList:S.accessList,gasUsed:BigInt(S.gasUsed)}}catch(w){throw jd(w,{...t,account:p,chain:e.chain})}}async function f6(e){const t=wi(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function e0(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),u=wi(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(h=>ls({abi:[h],eventName:h.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?M(i):i,toBlock:typeof a=="bigint"?M(a):a,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:u(d),strict:!!o,toBlock:a,type:"event"}}async function t0(e){const t=wi(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function n0(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?M(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function d6(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function l6(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?M(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),je(i)}async function Ho(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?M(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}class h6 extends B{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function p6(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,a,c,u,f,d]=await j(e,Ue,"readContract")({abi:b6,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new h6({address:n}):o}}const b6=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function y6(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function m6(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?M(n):void 0,o=await e.request({method:"eth_feeHistory",params:[M(t),i||r,s]},{dedupe:!!i});return y6(o)}async function g6(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>xt(i));return t.abi?Aa({abi:t.abi,logs:s,strict:n}):s}function w6(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function v6(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?je(e.nonce):void 0,storageProof:e.storageProof?w6(e.storageProof):void 0}}async function x6(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?M(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return v6(a)}async function E6(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?M(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function Pi(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i,sender:o,nonce:a}){var l,h,b;const c=r||"latest",u=n!==void 0?M(n):void 0;let f=null;if(s?f=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?f=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,M(i)]},{dedupe:!0}):typeof i=="number"?f=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[u||c,M(i)]},{dedupe:!!u}):o&&typeof a=="number"&&(f=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[o,M(a)]},{dedupe:!0})),!f)throw new sd({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:i});return(((b=(h=(l=e.chain)==null?void 0:l.formatters)==null?void 0:h.transaction)==null?void 0:b.format)||mi)(f,"getTransaction")}async function P6(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([j(e,Es,"getBlockNumber")({}),t?j(e,Pi,"getTransaction")({hash:t}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function Ls(e,{hash:t}){var s,i,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new id({hash:t});return(((o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||Ha)(n,"getTransactionReceipt")}async function r0(e,t){var I;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((I=e.batch)==null?void 0:I.multicall)=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return gr({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let b=0,p=0;for(let w=0;w<u.length;w++){const{abi:m,address:g,args:E,functionName:x}=u[w];try{const S=Re({abi:m,args:E,functionName:x});p+=(S.length-2)/2,f>0&&p>f&&h[b].length>0&&(b++,p=(S.length-2)/2,h[b]=[]),h[b]=[...h[b],{allowFailure:!0,callData:S,target:g}]}catch(S){const $=Tn(S,{abi:m,address:g,args:E,docsPath:"/docs/contract/multicall",functionName:x,sender:n});if(!s)throw $;h[b]=[...h[b],{allowFailure:!0,callData:"0x",target:g}]}}const y=await Promise.allSettled(h.map(w=>j(e,Ue,"readContract")({...l===null?{code:za}:{address:l},abi:Qs,account:n,args:[w],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),v=[];for(let w=0;w<y.length;w++){const m=y[w];if(m.status==="rejected"){if(!s)throw m.reason;for(let E=0;E<h[w].length;E++)v.push({status:"failure",error:m.reason,result:void 0});continue}const g=m.value;for(let E=0;E<g.length;E++){const{returnData:x,success:S}=g[E],{callData:$}=h[w][E],{abi:C,address:T,functionName:R,args:O}=u[v.length];try{if($==="0x")throw new us;if(!S)throw new pi({data:x});const U=Nn({abi:C,args:O,data:x,functionName:R});v.push(s?{result:U,status:"success"}:U)}catch(U){const A=Tn(U,{abi:C,address:T,args:O,docsPath:"/docs/contract/multicall",functionName:R});if(!s)throw A;v.push({error:A,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new B("multicall results mismatch");return v}async function Vo(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=t;try{const c=[];for(const l of s){const h=l.blockOverrides?Md(l.blockOverrides):void 0,b=l.calls.map(y=>{const v=y,I=v.account?Q(v.account):void 0,w=v.abi?Re(v):v.data,m={...v,account:I,data:v.dataSuffix?Te([w||"0x",v.dataSuffix]):w,from:v.from??(I==null?void 0:I.address)};return $t(m),Yt(m)}),p=l.stateOverrides?Da(l.stateOverrides):void 0;c.push({blockOverrides:h,calls:b,stateOverrides:p})}const f=(typeof n=="bigint"?M(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},f]})).map((l,h)=>({...Ga(l),calls:l.calls.map((b,p)=>{var C,T;const{abi:y,args:v,functionName:I,to:w}=s[h].calls[p],m=((C=b.error)==null?void 0:C.data)??b.returnData,g=BigInt(b.gasUsed),E=(T=b.logs)==null?void 0:T.map(R=>xt(R)),x=b.status==="0x1"?"success":"failure",S=y&&x==="success"&&m!=="0x"?Nn({abi:y,data:m,functionName:I}):null,$=(()=>{var O;if(x==="success")return;let R;if(((O=b.error)==null?void 0:O.data)==="0x"?R=new us:b.error&&(R=new pi(b.error)),!!R)return Tn(R,{abi:y??[],address:w??"0x",args:v,functionName:I??"<unknown>"})})();return{data:m,gasUsed:g,logs:E,status:x,...x==="success"?{result:S}:{error:$}}})}))}catch(c){const u=c,f=bi(u,{});throw f instanceof ps?u:f}}function Wo(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new V("Unable to normalize signature.");return s}function Ko(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Fo(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>Ko(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ko(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function s0(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return s0(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Fo(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Fo(n[r],{strict:!1}):!1)return o}}function i0(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?pu(e):e;return{...r,...n?{hash:Vn(r)}:{}}}function Ii(e,t,n){const{args:r=[],prepare:s=!0}=n??{},i=_y(t,{strict:!1}),o=e.filter(u=>i?u.type==="function"||u.type==="error"?o0(u)===st(t,0,4):u.type==="event"?Vn(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new Zs({name:t});if(o.length===1)return{...o[0],...s?{hash:Vn(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:Vn(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const h="inputs"in u&&u.inputs[l];return h?Ko(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=s0(u.inputs,a.inputs,r);if(d)throw new S6({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...f]=o;return{...u,overloads:f}})();if(!c)throw new Zs({name:t});return{...c,...s?{hash:Vn(c)}:{}}}function o0(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Ii(n,r)}return e[0]})();return st(Vn(t),0,4)}function I6(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return Ii(r,s)}return e[0]})(),n=typeof t=="string"?t:Mo(t);return Wo(n)}function Vn(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return Ii(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:hl(_a(I6(t)))}class S6 extends V{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Wo(Mo(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Wo(Mo(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Zs extends V{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function $6(...e){var i;const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,a]=e;return[C6(o),a]}return e})(),{bytecode:r,args:s}=n;return Ye(r,(i=t.inputs)!=null&&i.length&&(s!=null&&s.length)?Ya(t.inputs,s):"0x")}function A6(e){return i0(e)}function C6(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Zs({name:"constructor"});return t}function T6(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[Tu(u,f,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?Tu([t,...r],t.name,{args:n}):t,i=B6(s),o=n.length>0?Ya(s.inputs,n):void 0;return o?Ye(i,o):i}function Dn(e,t={}){return i0(e,t)}function Tu(e,t,n){const r=Ii(e,t,n);if(r.type!=="function")throw new Zs({name:t,type:"function"});return r}function B6(e){return o0(e)}const O6="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",et="0x0000000000000000000000000000000000000000",R6="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function M6(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=t,u=t.account?Q(t.account):void 0;if(o&&!u)throw new B("`account` is required when `traceAssetChanges` is true");const f=u?$6(A6("constructor(bytes, bytes)"),{bytecode:_d,args:[R6,T6(Dn("function getBalance(address)"),[u.address])]}):void 0,d=o?await Promise.all(t.calls.map(async F=>{if(!F.data&&!F.abi)return;const{accessList:N}=await Xl(e,{account:u.address,...F,data:F.abi?Re(F):F.data});return N.map(({address:L,storageKeys:q})=>q.length>0?L:null)})).then(F=>F.flat().filter(Boolean)):[],l=await Vo(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:f}],stateOverrides:i},{calls:d.map((F,N)=>({abi:[Dn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:F,from:et,nonce:N})),stateOverrides:[{address:et,nonce:0}]}]:[],{calls:[...s,{}].map(F=>({...F,from:u==null?void 0:u.address})),stateOverrides:i},...o?[{calls:[{data:f}]},{calls:d.map((F,N)=>({abi:[Dn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:F,from:et,nonce:N})),stateOverrides:[{address:et,nonce:0}]},{calls:d.map((F,N)=>({to:F,abi:[Dn("function decimals() returns (uint256)")],functionName:"decimals",from:et,nonce:N})),stateOverrides:[{address:et,nonce:0}]},{calls:d.map((F,N)=>({to:F,abi:[Dn("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:et,nonce:N})),stateOverrides:[{address:et,nonce:0}]},{calls:d.map((F,N)=>({to:F,abi:[Dn("function symbol() returns (string)")],functionName:"symbol",from:et,nonce:N})),stateOverrides:[{address:et,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=o?l[2]:l[0],[b,p,,y,v,I,w,m]=o?l:[],{calls:g,...E}=h,x=g.slice(0,-1)??[],S=(b==null?void 0:b.calls)??[],$=(p==null?void 0:p.calls)??[],C=[...S,...$].map(F=>F.status==="success"?Ce(F.data):null),T=(y==null?void 0:y.calls)??[],R=(v==null?void 0:v.calls)??[],O=[...T,...R].map(F=>F.status==="success"?Ce(F.data):null),U=((I==null?void 0:I.calls)??[]).map(F=>F.status==="success"?F.result:null),A=((m==null?void 0:m.calls)??[]).map(F=>F.status==="success"?F.result:null),k=((w==null?void 0:w.calls)??[]).map(F=>F.status==="success"?F.result:null),z=[];for(const[F,N]of O.entries()){const L=C[F];if(typeof N!="bigint"||typeof L!="bigint")continue;const q=U[F-1],Y=A[F-1],de=k[F-1],ce=F===0?{address:O6,decimals:18,symbol:"ETH"}:{address:d[F-1],decimals:de||q?Number(q??1):void 0,symbol:Y??void 0};z.some(te=>te.token.address===ce.address)||z.push({token:ce,value:{pre:L,post:N,diff:N-L}})}return{assetChanges:z,block:E,results:x}}const a0="0x6492649264926492649264926492649264926492649264926492649264926492";function k6(e){if(st(e,-32)!==a0)throw new _6(e)}function F6(e){const{data:t,signature:n,to:r}=e;return Ye(Ya(yl("address, bytes, bytes"),[r,t,n]),a0)}function N6(e){try{return k6(e),!0}catch{return!1}}class _6 extends V{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function z6({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new ec.Signature(Ce(e),Ce(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:Le(o)}async function Si(e,t){var a,c,u,f,d,l;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(c=(a=e.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:i=t.multicallAddress??((l=(d=(f=e.chain)==null?void 0:f.contracts)==null?void 0:d.multicall3)==null?void 0:l.address)}=t,o=(()=>{const h=t.signature;return Ke(h)?h:typeof h=="object"&&"r"in h&&"s"in h?z6(h):ee(h)})();try{return Bg(o)?await j6(e,{...t,multicallAddress:i,signature:o}):await L6(e,{...t,verifierAddress:s,signature:o})}catch(h){try{if(mr(Gt(n),await nd({hash:r,signature:o})))return!0}catch{}if(h instanceof Bn)return!1;throw h}}async function j6(e,t){var y;const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:o}=t,{authorization:a,data:c,signature:u,to:f}=Tg(t.signature);if(await Ho(e,{address:n,blockNumber:r,blockTag:s})===Oe(["0xef0100",a.address]))return await U6(e,{address:n,blockNumber:r,blockTag:s,hash:i,signature:u});const l={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:M(a.r,{size:32}),s:M(a.s,{size:32}),yParity:a.yParity};if(!await ny({address:n,authorization:l}))throw new Bn;const b=await j(e,Ue,"readContract")({...o?{address:o}:{code:za},authorizationList:[l],abi:Qs,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Re({abi:Nd,functionName:"isValidSignature",args:[i,u]})}]]}),p=(y=b[b.length-1])==null?void 0:y.returnData;if(p!=null&&p.startsWith("0x1626ba7e"))return!0;throw new Bn}async function L6(e,t){const{address:n,factory:r,factoryData:s,hash:i,signature:o,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||N6(o)?o:F6({data:s,signature:o,to:r}))(),f=a?{to:a,data:Re({abi:au,functionName:"isValidSig",args:[n,i,u]}),...c}:{data:ii({abi:au,args:[n,i,u],bytecode:Gy}),...c},{data:d}=await j(e,vr,"call")(f).catch(l=>{throw l instanceof zd?new Bn:l});if(Uh(d??"0x0"))return!0;throw new Bn}async function U6(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:o}=t;if((await j(e,Ue,"readContract")({address:n,abi:Nd,args:[i,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof ja?new Bn:c})).startsWith("0x1626ba7e"))return!0;throw new Bn}class Bn extends Error{}async function D6(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const a=Kd(n);return j(e,Si,"verifyHash")({address:t,factory:r,factoryData:s,hash:a,signature:i,...o})}async function q6(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:u,...f}=t,d=P1({message:o,primaryType:a,types:c,domain:u});return j(e,Si,"verifyHash")({address:n,factory:r,factoryData:s,hash:d,signature:i,...f})}function c0(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=X(["watchBlockNumber",e.uid,t,n,o]);return Pt(d,{onBlockNumber:r,onError:s},l=>Er(async()=>{var h;try{const b=await j(e,Es,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let p=c+1n;p<b;p++)l.onBlockNumber(p,c),c=p}(c===void 0||b>c)&&(l.onBlockNumber(b,c),c=b)}catch(b){(h=l.onError)==null||h.call(l,b)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=X(["watchBlockNumber",e.uid,t,n]);return Pt(d,{onBlockNumber:r,onError:s},l=>{let h=!0,b=()=>h=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const v=e.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return v?v.value:e.transport}return e.transport})(),{unsubscribe:y}=await p.subscribe({params:["newHeads"],onData(v){var w;if(!h)return;const I=Ce((w=v.result)==null?void 0:w.number);l.onBlockNumber(I,c),c=I},onError(v){var I;(I=l.onError)==null||I.call(l,v)}});b=y,h||b()}catch(p){s==null||s(p)}})(),()=>b()})})()}async function pc(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:g})=>~~(1<<g)*200,timeout:c=18e4}=t,u=X(["waitForTransactionReceipt",e.uid,s]),f=(()=>{var g;return t.pollingInterval?t.pollingInterval:(g=e.chain)!=null&&g.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,l,h,b=!1,p,y;const{promise:v,resolve:I,reject:w}=Ua(),m=c?setTimeout(()=>{y==null||y(),p==null||p(),w(new Cb({hash:s}))},c):void 0;return p=Pt(u,{onReplaced:i,resolve:I,reject:w},async g=>{if(h=await j(e,Ls,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(m),g.resolve(h),p==null||p();return}y=j(e,c0,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(E){const x=$=>{clearTimeout(m),y==null||y(),$(),p==null||p()};let S=E;if(!b)try{if(h){if(r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;x(()=>g.resolve(h));return}if(n&&!d&&(b=!0,await Jr(async()=>{d=await j(e,Pi,"getTransaction")({hash:s}),d.blockNumber&&(S=d.blockNumber)},{delay:a,retryCount:o}),b=!1),h=await j(e,Ls,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r))return;x(()=>g.resolve(h))}catch($){if($ instanceof sd||$ instanceof id){if(!d){b=!1;return}try{l=d,b=!0;const C=await Jr(()=>j(e,We,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:O})=>O instanceof zl});b=!1;const T=C.transactions.find(({from:O,nonce:U})=>O===l.from&&U===l.nonce);if(!T||(h=await j(e,Ls,"getTransactionReceipt")({hash:T.hash}),r>1&&(!h.blockNumber||S-h.blockNumber+1n<r)))return;let R="replaced";T.to===l.to&&T.value===l.value&&T.input===l.input?R="repriced":T.from===T.to&&T.value===0n&&(R="cancelled"),x(()=>{var O;(O=g.onReplaced)==null||O.call(g,{reason:R,replacedTransaction:l,transaction:T,transactionReceipt:h}),g.resolve(h)})}catch(C){x(()=>g.reject(C))}}else x(()=>g.reject($))}}})}),v}function G6(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=o??!1;let d;return u?(()=>{const b=X(["watchBlocks",e.uid,t,n,r,f,c]);return Pt(b,{onBlock:s,onError:i},p=>Er(async()=>{var y;try{const v=await j(e,We,"getBlock")({blockTag:t,includeTransactions:f});if(v.number!==null&&(d==null?void 0:d.number)!=null){if(v.number===d.number)return;if(v.number-d.number>1&&n)for(let I=(d==null?void 0:d.number)+1n;I<v.number;I++){const w=await j(e,We,"getBlock")({blockNumber:I,includeTransactions:f});p.onBlock(w,d),d=w}}((d==null?void 0:d.number)==null||t==="pending"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>d.number)&&(p.onBlock(v,d),d=v)}catch(v){(y=p.onError)==null||y.call(p,v)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,p=!0,y=()=>b=!1;return(async()=>{try{r&&j(e,We,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{b&&p&&(s(w,void 0),p=!1)}).catch(i);const v=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(m=>m.config.type==="webSocket"||m.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:I}=await v.subscribe({params:["newHeads"],async onData(w){var g;if(!b)return;const m=await j(e,We,"getBlock")({blockNumber:(g=w.result)==null?void 0:g.number,includeTransactions:f}).catch(()=>{});b&&(s(m,d),p=!1,d=m)},onError(w){i==null||i(w)}});y=I,b||y()}catch(v){i==null||i(v)}})(),()=>y()})()}function H6(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return l?(()=>{const y=X(["watchEvent",t,n,r,e.uid,s,f,o]);return Pt(y,{onLogs:c,onError:a},v=>{let I;o!==void 0&&(I=o-1n);let w,m=!1;const g=Er(async()=>{var E;if(!m){try{w=await j(e,e0,"createEventFilter")({address:t,args:n,event:s,events:i,strict:h,fromBlock:o})}catch{}m=!0;return}try{let x;if(w)x=await j(e,vi,"getFilterChanges")({filter:w});else{const S=await j(e,Es,"getBlockNumber")({});I&&I!==S?x=await j(e,cc,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:I+1n,toBlock:S}):x=[],I=S}if(x.length===0)return;if(r)v.onLogs(x);else for(const S of x)v.onLogs([S])}catch(x){w&&x instanceof Zt&&(m=!1),(E=v.onError)==null||E.call(v,x)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await j(e,xi,"uninstallFilter")({filter:w}),g()}})})():(()=>{let y=!0,v=()=>y=!1;return(async()=>{try{const I=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),w=i??(s?[s]:void 0);let m=[];w&&(m=[w.flatMap(x=>ls({abi:[x],eventName:x.name,args:n}))],s&&(m=m[0]));const{unsubscribe:g}=await I.subscribe({params:["logs",{address:t,topics:m}],onData(E){var S;if(!y)return;const x=E.result;try{const{eventName:$,args:C}=Hs({abi:w??[],data:x.data,topics:x.topics,strict:h}),T=xt(x,{args:C,eventName:$});c([T])}catch($){let C,T;if($ instanceof Gs||$ instanceof xa){if(d)return;C=$.abiItem.name,T=(S=$.abiItem.inputs)==null?void 0:S.some(O=>!("name"in O&&O.name))}const R=xt(x,{args:T?[]:{},eventName:C});c([R])}},onError(E){a==null||a(E)}});v=g,y||v()}catch(I){a==null||a(I)}})(),()=>v()})()}function V6(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=X(["watchPendingTransactions",e.uid,t,i]);return Pt(u,{onTransactions:r,onError:n},f=>{let d;const l=Er(async()=>{var h;try{if(!d)try{d=await j(e,t0,"createPendingTransactionFilter")({});return}catch(p){throw l(),p}const b=await j(e,vi,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)f.onTransactions(b);else for(const p of b)f.onTransactions([p])}catch(b){(h=f.onError)==null||h.call(f,b)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await j(e,xi,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const h=l.result;r([h])},onError(l){n==null||n(l)}});f=d,u||f()}catch(d){n==null||n(d)}})(),()=>f()})()}function W6(e){var d,l,h;const{scheme:t,statement:n,...r}=((d=e.match(K6))==null?void 0:d.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...u}=((l=e.match(Q6))==null?void 0:l.groups)??{},f=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const K6=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Q6=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Z6(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!ie(r.address,{strict:!1})||t&&!mr(r.address,t))return!1}catch{return!1}return!0}async function Y6(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...u}=t,f=W6(s);if(!f.address||!Z6({address:n,domain:r,message:f,nonce:i,scheme:o,time:c}))return!1;const l=Kd(s);return Si(e,{address:f.address,hash:l,signature:a,...u})}async function bc(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,M(r)]:[t]},{retryCount:0}),o=(((u=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||Ha)(s);if(o.status==="reverted"&&n)throw new od({receipt:o});return o}function u0(e){return{call:t=>vr(e,t),createAccessList:t=>Xl(e,t),createBlockFilter:()=>f6(e),createContractEventFilter:t=>Nl(e,t),createEventFilter:t=>e0(e,t),createPendingTransactionFilter:()=>t0(e),estimateContractGas:t=>_g(e,t),estimateGas:t=>ac(e,t),getBalance:t=>n0(e,t),getBlobBaseFee:()=>d6(e),getBlock:t=>We(e,t),getBlockNumber:t=>Es(e,t),getBlockTransactionCount:t=>l6(e,t),getBytecode:t=>Ho(e,t),getChainId:()=>Jt(e),getCode:t=>Ho(e,t),getContractEvents:t=>Ll(e,t),getEip712Domain:t=>p6(e,t),getEnsAddress:t=>Zg(e,t),getEnsAvatar:t=>Yl(e,t),getEnsName:t=>Jl(e,t),getEnsResolver:t=>u6(e,t),getEnsText:t=>Zl(e,t),getFeeHistory:t=>m6(e,t),estimateFeesPerGas:t=>Ng(e,t),getFilterChanges:t=>vi(e,t),getFilterLogs:t=>g6(e,t),getGasPrice:()=>sc(e),getLogs:t=>cc(e,t),getProof:t=>x6(e,t),estimateMaxPriorityFeePerGas:t=>Fg(e,t),fillTransaction:t=>ic(e,t),getStorageAt:t=>E6(e,t),getTransaction:t=>Pi(e,t),getTransactionConfirmations:t=>P6(e,t),getTransactionCount:t=>Va(e,t),getTransactionReceipt:t=>Ls(e,t),multicall:t=>r0(e,t),prepareTransactionRequest:t=>xs(e,t),readContract:t=>Ue(e,t),sendRawTransaction:t=>uc(e,t),sendRawTransactionSync:t=>bc(e,t),simulate:t=>Vo(e,t),simulateBlocks:t=>Vo(e,t),simulateCalls:t=>M6(e,t),simulateContract:t=>zg(e,t),verifyHash:t=>Si(e,t),verifyMessage:t=>D6(e,t),verifySiweMessage:t=>Y6(e,t),verifyTypedData:t=>q6(e,t),uninstallFilter:t=>xi(e,t),waitForTransactionReceipt:t=>pc(e,t),watchBlocks:t=>G6(e,t),watchBlockNumber:t=>c0(e,t),watchContractEvent:t=>Hg(e,t),watchEvent:t=>H6(e,t),watchPendingTransactions:t=>V6(e,t)}}function av(e){const{key:t="public",name:n="Public Client"}=e;return Ei({...e,key:t,name:n,type:"publicClient"}).extend(u0)}async function J6(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:M(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function X6(e,t){const{abi:n,args:r,bytecode:s,...i}=t,o=ii({abi:n,args:r,bytecode:s});return Ps(e,{...i,...i.authorizationList?{to:null}:{},data:o})}async function e5(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>cs(r))}async function t5(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?Q(n):void 0,i=r?[s==null?void 0:s.address,[M(r)]]:[s==null?void 0:s.address],o=await e.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,u]of Object.entries(o)){a[Number(c)]={};for(let[f,d]of Object.entries(u))f==="addSubAccount"&&(f="unstable_addSubAccount"),a[Number(c)][f]=d}return typeof r=="number"?a[r]:a}async function n5(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function f0(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Xt({docsPath:"/docs/eip7702/prepareAuthorization"});const i=Q(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:Q(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await j(e,Jt,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await j(e,Va,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&mr(o.address,i.address))&&(a.nonce+=1)),a}async function r5(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Gt(n))}async function s5(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function i5(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await ql(e,t);return await Hl(e,{...t,id:s.id,timeout:r})}const no=new kn(128);async function d0(e,t){var g,E,x,S;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,pollingInterval:b,throwOnReceiptRevert:p,type:y,value:v,...I}=t,w=t.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Xt({docsPath:"/docs/actions/wallet/sendTransactionSync"});const m=n?Q(n):null;try{$t(t);const $=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await oi({authorization:i[0]}).catch(()=>{throw new B("`to` is required. Could not infer from `authorizationList`.")})})();if((m==null?void 0:m.type)==="json-rpc"||m===null){let C;r!==null&&(C=await j(e,Jt,"getChainId")({}),qa({currentChainId:C,chain:r}));const T=(x=(E=(g=e.chain)==null?void 0:g.formatters)==null?void 0:E.transactionRequest)==null?void 0:x.format,O=(T||Yt)({...wr(I,{format:T}),accessList:s,account:m,authorizationList:i,blobs:o,chainId:C,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,to:$,type:y,value:v},"sendTransaction"),U=no.get(e.uid),A=U?"wallet_sendTransaction":"eth_sendTransaction",k=await(async()=>{try{return await e.request({method:A,params:[O]},{retryCount:0})}catch(F){if(U===!1)throw F;const N=F;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[O]},{retryCount:0}).then(L=>(no.set(e.uid,!0),L)).catch(L=>{const q=L;throw q.name==="MethodNotFoundRpcError"||q.name==="MethodNotSupportedRpcError"?(no.set(e.uid,!1),N):q});throw N}})(),z=await j(e,pc,"waitForTransactionReceipt")({checkReplacement:!1,hash:k,pollingInterval:b,timeout:w});if(p&&z.status==="reverted")throw new od({receipt:z});return z}if((m==null?void 0:m.type)==="local"){const C=await j(e,xs,"prepareTransactionRequest")({account:m,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:f,maxFeePerGas:d,maxPriorityFeePerGas:l,nonce:h,nonceManager:m.nonceManager,parameters:[...oc,"sidecars"],type:y,value:v,...I,to:$}),T=(S=r==null?void 0:r.serializers)==null?void 0:S.transaction,R=await m.signTransaction(C,{serializer:T});return await j(e,bc,"sendRawTransactionSync")({serializedTransaction:R,throwOnReceiptRevert:p})}throw(m==null?void 0:m.type)==="smart"?new wn({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new wn({docsPath:"/docs/actions/wallet/sendTransactionSync",type:m==null?void 0:m.type})}catch($){throw $ instanceof wn?$:yi($,{...t,account:m,chain:t.chain||void 0})}}async function o5(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function a5(e,t){const{account:n=e.account}=t;if(!n)throw new Xt({docsPath:"/docs/eip7702/signAuthorization"});const r=Q(n);if(!r.signAuthorization)throw new wn({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await f0(e,t);return r.signAuthorization(s)}async function l0(e,{account:t=e.account,message:n}){if(!t)throw new Xt({docsPath:"/docs/actions/wallet/signMessage"});const r=Q(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?xn(n):n.raw instanceof Uint8Array?Qe(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function c5(e,t){var u,f,d,l;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Xt({docsPath:"/docs/actions/wallet/signTransaction"});const i=Q(n);$t({account:i,...t});const o=await j(e,Jt,"getChainId")({});r!==null&&qa({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((f=a==null?void 0:a.transactionRequest)==null?void 0:f.format)||Yt;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(l=(d=e.chain)==null?void 0:d.serializers)==null?void 0:l.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:i},"signTransaction"),chainId:M(o),from:i.address}]},{retryCount:0})}async function h0(e,t){const{account:n=e.account,domain:r,message:s,primaryType:i}=t;if(!n)throw new Xt({docsPath:"/docs/actions/wallet/signTypedData"});const o=Q(n),a={EIP712Domain:Zd({domain:r}),...t.types};if(Qd({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=x1({domain:r,message:s,primaryType:i,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function u5(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:M(t)}]},{retryCount:0})}async function f5(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function d5(e,t){return pr.internal(e,d0,"sendTransactionSync",t)}function l5(e){return{addChain:t=>J6(e,t),deployContract:t=>X6(e,t),fillTransaction:t=>ic(e,t),getAddresses:()=>e5(e),getCallsStatus:t=>Gl(e,t),getCapabilities:t=>t5(e,t),getChainId:()=>Jt(e),getPermissions:()=>n5(e),prepareAuthorization:t=>f0(e,t),prepareTransactionRequest:t=>xs(e,t),requestAddresses:()=>r5(e),requestPermissions:t=>s5(e,t),sendCalls:t=>ql(e,t),sendCallsSync:t=>i5(e,t),sendRawTransaction:t=>uc(e,t),sendRawTransactionSync:t=>bc(e,t),sendTransaction:t=>Ps(e,t),sendTransactionSync:t=>d0(e,t),showCallsStatus:t=>o5(e,t),signAuthorization:t=>a5(e,t),signMessage:t=>l0(e,t),signTransaction:t=>c5(e,t),signTypedData:t=>h0(e,t),switchChain:t=>u5(e,t),waitForCallsStatus:t=>Hl(e,t),watchAsset:t=>f5(e,t),writeContract:t=>pr(e,t),writeContractSync:t=>d5(e,t)}}function cv(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Ei({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(l5)}function yc({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=Vl();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:ay(r,{methods:t,retryCount:s,retryDelay:i,uid:u}),value:c}}function h5(e,t={}){const{key:n="custom",methods:r,name:s="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>yc({key:n,methods:r,name:s,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}function uv(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=p5,retryCount:o,retryDelay:a}=t;return(({chain:c,pollingInterval:u=4e3,timeout:f,...d})=>{let l=e,h=()=>{};const b=yc({key:n,name:r,async request({method:p,params:y}){let v;const I=async(w=0)=>{const m=l[w]({...d,chain:c,retryCount:0,timeout:f});try{const g=await m.request({method:p,params:y});return h({method:p,params:y,response:g,transport:m,status:"success"}),g}catch(g){if(h({error:g,method:p,params:y,transport:m,status:"error"}),i(g)||w===l.length-1||(v??(v=l.slice(w+1).some(E=>{const{include:x,exclude:S}=E({chain:c}).config.methods||{};return x?x.includes(p):S?!S.includes(p):!0})),!v))throw g;return I(w+1)}};return I()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:p=>h=p,transports:l.map(p=>p({chain:c,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};b5({chain:c,interval:p.interval??u,onTransports:y=>l=y,ping:p.ping,sampleCount:p.sampleCount,timeout:p.timeout,transports:l,weights:p.weights})}return b})}function p5(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===fr.code||e.code===fe.code||nn.nodeMessage.test(e.message)||e.code===5e3))}function b5({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,f=[],d=async()=>{const l=await Promise.all(o.map(async p=>{const y=p({chain:e,retryCount:0,timeout:i}),v=Date.now();let I,w;try{await(r?r({transport:y}):y.request({method:"net_listening"})),w=1}catch{w=0}finally{I=Date.now()}return{latency:I-v,success:w}}));f.push(l),f.length>s&&f.shift();const h=Math.max(...f.map(p=>Math.max(...p.map(({latency:y})=>y)))),b=o.map((p,y)=>{const v=f.map(E=>E[y].latency),w=1-v.reduce((E,x)=>E+x,0)/v.length/h,m=f.map(E=>E[y].success),g=m.reduce((E,x)=>E+x,0)/m.length;return g===0?[0,y]:[u*w+c*g,y]}).sort((p,y)=>y[0]-p[0]);n(b.map(([,p])=>o[p])),await Vs(t),d()};d()}class y5 extends B{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function fv(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:f,raw:d}=t;return({chain:l,retryCount:h,timeout:b})=>{const{batchSize:p=1e3,wait:y=0}=typeof n=="object"?n:{},v=t.retryCount??h,I=b??t.timeout??1e4,w=e||(l==null?void 0:l.rpcUrls.default.http[0]);if(!w)throw new y5;const m=b1(w,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:I});return yc({key:i,methods:o,name:a,async request({method:g,params:E}){const x={method:g,params:E},{schedule:S}=Ld({id:w,wait:y,shouldSplitBatch(R){return R.length>p},fn:R=>m.request({body:R}),sort:(R,O)=>R.id-O.id}),$=async R=>n?S(R):[await m.request({body:R})],[{error:C,result:T}]=await $(x);if(d)return{error:C,result:T};if(C)throw new Ma({body:x,error:C,url:w});return T},retryCount:v,retryDelay:f,timeout:I,type:"http"},{fetchOptions:s,url:w})}}function dv(e){const{r:t,s:n}=ec.Signature.fromCompact(e.slice(2,130)),r=+`0x${e.slice(130)}`,[s,i]=(()=>{if(r===0||r===1)return[void 0,r];if(r===27)return[BigInt(r),0];if(r===28)return[BigInt(r),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:M(t,{size:32}),s:M(n,{size:32}),v:s,yParity:i}:{r:M(t,{size:32}),s:M(n,{size:32}),yParity:i}}var ro={exports:{}},Bu;function m5(){return Bu||(Bu=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,l){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new s(f,d||c,l),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],h]:c._events[b].push(h):(c._events[b]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var l=0,h=d.length,b=new Array(h);l<h;l++)b[l]=d[l].fn;return b},a.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,f,d,l,h,b){var p=n?n+u:u;if(!this._events[p])return!1;var y=this._events[p],v=arguments.length,I,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,l),!0;case 5:return y.fn.call(y.context,f,d,l,h),!0;case 6:return y.fn.call(y.context,f,d,l,h,b),!0}for(w=1,I=new Array(v-1);w<v;w++)I[w-1]=arguments[w];y.fn.apply(y.context,I)}else{var m=y.length,g;for(w=0;w<m;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,f);break;case 3:y[w].fn.call(y[w].context,f,d);break;case 4:y[w].fn.call(y[w].context,f,d,l);break;default:if(!I)for(g=1,I=new Array(v-1);g<v;g++)I[g-1]=arguments[g];y[w].fn.apply(y[w].context,I)}}return!0},a.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},a.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},a.prototype.removeListener=function(u,f,d,l){var h=n?n+u:u;if(!this._events[h])return this;if(!f)return o(this,h),this;var b=this._events[h];if(b.fn)b.fn===f&&(!l||b.once)&&(!d||b.context===d)&&o(this,h);else{for(var p=0,y=[],v=b.length;p<v;p++)(b[p].fn!==f||l&&!b[p].once||d&&b[p].context!==d)&&y.push(b[p]);y.length?this._events[h]=y.length===1?y[0]:y:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(ro)),ro.exports}var g5=m5();const w5=cf(g5);function ze(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}const Us="2.22.1",v5=()=>`@wagmi/core@${Us}`;var p0=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ys,b0;let Ct=class Qo extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return v5()}constructor(t,n={}){var i;super(),Ys.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof Qo?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof Qo&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${this.docsBaseUrl}${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return p0(this,Ys,"m",b0).call(this,this,t)}};Ys=new WeakSet,b0=function e(t,n){return n!=null&&n(t)?t:t.cause?p0(this,Ys,"m",e).call(this,t.cause,n):t};class Js extends Ct{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class x5 extends Ct{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class E5 extends Ct{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class P5 extends Ct{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class I5 extends Ct{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class S5 extends Ct{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function $5(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new x5;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:s,...i}=t,o=await n.connect(i);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:i.withCapabilities?o.accounts.map(c=>typeof c=="object"?c.address:c):o.accounts,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:i.withCapabilities?o.accounts.map(a=>typeof a=="object"?a:{address:a,capabilities:{}}):o.accounts,chainId:o.chainId}}catch(s){throw e.setState(i=>({...i,status:i.current?"connected":"disconnected"})),s}}async function $i(e,t={}){const{assertChainId:n=!0}=t;let r;if(t.connector){const{connector:f}=t;if(e.state.status==="reconnecting"&&!f.getAccounts&&!f.getChainId)throw new S5({connector:f});const[d,l]=await Promise.all([f.getAccounts().catch(h=>{if(t.account===null)return[];throw h}),f.getChainId()]);r={accounts:d,chainId:l,connector:f}}else r=e.state.connections.get(e.state.current);if(!r)throw new E5;const s=t.chainId??r.chainId,i=await r.connector.getChainId();if(n&&i!==s)throw new I5({connectionChainId:s,connectorChainId:i});const o=r.connector;if(o.getClient)return o.getClient({chainId:s});const a=Q(t.account??r.accounts[0]);if(a&&(a.address=Gt(a.address)),t.account&&!r.accounts.some(f=>f.toLowerCase()===a.address.toLowerCase()))throw new P5({address:a.address,connector:o});const c=e.chains.find(f=>f.id===s),u=await r.connector.getProvider({chainId:s});return Ei({account:a,chain:c,name:"Connector Client",transport:f=>h5(u)({...f,retryCount:0})})}async function A5(e,t={}){var s,i;let n;if(t.connector)n=t.connector;else{const{connections:o,current:a}=e.state,c=o.get(a);n=c==null?void 0:c.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:"disconnected"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=e.state.current;if(!o)return;const a=(s=e.state.connections.get(o))==null?void 0:s.connector;if(!a)return;await((i=e.storage)==null?void 0:i.setItem("recentConnectorId",a.id))}}function y0(e){return typeof e=="number"?e:e==="wei"?0:Math.abs(Pb[e])}function m0(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,s=r==null?void 0:r[0],i=e.chains.find(a=>a.id===(n==null?void 0:n.chainId)),o=e.state.status;switch(o){case"connected":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!s,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:s,addresses:r,chain:i,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function C5(e,t){const{allowFailure:n=!0,chainId:r,contracts:s,...i}=t,o=e.getClient({chainId:r});return ze(o,r0,"multicall")({allowFailure:n,contracts:s,...i})}function g0(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return ze(s,Ue,"readContract")(r)}async function T5(e,t){var a;const{allowFailure:n=!0,blockNumber:r,blockTag:s,...i}=t,o=t.contracts;try{const c={};for(const[l,h]of o.entries()){const b=h.chainId??e.state.chainId;c[b]||(c[b]=[]),(a=c[b])==null||a.push({contract:h,index:l})}const u=()=>Object.entries(c).map(([l,h])=>C5(e,{...i,allowFailure:n,blockNumber:r,blockTag:s,chainId:Number.parseInt(l,10),contracts:h.map(({contract:b})=>b)})),f=(await Promise.all(u())).flat(),d=Object.values(c).flatMap(l=>l.map(({index:h})=>h));return f.reduce((l,h,b)=>(l&&(l[d[b]]=h),l),[])}catch(c){if(c instanceof ja)throw c;const u=()=>o.map(f=>g0(e,{...f,blockNumber:r,blockTag:s}));return n?(await Promise.allSettled(u())).map(f=>f.status==="fulfilled"?{result:f.value,status:"success"}:{error:f.reason,result:void 0,status:"failure"}):await Promise.all(u())}}async function B5(e,t){const{address:n,blockNumber:r,blockTag:s,chainId:i,token:o,unit:a="ether"}=t;if(o)try{return await Ou(e,{balanceAddress:n,chainId:i,symbolType:"string",tokenAddress:o})}catch(l){if(l.name==="ContractFunctionExecutionError"){const h=await Ou(e,{balanceAddress:n,chainId:i,symbolType:"bytes32",tokenAddress:o}),b=Cf(Ee(h.symbol,{dir:"right"}));return{...h,symbol:b}}throw l}const c=e.getClient({chainId:i}),f=await ze(c,n0,"getBalance")(r?{address:n,blockNumber:r}:{address:n,blockTag:s}),d=e.chains.find(l=>l.id===i)??c.chain;return{decimals:d.nativeCurrency.decimals,formatted:ai(f,y0(a)),symbol:d.nativeCurrency.symbol,value:f}}async function Ou(e,t){const{balanceAddress:n,chainId:r,symbolType:s,tokenAddress:i,unit:o}=t,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:s}]}],address:i},[c,u,f]=await T5(e,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[n],chainId:r},{...a,functionName:"decimals",chainId:r},{...a,functionName:"symbol",chainId:r}]}),d=ai(c??"0",y0(o??u));return{decimals:u,formatted:d,symbol:f,value:c}}function Ru(e){return e.state.chainId}function On(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!On(e[r],t[r]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(i&&!On(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}let so=[];function Mu(e){const t=e.chains;return On(so,t)?so:(so=t,t)}function O5(e,t={}){try{return e.getClient(t)}catch{return}}let Fs=[];function Zo(e){const t=[...e.state.connections.values()];return e.state.status==="reconnecting"||On(Fs,t)?Fs:(Fs=t,t)}let Ns=[];function ku(e){const t=e.connectors;return Ns.length===t.length&&Ns.every((n,r)=>n===t[r])?Ns:(Ns=t,t)}function R5(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return ze(s,Yl,"getEnsAvatar")(r)}function M5(e,t){const{chainId:n,...r}=t,s=e.getClient({chainId:n});return ze(s,Jl,"getEnsName")(r)}function Yo(e,t={}){const n=O5(e,t);return n==null?void 0:n.extend(u0)}let io=!1;async function k5(e,t={}){var u,f;if(io)return[];io=!0,e.setState(d=>({...d,status:d.current?"reconnecting":"connecting"}));const n=[];if((u=t.connectors)!=null&&u.length)for(const d of t.connectors){let l;typeof d=="function"?l=e._internal.connectors.setup(d):l=d,n.push(l)}else n.push(...e.connectors);let r;try{r=await((f=e.storage)==null?void 0:f.getItem("recentConnectorId"))}catch{}const s={};for(const[,d]of e.state.connections)s[d.connector.id]=1;r&&(s[r]=0);const i=Object.keys(s).length>0?[...n].sort((d,l)=>(s[d.id]??10)-(s[l.id]??10)):n;let o=!1;const a=[],c=[];for(const d of i){const l=await d.getProvider().catch(()=>{});if(!l||c.some(p=>p===l)||!await d.isAuthorized())continue;const b=await d.connect({isReconnecting:!0}).catch(()=>null);b&&(d.emitter.off("connect",e._internal.events.connect),d.emitter.on("change",e._internal.events.change),d.emitter.on("disconnect",e._internal.events.disconnect),e.setState(p=>{const y=new Map(o?p.connections:new Map).set(d.uid,{accounts:b.accounts,chainId:b.chainId,connector:d});return{...p,current:o?p.current:d.uid,connections:y}}),a.push({accounts:b.accounts,chainId:b.chainId,connector:d}),c.push(l),o=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(o?e.setState(d=>({...d,status:"connected"})):e.setState(d=>({...d,connections:new Map,current:null,status:"disconnected"}))),io=!1,a}async function F5(e,t){const{account:n,chainId:r,connector:s,...i}=t;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=e.getClient({chainId:r}):o=await $i(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s}),await ze(o,Ps,"sendTransaction")({...i,...n?{account:n}:{},chain:r?{id:r}:null,gas:i.gas??void 0})}async function N5(e,t){const{account:n,connector:r,...s}=t;let i;return typeof n=="object"&&n.type==="local"?i=e.getClient():i=await $i(e,{account:n,connector:r}),ze(i,l0,"signMessage")({...s,...n?{account:n}:{}})}async function _5(e,t){const{account:n,connector:r,...s}=t;let i;return typeof n=="object"&&n.type==="local"?i=e.getClient():i=await $i(e,{account:n,connector:r}),ze(i,h0,"signTypedData")({...s,...n?{account:n}:{}})}class qn extends Ct{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class z5 extends Ct{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function j5(e,t){var o;const{addEthereumChainParameter:n,chainId:r}=t,s=e.state.connections.get(((o=t.connector)==null?void 0:o.uid)??e.state.current);if(s){const a=s.connector;if(!a.switchChain)throw new z5({connector:a});return await a.switchChain({addEthereumChainParameter:n,chainId:r})}const i=e.chains.find(a=>a.id===r);if(!i)throw new Js;return e.setState(a=>({...a,chainId:r})),i}async function L5(e,t){const{chainId:n,timeout:r=0,...s}=t,i=e.getClient({chainId:n}),a=await ze(i,pc,"waitForTransactionReceipt")({...s,timeout:r});if(a.status==="reverted"){const c=ze(i,Pi,"getTransaction"),{from:u,...f}=await c({hash:a.transactionHash}),l=await ze(i,vr,"call")({...f,account:u,data:f.input,gasPrice:f.type!=="eip1559"?f.gasPrice:void 0,maxFeePerGas:f.type==="eip1559"?f.maxFeePerGas:void 0,maxPriorityFeePerGas:f.type==="eip1559"?f.maxPriorityFeePerGas:void 0}),h=l!=null&&l.data?Cf(`0x${l.data.substring(138)}`):"unknown reason";throw new Error(h)}return{...a,chainId:i.chain.id}}function w0(e,t){const{onChange:n}=t;return e.subscribe(()=>m0(e),n,{equalityFn(r,s){const{connector:i,...o}=r,{connector:a,...c}=s;return On(o,c)&&(i==null?void 0:i.id)===(a==null?void 0:a.id)&&(i==null?void 0:i.uid)===(a==null?void 0:a.uid)}})}function U5(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function D5(e,t){const{onChange:n}=t;return e.subscribe(()=>Zo(e),n,{equalityFn:On})}function q5(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,s)=>{n(Object.values(r),s)})}function G5(e,t){const{onChange:n}=t;return e.subscribe(()=>Yo(e),n,{equalityFn(r,s){return(r==null?void 0:r.uid)===(s==null?void 0:s.uid)}})}async function lv(e,t){const{account:n,chainId:r,connector:s,...i}=t;let o;return typeof n=="object"&&(n==null?void 0:n.type)==="local"?o=e.getClient({chainId:r}):o=await $i(e,{account:n??void 0,assertChainId:!1,chainId:r,connector:s}),await ze(o,pr,"writeContract")({...i,...n?{account:n}:{},chain:r?{id:r}:null})}function hv(e){return e}mc.type="injected";function mc(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...H5[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u==null?void 0:u.ethereum}}}let s,i,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:mc.type,async setup(){const u=await this.getProvider();u!=null&&u.on&&e.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),s||(s=this.onAccountsChanged.bind(this),u.on("accountsChanged",s)))},async connect({chainId:u,isReconnecting:f,withCapabilities:d}={}){var b,p,y,v,I,w;const l=await this.getProvider();if(!l)throw new qn;let h=[];if(f)h=await this.getAccounts().catch(()=>[]);else if(t)try{h=(v=(y=(p=(b=(await l.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:b.caveats)==null?void 0:p[0])==null?void 0:y.value)==null?void 0:v.map(g=>Gt(g)),h.length>0&&(h=await this.getAccounts())}catch(m){const g=m;if(g.code===fe.code)throw new fe(g);if(g.code===Vt.code)throw g}try{!(h!=null&&h.length)&&!f&&(h=(await l.request({method:"eth_requestAccounts"})).map(E=>Gt(E))),o&&(l.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),l.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a));let m=await this.getChainId();if(u&&m!==u){const g=await this.switchChain({chainId:u}).catch(E=>{if(E.code===fe.code)throw E;return{id:m}});m=(g==null?void 0:g.id)??m}return t&&await((I=c.storage)==null?void 0:I.removeItem(`${this.id}.disconnected`)),e.target||await((w=c.storage)==null?void 0:w.setItem("injected.connected",!0)),{accounts:d?h.map(g=>({address:g,capabilities:{}})):h,chainId:m}}catch(m){const g=m;throw g.code===fe.code?new fe(g):g.code===Vt.code?new Vt(g):g}},async disconnect(){var f,d;const u=await this.getProvider();if(!u)throw new qn;i&&(u.removeListener("chainChanged",i),i=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await Wd(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await((f=c.storage)==null?void 0:f.setItem(`${this.id}.disconnected`,!0)),e.target||await((d=c.storage)==null?void 0:d.removeItem("injected.connected"))},async getAccounts(){const u=await this.getProvider();if(!u)throw new qn;return(await u.request({method:"eth_accounts"})).map(d=>Gt(d))},async getChainId(){const u=await this.getProvider();if(!u)throw new qn;const f=await u.request({method:"eth_chainId"});return Number(f)},async getProvider(){if(typeof window>"u")return;let u;const f=r();return typeof f.provider=="function"?u=f.provider(window):typeof f.provider=="string"?u=Ds(window,f.provider):u=f.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){var u,f;try{if(t&&await((u=c.storage)==null?void 0:u.getItem(`${this.id}.disconnected`))||!e.target&&!await((f=c.storage)==null?void 0:f.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const b=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",b),!!await this.getProvider()),p=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(v=>window.addEventListener("ethereum#initialized",()=>v(b()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(b()),p))]))return!0}throw new qn}return!!(await Jr(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:f}){var b,p,y,v;const d=await this.getProvider();if(!d)throw new qn;const l=c.chains.find(I=>I.id===f);if(!l)throw new $n(new Js);const h=new Promise(I=>{const w=(m=>{"chainId"in m&&m.chainId===f&&(c.emitter.off("change",w),I())});c.emitter.on("change",w)});try{return await Promise.all([d.request({method:"wallet_switchEthereumChain",params:[{chainId:M(f)}]}).then(async()=>{await this.getChainId()===f&&c.emitter.emit("change",{chainId:f})}),h]),l}catch(I){const w=I;if(w.code===4902||((p=(b=w==null?void 0:w.data)==null?void 0:b.originalError)==null?void 0:p.code)===4902)try{const{default:m,...g}=l.blockExplorers??{};let E;u!=null&&u.blockExplorerUrls?E=u.blockExplorerUrls:m&&(E=[m.url,...Object.values(g).map($=>$.url)]);let x;(y=u==null?void 0:u.rpcUrls)!=null&&y.length?x=u.rpcUrls:x=[((v=l.rpcUrls.default)==null?void 0:v.http[0])??""];const S={blockExplorerUrls:E,chainId:M(f),chainName:(u==null?void 0:u.chainName)??l.name,iconUrls:u==null?void 0:u.iconUrls,nativeCurrency:(u==null?void 0:u.nativeCurrency)??l.nativeCurrency,rpcUrls:x};return await Promise.all([d.request({method:"wallet_addEthereumChain",params:[S]}).then(async()=>{if(await this.getChainId()===f)c.emitter.emit("change",{chainId:f});else throw new fe(new Error("User rejected switch after adding network."))}),h]),l}catch(m){throw new fe(m)}throw w.code===fe.code?new fe(w):new $n(w)}},async onAccountsChanged(u){var f;if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const d=(await this.getChainId()).toString();this.onConnect({chainId:d}),t&&await((f=c.storage)==null?void 0:f.removeItem(`${this.id}.disconnected`))}else c.emitter.emit("change",{accounts:u.map(d=>Gt(d))})},onChainChanged(u){const f=Number(u);c.emitter.emit("change",{chainId:f})},async onConnect(u){const f=await this.getAccounts();if(f.length===0)return;const d=Number(u.chainId);c.emitter.emit("connect",{accounts:f,chainId:d});const l=await this.getProvider();l&&(o&&(l.removeListener("connect",o),o=void 0),s||(s=this.onAccountsChanged.bind(this),l.on("accountsChanged",s)),i||(i=this.onChainChanged.bind(this),l.on("chainChanged",i)),a||(a=this.onDisconnect.bind(this),l.on("disconnect",a)))},async onDisconnect(u){const f=await this.getProvider();u&&u.code===1013&&f&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),f&&(i&&(f.removeListener("chainChanged",i),i=void 0),a&&(f.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),f.on("connect",o))))}})}const H5={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e!=null&&e.coinbaseWalletExtension?e.coinbaseWalletExtension:Ds(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return Ds(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){var t,n;return(t=e==null?void 0:e.phantom)!=null&&t.ethereum?(n=e.phantom)==null?void 0:n.ethereum:Ds(e,"isPhantom")}}};function Ds(e,t){function n(s){return typeof t=="function"?t(s):typeof t=="string"?s[t]:!0}const r=e.ethereum;if(r!=null&&r.providers)return r.providers.find(s=>n(s));if(r&&n(r))return r}const V5=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(o,a,c)=>{let u=o;if(a){const f=(c==null?void 0:c.equalityFn)||Object.is;let d=o(r.getState());u=l=>{const h=o(l);if(!f(d,h)){const b=d;a(d=h,b)}},c!=null&&c.fireImmediately&&a(d,d)}return s(u)},e(t,n,r)},W5=V5;function K5(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Jo=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Jo(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Jo(r)(n)}}}},Q5=(e,t)=>(n,r,s)=>{let i={storage:K5(()=>localStorage),partialize:p=>p,version:0,merge:(p,y)=>({...y,...p}),...t},o=!1;const a=new Set,c=new Set;let u=i.storage;if(!u)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...p)},r,s);const f=()=>{const p=i.partialize({...r()});return u.setItem(i.name,{state:p,version:i.version})},d=s.setState;s.setState=(p,y)=>{d(p,y),f()};const l=e((...p)=>{n(...p),f()},r,s);s.getInitialState=()=>l;let h;const b=()=>{var p,y;if(!u)return;o=!1,a.forEach(I=>{var w;return I((w=r())!=null?w:l)});const v=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(p=r())!=null?p:l))||void 0;return Jo(u.getItem.bind(u))(i.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==i.version){if(i.migrate)return[!0,i.migrate(I.state,I.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var w;const[m,g]=I;if(h=i.merge(g,(w=r())!=null?w:l),n(h,!0),m)return f()}).then(()=>{v==null||v(h,void 0),h=r(),o=!0,c.forEach(I=>I(h))}).catch(I=>{v==null||v(void 0,I)})};return s.persist={setOptions:p=>{i={...i,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:p=>(a.add(p),()=>{a.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||b(),h||l},Z5=Q5,Fu=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const l=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(h=>h(t,l))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,s,a);return a},oo=e=>e?Fu(e):Fu;class Y5{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new w5})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function J5(e){return new Y5(e)}function X5(e,t){return JSON.parse(e,(n,r)=>{let s=r;return(s==null?void 0:s.__type)==="bigint"&&(s=BigInt(s.value)),(s==null?void 0:s.__type)==="Map"&&(s=new Map(s.value)),(t==null?void 0:t(n,s))??s})}function Nu(e,t){return e.slice(0,t).join(".")||"."}function _u(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function ew(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],i=[];return function(a,c){if(typeof c=="object")if(s.length){const u=_u(s,this);u===0?s[s.length]=this:(s.splice(u),i.splice(u)),i[i.length]=a;const f=_u(s,c);if(f!==0)return r?t.call(this,a,c,Nu(i,f)):`[ref=${Nu(i,f)}]`}else s[0]=c,i[0]=a;return n?e.call(this,a,c):c}}function tw(e,t,n,r){return JSON.stringify(e,ew((s,i)=>{let o=i;return typeof o=="bigint"&&(o={__type:"bigint",value:i.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(i.entries())}),(t==null?void 0:t(s,o))??o},r),n??void 0)}function nw(e){const{deserialize:t=X5,key:n="wagmi",serialize:r=tw,storage:s=v0}=e;function i(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...s,key:n,async getItem(o,a){const c=s.getItem(`${n}.${o}`),u=await i(c);return u?t(u)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await i(s.removeItem(c)):await i(s.setItem(c,r(a)))},async removeItem(o){await i(s.removeItem(`${n}.${o}`))}}}const v0={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function rw(){const e=typeof window<"u"&&window.localStorage?window.localStorage:v0;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const Xo=256;let _s=Xo,zs;function sw(e=11){if(!zs||_s+e>Xo*2){zs="",_s=0;for(let t=0;t<Xo;t++)zs+=(256+Math.random()*256|0).toString(16).substring(1)}return zs.substring(_s,_s+++e)}function pv(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=nw({storage:rw()}),syncConnectedChain:r=!0,ssr:s=!1,...i}=e,o=typeof window<"u"&&t?K0():void 0,a=oo(()=>i.chains),c=oo(()=>{const g=[],E=new Set;for(const x of i.connectors??[]){const S=u(x);if(g.push(S),!s&&S.rdns){const $=typeof S.rdns=="string"?[S.rdns]:S.rdns;for(const C of $)E.add(C)}}if(!s&&o){const x=o.getProviders();for(const S of x)E.has(S.info.rdns)||g.push(u(f(S)))}return g});function u(g){var S;const E=J5(sw()),x={...g({emitter:E,chains:a.getState(),storage:n,transports:i.transports}),emitter:E,uid:E.uid};return E.on("connect",w),(S=x.setup)==null||S.call(x),x}function f(g){const{info:E}=g,x=g.provider;return mc({target:{...E,id:E.rdns,provider:x}})}const d=new Map;function l(g={}){const E=g.chainId??y.getState().chainId,x=a.getState().find($=>$.id===E);if(g.chainId&&!x)throw new Js;{const $=d.get(y.getState().chainId);if($&&!x)return $;if(!x)throw new Js}{const $=d.get(E);if($)return $}let S;if(i.client)S=i.client({chain:x});else{const $=x.id,C=a.getState().map(O=>O.id),T={},R=Object.entries(i);for(const[O,U]of R)if(!(O==="chains"||O==="client"||O==="connectors"||O==="transports"))if(typeof U=="object")if($ in U)T[O]=U[$];else{if(C.some(k=>k in U))continue;T[O]=U}else T[O]=U;S=Ei({...T,chain:x,batch:T.batch??{multicall:!0},transport:O=>i.transports[$]({...O,connectors:c})})}return d.set(E,S),S}function h(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const p="0.0.0-canary-";Us.startsWith(p)?b=Number.parseInt(Us.replace(p,""),10):b=Number.parseInt(Us.split(".")[0]??"0",10);const y=oo(W5(n?Z5(h,{migrate(g,E){if(E===b)return g;const x=h(),S=v(g,x.chainId);return{...x,chainId:S}},name:"store",partialize(g){return{connections:{__type:"Map",value:Array.from(g.connections.entries()).map(([E,x])=>{const{id:S,name:$,type:C,uid:T}=x.connector;return[E,{...x,connector:{id:S,name:$,type:C,uid:T}}]})},chainId:g.chainId,current:g.current}},merge(g,E){typeof g=="object"&&g&&"status"in g&&delete g.status;const x=v(g,E.chainId);return{...E,...g,chainId:x}},skipHydration:s,storage:n,version:b}):h));y.setState(h());function v(g,E){return g&&typeof g=="object"&&"chainId"in g&&typeof g.chainId=="number"&&a.getState().some(x=>x.id===g.chainId)?g.chainId:E}r&&y.subscribe(({connections:g,current:E})=>{var x;return E?(x=g.get(E))==null?void 0:x.chainId:void 0},g=>{if(a.getState().some(x=>x.id===g))return y.setState(x=>({...x,chainId:g??x.chainId}))}),o==null||o.subscribe(g=>{const E=new Set,x=new Set;for(const $ of c.getState())if(E.add($.id),$.rdns){const C=typeof $.rdns=="string"?[$.rdns]:$.rdns;for(const T of C)x.add(T)}const S=[];for(const $ of g){if(x.has($.info.rdns))continue;const C=u(f($));E.has(C.id)||S.push(C)}n&&!y.persist.hasHydrated()||c.setState($=>[...$,...S],!0)});function I(g){y.setState(E=>{const x=E.connections.get(g.uid);return x?{...E,connections:new Map(E.connections).set(g.uid,{accounts:g.accounts??x.accounts,chainId:g.chainId??x.chainId,connector:x.connector})}:E})}function w(g){y.getState().status==="connecting"||y.getState().status==="reconnecting"||y.setState(E=>{const x=c.getState().find(S=>S.uid===g.uid);return x?(x.emitter.listenerCount("connect")&&x.emitter.off("connect",I),x.emitter.listenerCount("change")||x.emitter.on("change",I),x.emitter.listenerCount("disconnect")||x.emitter.on("disconnect",m),{...E,connections:new Map(E.connections).set(g.uid,{accounts:g.accounts,chainId:g.chainId,connector:x}),current:g.uid,status:"connected"}):E})}function m(g){y.setState(E=>{const x=E.connections.get(g.uid);if(x){const $=x.connector;$.emitter.listenerCount("change")&&x.connector.emitter.off("change",I),$.emitter.listenerCount("disconnect")&&x.connector.emitter.off("disconnect",m),$.emitter.listenerCount("connect")||x.connector.emitter.on("connect",w)}if(E.connections.delete(g.uid),E.connections.size===0)return{...E,connections:new Map,current:null,status:"disconnected"};const S=E.connections.values().next().value;return{...E,connections:new Map(E.connections),current:S.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:l,get state(){return y.getState()},setState(g){let E;typeof g=="function"?E=g(y.getState()):E=g;const x=h();typeof E!="object"&&(E=x),Object.keys(x).some($=>!($ in E))&&(E=x),y.setState(E,!0)},subscribe(g,E,x){return y.subscribe(g,E,x?{...x,fireImmediately:x.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const g=y.getState(),E=g.connections;let x=g.current;for(const[,S]of E){const $=S.connector;$.isAuthorized&&await $.isAuthorized()||(E.delete($.uid),x===$.uid&&(x=null))}y.setState(S=>({...S,connections:E,current:x}))},store:y,ssr:!!s,syncConnectedChain:r,transports:i.transports,chains:{setState(g){const E=typeof g=="function"?g(a.getState()):g;if(E.length!==0)return a.setState(E,!0)},subscribe(g){return a.subscribe(g)}},connectors:{providerDetailToConnector:f,setup:u,setState(g){return c.setState(typeof g=="function"?g(c.getState()):g,!0)},subscribe(g){return c.subscribe(g)}},events:{change:I,connect:w,disconnect:m}}}}function iw(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(s=>s.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(s=>{var c;const i=new Set;for(const u of s??[])if(u.rdns){const f=Array.isArray(u.rdns)?u.rdns:[u.rdns];for(const d of f)i.add(d)}const o=[],a=((c=e._internal.mipd)==null?void 0:c.getProviders())??[];for(const u of a){if(i.has(u.info.rdns))continue;const f=e._internal.connectors.providerDetailToConnector(u),d=e._internal.connectors.setup(f);o.push(d)}return[...s,...o]})),r?k5(e):e.storage&&e.setState(s=>({...s,connections:new Map}))}}}function bv(e){var i,o,a;const{chain:t}=e,n=t.rpcUrls.default.http[0];if(!e.transports)return[n];const r=(o=(i=e.transports)==null?void 0:i[t.id])==null?void 0:o.call(i,{chain:t});return(((a=r==null?void 0:r.value)==null?void 0:a.transports)||[r]).map(({value:c})=>(c==null?void 0:c.url)||n)}function ow(e){const{children:t,config:n,initialState:r,reconnectOnMount:s=!0}=e,{onMount:i}=iw(n,{initialState:r,reconnectOnMount:s});n._internal.ssr||i();const o=W.useRef(!0);return W.useEffect(()=>{if(o.current&&n._internal.ssr)return i(),()=>{o.current=!1}},[]),t}const x0=W.createContext(void 0);function yv(e){const{children:t,config:n}=e,r={value:n};return W.createElement(ow,e,W.createElement(x0.Provider,r,t))}const aw="2.19.5",cw=()=>`wagmi@${aw}`;class uw extends Ct{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return cw()}}class fw extends uw{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function oe(e={}){const t=e.config??W.useContext(x0);if(!t)throw new fw;return t}function dw(e,t){const{onChange:n}=t;return e._internal.chains.subscribe((r,s)=>{n(r,s)})}var ao={exports:{}},co={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu;function lw(){if(zu)return co;zu=1;var e=ya(),t=G0();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return co.useSyncExternalStoreWithSelector=function(u,f,d,l,h){var b=i(null);if(b.current===null){var p={hasValue:!1,value:null};b.current=p}else p=b.current;b=a(function(){function v(E){if(!I){if(I=!0,w=E,E=l(E),h!==void 0&&p.hasValue){var x=p.value;if(h(x,E))return m=x}return m=E}if(x=m,r(w,E))return x;var S=l(E);return h!==void 0&&h(x,S)?(w=E,x):(w=E,m=S)}var I=!1,w,m,g=d===void 0?null:d;return[function(){return v(f())},g===null?void 0:function(){return v(g())}]},[f,d,l,h]);var y=s(u,b[0],b[1]);return o(function(){p.hasValue=!0,p.value=y},[y]),c(y),y},co}var ju;function hw(){return ju||(ju=1,ao.exports=lw()),ao.exports}var E0=hw();const uo=e=>typeof e=="object"&&!Array.isArray(e);function pw(e,t,n=t,r=On){const s=W.useRef([]),i=E0.useSyncExternalStoreWithSelector(e,t,n,o=>o,(o,a)=>{if(uo(o)&&uo(a)&&s.current.length){for(const c of s.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return W.useMemo(()=>{if(uo(i)){const o={...i};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(s.current.includes(c)||s.current.push(c),u)}};return Object.defineProperties(o,a),o}return i},[i])}function mv(e={}){const t=oe(e);return pw(n=>w0(t,{onChange:n}),()=>m0(t))}function gv(e={}){const{onConnect:t,onDisconnect:n}=e,r=oe(e);W.useEffect(()=>w0(r,{onChange(s,i){if((i.status==="reconnecting"||i.status==="connecting"&&i.address===void 0)&&s.status==="connected"){const{address:o,addresses:a,chain:c,chainId:u,connector:f}=s,d=i.status==="reconnecting"||i.status===void 0;t==null||t({address:o,addresses:a,chain:c,chainId:u,connector:f,isReconnected:d})}else i.status==="connected"&&s.status==="disconnected"&&(n==null||n())}}),[r,t,n])}var Pr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bw={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ft,ba,Zu,yw=(Zu=class{constructor(){D(this,Ft,bw);D(this,ba,!1)}setTimeoutProvider(e){_(this,Ft,e)}setTimeout(e,t){return P(this,Ft).setTimeout(e,t)}clearTimeout(e){P(this,Ft).clearTimeout(e)}setInterval(e,t){return P(this,Ft).setInterval(e,t)}clearInterval(e){P(this,Ft).clearInterval(e)}},Ft=new WeakMap,ba=new WeakMap,Zu),on=new yw;function mw(e){setTimeout(e,0)}var Rn=typeof window>"u"||"Deno"in globalThis;function be(){}function gw(e,t){return typeof e=="function"?e(t):e}function ea(e){return typeof e=="number"&&e>=0&&e!==1/0}function P0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wt(e,t){return typeof e=="function"?e(t):e}function _e(e,t){return typeof e=="function"?e(t):e}function Lu(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==gc(o,t.options))return!1}else if(!ns(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Uu(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Mn(t.options.mutationKey)!==Mn(i))return!1}else if(!ns(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function gc(e,t){return((t==null?void 0:t.queryKeyHashFn)||Mn)(e)}function Mn(e){return JSON.stringify(e,(t,n)=>ta(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ns(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ns(e[n],t[n])):!1}var ww=Object.prototype.hasOwnProperty;function wc(e,t){if(e===t)return e;const n=Du(e)&&Du(t);if(!n&&!(ta(e)&&ta(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const f=n?u:i[u],d=e[f],l=t[f];if(d===l){a[f]=d,(n?u<s:ww.call(e,f))&&c++;continue}if(d===null||l===null||typeof d!="object"||typeof l!="object"){a[f]=l;continue}const h=wc(d,l);a[f]=h,h===d&&c++}return s===o&&c===s?e:a}function Xs(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Du(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ta(e){if(!qu(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!qu(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qu(e){return Object.prototype.toString.call(e)==="[object Object]"}function vw(e){return new Promise(t=>{on.setTimeout(t,e)})}function na(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?wc(e,t):t}function xw(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Ew(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var vc=Symbol();function I0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===vc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function S0(e,t){return typeof e=="function"?e(...t):!!e}var an,Nt,Zn,Yu,Pw=(Yu=class extends Pr{constructor(){super();D(this,an);D(this,Nt);D(this,Zn);_(this,Zn,t=>{if(!Rn&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Nt)||this.setEventListener(P(this,Zn))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,Nt))==null||t.call(this),_(this,Nt,void 0))}setEventListener(t){var n;_(this,Zn,t),(n=P(this,Nt))==null||n.call(this),_(this,Nt,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){P(this,an)!==t&&(_(this,an,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof P(this,an)=="boolean"?P(this,an):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},an=new WeakMap,Nt=new WeakMap,Zn=new WeakMap,Yu),xc=new Pw;function ra(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var Iw=mw;function Sw(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=Iw;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ne=Sw(),Yn,_t,Jn,Ju,$w=(Ju=class extends Pr{constructor(){super();D(this,Yn,!0);D(this,_t);D(this,Jn);_(this,Jn,t=>{if(!Rn&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,_t)||this.setEventListener(P(this,Jn))}onUnsubscribe(){var t;this.hasListeners()||((t=P(this,_t))==null||t.call(this),_(this,_t,void 0))}setEventListener(t){var n;_(this,Jn,t),(n=P(this,_t))==null||n.call(this),_(this,_t,t(this.setOnline.bind(this)))}setOnline(t){P(this,Yn)!==t&&(_(this,Yn,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return P(this,Yn)}},Yn=new WeakMap,_t=new WeakMap,Jn=new WeakMap,Ju),ei=new $w;function Aw(e){return Math.min(1e3*2**e,3e4)}function $0(e){return(e??"online")==="online"?ei.isOnline():!0}var sa=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function A0(e){let t=!1,n=0,r;const s=ra(),i=()=>s.status!=="pending",o=p=>{var y;if(!i()){const v=new sa(p);l(v),(y=e.onCancel)==null||y.call(e,v)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>xc.isFocused()&&(e.networkMode==="always"||ei.isOnline())&&e.canRun(),f=()=>$0(e.networkMode)&&e.canRun(),d=p=>{i()||(r==null||r(),s.resolve(p))},l=p=>{i()||(r==null||r(),s.reject(p))},h=()=>new Promise(p=>{var y;r=v=>{(i()||u())&&p(v)},(y=e.onPause)==null||y.call(e)}).then(()=>{var p;r=void 0,i()||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(i())return;let p;const y=n===0?e.initialPromise:void 0;try{p=y??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(d).catch(v=>{var E;if(i())return;const I=e.retry??(Rn?0:3),w=e.retryDelay??Aw,m=typeof w=="function"?w(n,v):w,g=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,v);if(t||!g){l(v);return}n++,(E=e.onFail)==null||E.call(e,n,v),vw(m).then(()=>u()?void 0:h()).then(()=>{t?l(v):b()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?b():h().then(b),s)}}var cn,Xu,C0=(Xu=class{constructor(){D(this,cn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ea(this.gcTime)&&_(this,cn,on.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Rn?1/0:300*1e3))}clearGcTimeout(){P(this,cn)&&(on.clearTimeout(P(this,cn)),_(this,cn,void 0))}},cn=new WeakMap,Xu),un,Xn,Ne,fn,re,rs,dn,Ge,ft,ef,Cw=(ef=class extends C0{constructor(t){super();D(this,Ge);D(this,un);D(this,Xn);D(this,Ne);D(this,fn);D(this,re);D(this,rs);D(this,dn);_(this,dn,!1),_(this,rs,t.defaultOptions),this.setOptions(t.options),this.observers=[],_(this,fn,t.client),_(this,Ne,P(this,fn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_(this,un,Hu(this.options)),this.state=t.state??P(this,un),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=P(this,re))==null?void 0:t.promise}setOptions(t){if(this.options={...P(this,rs),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Hu(this.options);n.data!==void 0&&(this.setState(Gu(n.data,n.dataUpdatedAt)),_(this,un,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&P(this,Ne).remove(this)}setData(t,n){const r=na(this.state.data,t,this.options);return G(this,Ge,ft).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){G(this,Ge,ft).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=P(this,re))==null?void 0:r.promise;return(s=P(this,re))==null||s.cancel(t),n?n.then(be).catch(be):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,un))}isActive(){return this.observers.some(t=>_e(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Wt(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!P0(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,re))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=P(this,re))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),P(this,Ne).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(P(this,re)&&(P(this,dn)?P(this,re).cancel({revert:!0}):P(this,re).cancelRetry()),this.scheduleGc()),P(this,Ne).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||G(this,Ge,ft).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,f,d,l,h,b,p,y,v,I,w;if(this.state.fetchStatus!=="idle"&&((c=P(this,re))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(P(this,re))return P(this,re).continueRetry(),P(this,re).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(_(this,dn,!0),r.signal)})},i=()=>{const m=I0(this.options,n),E=(()=>{const x={client:P(this,fn),queryKey:this.queryKey,meta:this.meta};return s(x),x})();return _(this,dn,!1),this.options.persister?this.options.persister(m,E,this):m(E)},a=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:P(this,fn),state:this.state,fetchFn:i};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(a,this),_(this,Xn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&G(this,Ge,ft).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),_(this,re,A0({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:m=>{m instanceof sa&&m.revert&&this.setState({...P(this,Xn),fetchStatus:"idle"}),r.abort()},onFail:(m,g)=>{G(this,Ge,ft).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{G(this,Ge,ft).call(this,{type:"pause"})},onContinue:()=>{G(this,Ge,ft).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const m=await P(this,re).start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),(h=(l=P(this,Ne).config).onSuccess)==null||h.call(l,m,this),(p=(b=P(this,Ne).config).onSettled)==null||p.call(b,m,this.state.error,this),m}catch(m){if(m instanceof sa){if(m.silent)return P(this,re).promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw G(this,Ge,ft).call(this,{type:"error",error:m}),(v=(y=P(this,Ne).config).onError)==null||v.call(y,m,this),(w=(I=P(this,Ne).config).onSettled)==null||w.call(I,this.state.data,m,this),m}finally{this.scheduleGc()}}},un=new WeakMap,Xn=new WeakMap,Ne=new WeakMap,fn=new WeakMap,re=new WeakMap,rs=new WeakMap,dn=new WeakMap,Ge=new WeakSet,ft=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...T0(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Gu(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return _(this,Xn,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ne.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),P(this,Ne).notify({query:this,type:"updated",action:t})})},ef);function T0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Gu(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Hu(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ge,H,ss,he,ln,er,lt,zt,is,tr,nr,hn,pn,jt,rr,K,Mr,ia,oa,aa,ca,ua,fa,da,O0,tf,B0=(tf=class extends Pr{constructor(t,n){super();D(this,K);D(this,ge);D(this,H);D(this,ss);D(this,he);D(this,ln);D(this,er);D(this,lt);D(this,zt);D(this,is);D(this,tr);D(this,nr);D(this,hn);D(this,pn);D(this,jt);D(this,rr,new Set);this.options=n,_(this,ge,t),_(this,zt,null),_(this,lt,ra()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,H).addObserver(this),Vu(P(this,H),this.options)?G(this,K,Mr).call(this):this.updateResult(),G(this,K,ca).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return la(P(this,H),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return la(P(this,H),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,K,ua).call(this),G(this,K,fa).call(this),P(this,H).removeObserver(this)}setOptions(t){const n=this.options,r=P(this,H);if(this.options=P(this,ge).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _e(this.options.enabled,P(this,H))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,K,da).call(this),P(this,H).setOptions(this.options),n._defaulted&&!Xs(this.options,n)&&P(this,ge).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,H),observer:this});const s=this.hasListeners();s&&Wu(P(this,H),r,this.options,n)&&G(this,K,Mr).call(this),this.updateResult(),s&&(P(this,H)!==r||_e(this.options.enabled,P(this,H))!==_e(n.enabled,P(this,H))||Wt(this.options.staleTime,P(this,H))!==Wt(n.staleTime,P(this,H)))&&G(this,K,ia).call(this);const i=G(this,K,oa).call(this);s&&(P(this,H)!==r||_e(this.options.enabled,P(this,H))!==_e(n.enabled,P(this,H))||i!==P(this,jt))&&G(this,K,aa).call(this,i)}getOptimisticResult(t){const n=P(this,ge).getQueryCache().build(P(this,ge),t),r=this.createResult(n,t);return Bw(this,r)&&(_(this,he,r),_(this,er,this.options),_(this,ln,P(this,H).state)),r}getCurrentResult(){return P(this,he)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&P(this,lt).status==="pending"&&P(this,lt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){P(this,rr).add(t)}getCurrentQuery(){return P(this,H)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=P(this,ge).defaultQueryOptions(t),r=P(this,ge).getQueryCache().build(P(this,ge),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return G(this,K,Mr).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,he)))}createResult(t,n){var $;const r=P(this,H),s=this.options,i=P(this,he),o=P(this,ln),a=P(this,er),u=t!==r?t.state:P(this,ss),{state:f}=t;let d={...f},l=!1,h;if(n._optimisticResults){const C=this.hasListeners(),T=!C&&Vu(t,n),R=C&&Wu(t,r,n,s);(T||R)&&(d={...d,...T0(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:b,errorUpdatedAt:p,status:y}=d;h=d.data;let v=!1;if(n.placeholderData!==void 0&&h===void 0&&y==="pending"){let C;i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(C=i.data,v=!0):C=typeof n.placeholderData=="function"?n.placeholderData(($=P(this,nr))==null?void 0:$.state.data,P(this,nr)):n.placeholderData,C!==void 0&&(y="success",h=na(i==null?void 0:i.data,C,n),l=!0)}if(n.select&&h!==void 0&&!v)if(i&&h===(o==null?void 0:o.data)&&n.select===P(this,is))h=P(this,tr);else try{_(this,is,n.select),h=n.select(h),h=na(i==null?void 0:i.data,h,n),_(this,tr,h),_(this,zt,null)}catch(C){_(this,zt,C)}P(this,zt)&&(b=P(this,zt),h=P(this,tr),p=Date.now(),y="error");const I=d.fetchStatus==="fetching",w=y==="pending",m=y==="error",g=w&&I,E=h!==void 0,S={status:y,fetchStatus:d.fetchStatus,isPending:w,isSuccess:y==="success",isError:m,isInitialLoading:g,isLoading:g,data:h,dataUpdatedAt:d.dataUpdatedAt,error:b,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:I,isRefetching:I&&!w,isLoadingError:m&&!E,isPaused:d.fetchStatus==="paused",isPlaceholderData:l,isRefetchError:m&&E,isStale:Ec(t,n),refetch:this.refetch,promise:P(this,lt),isEnabled:_e(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=O=>{S.status==="error"?O.reject(S.error):S.data!==void 0&&O.resolve(S.data)},T=()=>{const O=_(this,lt,S.promise=ra());C(O)},R=P(this,lt);switch(R.status){case"pending":t.queryHash===r.queryHash&&C(R);break;case"fulfilled":(S.status==="error"||S.data!==R.value)&&T();break;case"rejected":(S.status!=="error"||S.error!==R.reason)&&T();break}}return S}updateResult(){const t=P(this,he),n=this.createResult(P(this,H),this.options);if(_(this,ln,P(this,H).state),_(this,er,this.options),P(this,ln).data!==void 0&&_(this,nr,P(this,H)),Xs(n,t))return;_(this,he,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!P(this,rr).size)return!0;const o=new Set(i??P(this,rr));return this.options.throwOnError&&o.add("error"),Object.keys(P(this,he)).some(a=>{const c=a;return P(this,he)[c]!==t[c]&&o.has(c)})};G(this,K,O0).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,K,ca).call(this)}},ge=new WeakMap,H=new WeakMap,ss=new WeakMap,he=new WeakMap,ln=new WeakMap,er=new WeakMap,lt=new WeakMap,zt=new WeakMap,is=new WeakMap,tr=new WeakMap,nr=new WeakMap,hn=new WeakMap,pn=new WeakMap,jt=new WeakMap,rr=new WeakMap,K=new WeakSet,Mr=function(t){G(this,K,da).call(this);let n=P(this,H).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(be)),n},ia=function(){G(this,K,ua).call(this);const t=Wt(this.options.staleTime,P(this,H));if(Rn||P(this,he).isStale||!ea(t))return;const r=P0(P(this,he).dataUpdatedAt,t)+1;_(this,hn,on.setTimeout(()=>{P(this,he).isStale||this.updateResult()},r))},oa=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,H)):this.options.refetchInterval)??!1},aa=function(t){G(this,K,fa).call(this),_(this,jt,t),!(Rn||_e(this.options.enabled,P(this,H))===!1||!ea(P(this,jt))||P(this,jt)===0)&&_(this,pn,on.setInterval(()=>{(this.options.refetchIntervalInBackground||xc.isFocused())&&G(this,K,Mr).call(this)},P(this,jt)))},ca=function(){G(this,K,ia).call(this),G(this,K,aa).call(this,G(this,K,oa).call(this))},ua=function(){P(this,hn)&&(on.clearTimeout(P(this,hn)),_(this,hn,void 0))},fa=function(){P(this,pn)&&(on.clearInterval(P(this,pn)),_(this,pn,void 0))},da=function(){const t=P(this,ge).getQueryCache().build(P(this,ge),this.options);if(t===P(this,H))return;const n=P(this,H);_(this,H,t),_(this,ss,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},O0=function(t){ne.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(P(this,he))}),P(this,ge).getQueryCache().notify({query:P(this,H),type:"observerResultsUpdated"})})},tf);function Tw(e,t){return _e(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Vu(e,t){return Tw(e,t)||e.state.data!==void 0&&la(e,t,t.refetchOnMount)}function la(e,t,n){if(_e(t.enabled,e)!==!1&&Wt(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Ec(e,t)}return!1}function Wu(e,t,n,r){return(e!==t||_e(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ec(e,n)}function Ec(e,t){return _e(t.enabled,e)!==!1&&e.isStaleByTime(Wt(t.staleTime,e))}function Bw(e,t){return!Xs(e.getCurrentResult(),t)}function ti(e){return{onFetch:(t,n)=>{var f,d,l,h,b;const r=t.options,s=(l=(d=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:l.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=I0(t.options,t.fetchOptions),I=async(w,m,g)=>{if(p)return Promise.reject();if(m==null&&w.pages.length)return Promise.resolve(w);const x=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:m,direction:g?"backward":"forward",meta:t.options.meta};return y(T),T})(),S=await v(x),{maxPages:$}=t.options,C=g?Ew:xw;return{pages:C(w.pages,S,$),pageParams:C(w.pageParams,m,$)}};if(s&&i.length){const w=s==="backward",m=w?R0:ha,g={pages:i,pageParams:o},E=m(r,g);a=await I(g,E,w)}else{const w=e??i.length;do{const m=c===0?o[0]??r.initialPageParam:ha(r,a);if(c>0&&m==null)break;a=await I(a,m),c++}while(c<w)}return a};t.options.persister?t.fetchFn=()=>{var p,y;return(y=(p=t.options).persister)==null?void 0:y.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function ha(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function R0(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}function Ow(e,t){return t?ha(e,t)!=null:!1}function Rw(e,t){return!t||!e.getPreviousPageParam?!1:R0(e,t)!=null}var Mw=class extends B0{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:ti()})}getOptimisticResult(e){return e.behavior=ti(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var b,p;const{state:n}=e,r=super.createResult(e,t),{isFetching:s,isRefetching:i,isError:o,isRefetchError:a}=r,c=(p=(b=n.fetchMeta)==null?void 0:b.fetchMore)==null?void 0:p.direction,u=o&&c==="forward",f=s&&c==="forward",d=o&&c==="backward",l=s&&c==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Ow(t,n.data),hasPreviousPage:Rw(t,n.data),isFetchNextPageError:u,isFetchingNextPage:f,isFetchPreviousPageError:d,isFetchingPreviousPage:l,isRefetchError:a&&!u&&!d,isRefetching:i&&!f&&!l}}},os,tt,pe,bn,nt,kt,nf,kw=(nf=class extends C0{constructor(t){super();D(this,nt);D(this,os);D(this,tt);D(this,pe);D(this,bn);_(this,os,t.client),this.mutationId=t.mutationId,_(this,pe,t.mutationCache),_(this,tt,[]),this.state=t.state||M0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){P(this,tt).includes(t)||(P(this,tt).push(t),this.clearGcTimeout(),P(this,pe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_(this,tt,P(this,tt).filter(n=>n!==t)),this.scheduleGc(),P(this,pe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){P(this,tt).length||(this.state.status==="pending"?this.scheduleGc():P(this,pe).remove(this))}continue(){var t;return((t=P(this,bn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,c,u,f,d,l,h,b,p,y,v,I,w,m,g,E,x,S,$;const n=()=>{G(this,nt,kt).call(this,{type:"continue"})},r={client:P(this,os),meta:this.options.meta,mutationKey:this.options.mutationKey};_(this,bn,A0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(C,T)=>{G(this,nt,kt).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{G(this,nt,kt).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>P(this,pe).canRun(this)}));const s=this.state.status==="pending",i=!P(this,bn).canStart();try{if(s)n();else{G(this,nt,kt).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=P(this,pe).config).onMutate)==null?void 0:a.call(o,t,this,r));const T=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));T!==this.state.context&&G(this,nt,kt).call(this,{type:"pending",context:T,variables:t,isPaused:i})}const C=await P(this,bn).start();return await((d=(f=P(this,pe).config).onSuccess)==null?void 0:d.call(f,C,t,this.state.context,this,r)),await((h=(l=this.options).onSuccess)==null?void 0:h.call(l,C,t,this.state.context,r)),await((p=(b=P(this,pe).config).onSettled)==null?void 0:p.call(b,C,null,this.state.variables,this.state.context,this,r)),await((v=(y=this.options).onSettled)==null?void 0:v.call(y,C,null,t,this.state.context,r)),G(this,nt,kt).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(I=P(this,pe).config).onError)==null?void 0:w.call(I,C,t,this.state.context,this,r)),await((g=(m=this.options).onError)==null?void 0:g.call(m,C,t,this.state.context,r)),await((x=(E=P(this,pe).config).onSettled)==null?void 0:x.call(E,void 0,C,this.state.variables,this.state.context,this,r)),await(($=(S=this.options).onSettled)==null?void 0:$.call(S,void 0,C,t,this.state.context,r)),C}finally{G(this,nt,kt).call(this,{type:"error",error:C})}}finally{P(this,pe).runNext(this)}}},os=new WeakMap,tt=new WeakMap,pe=new WeakMap,bn=new WeakMap,nt=new WeakSet,kt=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ne.batch(()=>{P(this,tt).forEach(r=>{r.onMutationUpdate(t)}),P(this,pe).notify({mutation:this,type:"updated",action:t})})},nf);function M0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ht,He,as,rf,Fw=(rf=class extends Pr{constructor(t={}){super();D(this,ht);D(this,He);D(this,as);this.config=t,_(this,ht,new Set),_(this,He,new Map),_(this,as,0)}build(t,n,r){const s=new kw({client:t,mutationCache:this,mutationId:++As(this,as)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){P(this,ht).add(t);const n=js(t);if(typeof n=="string"){const r=P(this,He).get(n);r?r.push(t):P(this,He).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(P(this,ht).delete(t)){const n=js(t);if(typeof n=="string"){const r=P(this,He).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&P(this,He).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=js(t);if(typeof n=="string"){const r=P(this,He).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=js(t);if(typeof n=="string"){const s=(r=P(this,He).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ne.batch(()=>{P(this,ht).forEach(t=>{this.notify({type:"removed",mutation:t})}),P(this,ht).clear(),P(this,He).clear()})}getAll(){return Array.from(P(this,ht))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Uu(n,r))}findAll(t={}){return this.getAll().filter(n=>Uu(t,n))}notify(t){ne.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ne.batch(()=>Promise.all(t.map(n=>n.continue().catch(be))))}},ht=new WeakMap,He=new WeakMap,as=new WeakMap,rf);function js(e){var t;return(t=e.options.scope)==null?void 0:t.id}var pt,Lt,we,bt,vt,qs,pa,sf,Nw=(sf=class extends Pr{constructor(t,n){super();D(this,vt);D(this,pt);D(this,Lt);D(this,we);D(this,bt);_(this,pt,t),this.setOptions(n),this.bindMethods(),G(this,vt,qs).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const n=this.options;this.options=P(this,pt).defaultMutationOptions(t),Xs(this.options,n)||P(this,pt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,we),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Mn(n.mutationKey)!==Mn(this.options.mutationKey)?this.reset():((r=P(this,we))==null?void 0:r.state.status)==="pending"&&P(this,we).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=P(this,we))==null||t.removeObserver(this)}onMutationUpdate(t){G(this,vt,qs).call(this),G(this,vt,pa).call(this,t)}getCurrentResult(){return P(this,Lt)}reset(){var t;(t=P(this,we))==null||t.removeObserver(this),_(this,we,void 0),G(this,vt,qs).call(this),G(this,vt,pa).call(this)}mutate(t,n){var r;return _(this,bt,n),(r=P(this,we))==null||r.removeObserver(this),_(this,we,P(this,pt).getMutationCache().build(P(this,pt),this.options)),P(this,we).addObserver(this),P(this,we).execute(t)}},pt=new WeakMap,Lt=new WeakMap,we=new WeakMap,bt=new WeakMap,vt=new WeakSet,qs=function(){var n;const t=((n=P(this,we))==null?void 0:n.state)??M0();_(this,Lt,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},pa=function(t){ne.batch(()=>{var n,r,s,i,o,a,c,u;if(P(this,bt)&&this.hasListeners()){const f=P(this,Lt).variables,d=P(this,Lt).context,l={client:P(this,pt),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((r=(n=P(this,bt)).onSuccess)==null||r.call(n,t.data,f,d,l),(i=(s=P(this,bt)).onSettled)==null||i.call(s,t.data,null,f,d,l)):(t==null?void 0:t.type)==="error"&&((a=(o=P(this,bt)).onError)==null||a.call(o,t.error,f,d,l),(u=(c=P(this,bt)).onSettled)==null||u.call(c,void 0,t.error,f,d,l))}this.listeners.forEach(f=>{f(P(this,Lt))})})},sf),rt,of,_w=(of=class extends Pr{constructor(t={}){super();D(this,rt);this.config=t,_(this,rt,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??gc(s,n);let o=this.get(i);return o||(o=new Cw({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){P(this,rt).has(t.queryHash)||(P(this,rt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=P(this,rt).get(t.queryHash);n&&(t.destroy(),n===t&&P(this,rt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ne.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return P(this,rt).get(t)}getAll(){return[...P(this,rt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Lu(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Lu(t,r)):n}notify(t){ne.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ne.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ne.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rt=new WeakMap,of),J,Ut,Dt,sr,ir,qt,or,ar,af,wv=(af=class{constructor(e={}){D(this,J);D(this,Ut);D(this,Dt);D(this,sr);D(this,ir);D(this,qt);D(this,or);D(this,ar);_(this,J,e.queryCache||new _w),_(this,Ut,e.mutationCache||new Fw),_(this,Dt,e.defaultOptions||{}),_(this,sr,new Map),_(this,ir,new Map),_(this,qt,0)}mount(){As(this,qt)._++,P(this,qt)===1&&(_(this,or,xc.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,J).onFocus())})),_(this,ar,ei.subscribe(async e=>{e&&(await this.resumePausedMutations(),P(this,J).onOnline())})))}unmount(){var e,t;As(this,qt)._--,P(this,qt)===0&&((e=P(this,or))==null||e.call(this),_(this,or,void 0),(t=P(this,ar))==null||t.call(this),_(this,ar,void 0))}isFetching(e){return P(this,J).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return P(this,Ut).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,J).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=P(this,J).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Wt(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return P(this,J).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=P(this,J).get(r.queryHash),i=s==null?void 0:s.state.data,o=gw(t,i);if(o!==void 0)return P(this,J).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ne.batch(()=>P(this,J).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=P(this,J).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=P(this,J);ne.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=P(this,J);return ne.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ne.batch(()=>P(this,J).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(be).catch(be)}invalidateQueries(e,t={}){return ne.batch(()=>(P(this,J).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ne.batch(()=>P(this,J).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(be)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(be)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=P(this,J).build(this,t);return n.isStaleByTime(Wt(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(be).catch(be)}fetchInfiniteQuery(e){return e.behavior=ti(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(be).catch(be)}ensureInfiniteQueryData(e){return e.behavior=ti(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ei.isOnline()?P(this,Ut).resumePausedMutations():Promise.resolve()}getQueryCache(){return P(this,J)}getMutationCache(){return P(this,Ut)}getDefaultOptions(){return P(this,Dt)}setDefaultOptions(e){_(this,Dt,e)}setQueryDefaults(e,t){P(this,sr).set(Mn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...P(this,sr).values()],n={};return t.forEach(r=>{ns(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){P(this,ir).set(Mn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...P(this,ir).values()],n={};return t.forEach(r=>{ns(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...P(this,Dt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=gc(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===vc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...P(this,Dt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){P(this,J).clear(),P(this,Ut).clear()}},J=new WeakMap,Ut=new WeakMap,Dt=new WeakMap,sr=new WeakMap,ir=new WeakMap,qt=new WeakMap,or=new WeakMap,ar=new WeakMap,af);function zw(e,t){return wc(e,t)}function jw(e){return JSON.stringify(e,(t,n)=>Lw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):typeof n=="bigint"?n.toString():n)}function Lw(e){if(!Ku(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Ku(n)||!n.hasOwnProperty("isPrototypeOf"))}function Ku(e){return Object.prototype.toString.call(e)==="[object Object]"}function Is(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:s,initialDataUpdatedAt:i,maxPages:o,meta:a,networkMode:c,queryFn:u,queryHash:f,queryKey:d,queryKeyHashFn:l,retry:h,retryDelay:b,structuralSharing:p,getPreviousPageParam:y,getNextPageParam:v,initialPageParam:I,_optimisticResults:w,enabled:m,notifyOnChangeProps:g,placeholderData:E,refetchInterval:x,refetchIntervalInBackground:S,refetchOnMount:$,refetchOnReconnect:C,refetchOnWindowFocus:T,retryOnMount:R,select:O,staleTime:U,suspense:A,throwOnError:k,config:z,connector:F,query:N,...L}=e;return L}function Uw(e){return{mutationFn(t){return $5(e,t)},mutationKey:["connect"]}}function Dw(e){return{mutationFn(t){return A5(e,t)},mutationKey:["disconnect"]}}function qw(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return await B5(e,{...i,address:r})??null},queryKey:Gw(t)}}function Gw(e={}){return["balance",Is(e)]}function Hw(e,t={}){return{async queryFn({queryKey:n}){const{name:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("name is required");return R5(e,{...i,name:r})},queryKey:Vw(t)}}function Vw(e={}){return["ensAvatar",Is(e)]}function Ww(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:s,...i}=n[1];if(!r)throw new Error("address is required");return M5(e,{...i,address:r})},queryKey:Kw(t)}}function Kw(e={}){return["ensName",Is(e)]}function Qw(e,t={}){return{async queryFn({queryKey:n}){const r=t.abi;if(!r)throw new Error("abi is required");const{functionName:s,scopeKey:i,...o}=n[1],a=(()=>{const c=n[1];if(c.address)return{address:c.address};if(c.code)return{code:c.code};throw new Error("address or code is required")})();if(!s)throw new Error("functionName is required");return g0(e,{abi:r,functionName:s,args:o.args,...a,...o})},queryKey:Zw(t)}}function Zw(e={}){const{abi:t,...n}=e;return["readContract",Is(n)]}function Yw(e){return{mutationFn(t){return F5(e,t)},mutationKey:["sendTransaction"]}}function Jw(e){return{mutationFn(t){return N5(e,t)},mutationKey:["signMessage"]}}function Xw(e){return{mutationFn(t){return _5(e,t)},mutationKey:["signTypedData"]}}function e2(e){return{mutationFn(t){return j5(e,t)},mutationKey:["switchChain"]}}function t2(e,t={}){return{async queryFn({queryKey:n}){const{hash:r,...s}=n[1];if(!r)throw new Error("hash is required");return L5(e,{...s,onReplaced:t.onReplaced,hash:r})},queryKey:n2(t)}}function n2(e={}){const{onReplaced:t,...n}=e;return["waitForTransactionReceipt",Is(n)]}var k0=W.createContext(void 0),F0=e=>{const t=W.useContext(k0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vv=({client:e,children:t})=>(W.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),U0.jsx(k0.Provider,{value:e,children:t})),N0=W.createContext(!1),r2=()=>W.useContext(N0);N0.Provider;function s2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var i2=W.createContext(s2()),o2=()=>W.useContext(i2),a2=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},c2=e=>{W.useEffect(()=>{e.clearReset()},[e])},u2=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||S0(n,[e.error,r])),f2=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},d2=(e,t)=>e.isLoading&&e.isFetching&&!t,l2=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Qu=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function _0(e,t,n){var d,l,h,b,p;const r=r2(),s=o2(),i=F0(),o=i.defaultQueryOptions(e);(l=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||l.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",f2(o),a2(o,s),c2(s);const a=!i.getQueryCache().get(o.queryHash),[c]=W.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),f=!r&&e.subscribed!==!1;if(W.useSyncExternalStore(W.useCallback(y=>{const v=f?c.subscribe(ne.batchCalls(y)):be;return c.updateResult(),v},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),W.useEffect(()=>{c.setOptions(o)},[o,c]),l2(o,u))throw Qu(o,c,s);if(u2({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((b=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||b.call(h,o,u),o.experimental_prefetchInRender&&!Rn&&d2(u,r)){const y=a?Qu(o,c,s):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;y==null||y.catch(be).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function h2(e,t){return _0(e,B0)}function Ir(e,t){const n=F0(),[r]=W.useState(()=>new Nw(n,e));W.useEffect(()=>{r.setOptions(e)},[r,e]);const s=W.useSyncExternalStore(W.useCallback(o=>r.subscribe(ne.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=W.useCallback((o,a)=>{r.mutate(o,a).catch(be)},[r]);if(s.error&&S0(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function xv(e,t){return _0(e,Mw)}function Ss(e){const t=h2({...e,queryKeyHashFn:jw});return t.queryKey=e.queryKey,t}function $s(e={}){const t=oe(e);return W.useSyncExternalStore(n=>U5(t,{onChange:n}),()=>Ru(t),()=>Ru(t))}function Ev(e={}){const{address:t,query:n={}}=e,r=oe(e),s=$s({config:r}),i=qw(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return Ss({...n,...i,enabled:o})}function p2(e={}){const t=oe(e);return W.useSyncExternalStore(n=>dw(t,{onChange:n}),()=>Mu(t),()=>Mu(t))}function b2(e={}){const t=oe(e);return W.useSyncExternalStore(n=>q5(t,{onChange:n}),()=>ku(t),()=>ku(t))}function Pv(e={}){const{mutation:t}=e,n=oe(e),r=Uw(n),{mutate:s,mutateAsync:i,...o}=Ir({...t,...r});return W.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:s,connectAsync:i,connectors:b2({config:n})}}function y2(e={}){const t=oe(e);return W.useSyncExternalStore(n=>D5(t,{onChange:n}),()=>Zo(t),()=>Zo(t))}function Iv(e={}){const{mutation:t}=e,n=oe(e),r=Dw(n),{mutate:s,mutateAsync:i,...o}=Ir({...t,...r});return{...o,connectors:y2({config:n}).map(a=>a.connector),disconnect:s,disconnectAsync:i}}function Sv(e={}){const{name:t,query:n={}}=e,r=oe(e),s=$s({config:r}),i=Hw(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return Ss({...n,...i,enabled:o})}function $v(e={}){const{address:t,query:n={}}=e,r=oe(e),s=$s({config:r}),i=Ww(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return Ss({...n,...i,enabled:o})}function Av(e={}){const t=oe(e);return E0.useSyncExternalStoreWithSelector(n=>G5(t,{onChange:n}),()=>Yo(t,e),()=>Yo(t,e),n=>n,(n,r)=>(n==null?void 0:n.uid)===(r==null?void 0:r.uid))}function Cv(e={}){const{abi:t,address:n,functionName:r,query:s={}}=e,i=e.code,o=oe(e),a=$s({config:o}),c=Qw(o,{...e,chainId:e.chainId??a}),u=!!((n||i)&&t&&r&&(s.enabled??!0));return Ss({...s,...c,enabled:u,structuralSharing:s.structuralSharing??zw})}function Tv(e={}){const{mutation:t}=e,n=oe(e),r=Yw(n),{mutate:s,mutateAsync:i,...o}=Ir({...t,...r});return{...o,sendTransaction:s,sendTransactionAsync:i}}function Bv(e={}){const{mutation:t}=e,n=oe(e),r=Jw(n),{mutate:s,mutateAsync:i,...o}=Ir({...t,...r});return{...o,signMessage:s,signMessageAsync:i}}function Ov(e={}){const{mutation:t}=e,n=oe(e),r=Xw(n),{mutate:s,mutateAsync:i,...o}=Ir({...t,...r});return{...o,signTypedData:s,signTypedDataAsync:i}}function Rv(e={}){const{mutation:t}=e,n=oe(e),r=e2(n),{mutate:s,mutateAsync:i,...o}=Ir({...t,...r});return{...o,chains:p2({config:n}),switchChain:s,switchChainAsync:i}}function Mv(e={}){const{hash:t,query:n={}}=e,r=oe(e),s=$s({config:r}),i=t2(r,{...e,chainId:e.chainId??s}),o=!!(t&&(n.enabled??!0));return Ss({...n,...i,enabled:o})}export{Ky as $,u0 as A,Re as B,Cf as C,hb as D,w5 as E,fs as F,ie as G,K0 as H,Kd as I,P1 as J,Te as K,mt as L,M,St as N,ae as O,rv as P,iv as Q,D0 as R,j as S,Ho as T,Ue as U,Ef as V,B as W,hs as X,Pe as Y,Zf as Z,uf as _,Kt as a,Sv as a$,Bo as a0,ja as a1,Ce as a2,Xt as a3,Q as a4,Ng as a5,f0 as a6,Jt as a7,Da as a8,xt as a9,tv as aA,mi as aB,K2 as aC,Oe as aD,Pn as aE,Ie as aF,oe as aG,lv as aH,J2 as aI,L5 as aJ,h2 as aK,hv as aL,$n as aM,Js as aN,fe as aO,qn as aP,Wd as aQ,bv as aR,pv as aS,gv as aT,Av as aU,Ev as aV,Pv as aW,Iv as aX,Rv as aY,Bv as aZ,$v as a_,Ha as aa,X as ab,Pt as ac,Er as ad,Ei as ae,X2 as af,En as ag,Hl as ah,yn as ai,Le as aj,Ee as ak,xn as al,Z as am,dv as an,V2 as ao,Y2 as ap,je as aq,mr as ar,Hs as as,Mg as at,uv as au,m5 as av,G0 as aw,mv as ax,nv as ay,ev as az,z2 as b,mc as b0,F0 as b1,Ir as b2,xv as b3,Cv as b4,Tv as b5,Mv as b6,Ov as b7,wv as b8,yv as b9,vv as ba,lp as c,kr as d,ip as e,vl as f,ud as g,j2 as h,sp as i,_b as j,av as k,fv as l,Ke as m,ai as n,Ca as o,W as p,Gt as q,hp as r,W2 as s,Qe as t,Nf as u,w2 as v,U0 as w,ov as x,cv as y,h5 as z};
