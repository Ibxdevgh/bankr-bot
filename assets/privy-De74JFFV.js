const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/core-Dp3BMEYh.js","assets/wagmi-DukDWchA.js","assets/react-CvrAlPOO.js","assets/reown-Cxi39rOn.js","assets/class-map-DSkJZd-J.js","assets/index-BmRF13jk.js","assets/createBundlerClient-BFRjrjWU.js"])))=>i.map(i=>d[i]);
import{R as Ie,k as $s,l as Is,m as Zl,t as Yr,E as Zo,n as wi,o as rf,p as y,q as Zn,u as WA,_ as za,d as zA,r as qA,f as HA,c as VA,g as KA,v as X1,w as c,x as Lx,y as Fx,z as Ux,A as Bx,B as GA,C as YA,D as ZA,F as JA,G as Wx,b as QA,j as XA,H as eT}from"./wagmi-DukDWchA.js";import{r as zx,g as ha,b as tT}from"./react-CvrAlPOO.js";import{d as nT,c as rT,a as Pe,e as oa,C as iT,f as sT,s as e0,g as Cu,h as aT,i as oT,j as lT,k as cT,l as w2,m as t0,I as Ec,n as Qa,o as dT,p as uT,q as Ks,t as kc,u as Ii,v as hT,w as v2,x as b2,y as Fd,N as x2,P as Lv,Q as pT,z as fT,A as Fv,B as bo,D as qx,E as zs,F as ms,G as ma,H as ns,J as Nh}from"./reown-Cxi39rOn.js";const Uv=t=>{let e;const n=new Set,r=(d,u)=>{const h=typeof d=="function"?d(e):d;if(!Object.is(h,e)){const p=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(f=>f(e,p))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:d=>(n.add(d),()=>n.delete(d))},l=e=t(r,i,o);return o},gT=(t=>t?Uv(t):Uv),mT=t=>t;function yT(t,e=mT){const n=Ie.useSyncExternalStore(t.subscribe,Ie.useCallback(()=>e(t.getState()),[t,e]),Ie.useCallback(()=>e(t.getInitialState()),[t,e]));return Ie.useDebugValue(n),n}const Bv=t=>{const e=gT(t),n=r=>yT(e,r);return Object.assign(n,e),n},$c=(t=>t?Bv(t):Bv);var Fe={},ld={exports:{}},wT=ld.exports,Wv;function vT(){return Wv||(Wv=1,(function(t,e){(function(n,r){var i="1.0.41",s="",a="?",o="function",l="undefined",d="object",u="string",h="major",p="model",f="name",g="type",m="vendor",w="version",v="architecture",C="console",_="mobile",E="tablet",x="smarttv",b="wearable",k="embedded",S=500,I="Amazon",$="Apple",A="ASUS",N="BlackBerry",O="Browser",D="Chrome",M="Edge",B="Firefox",U="Google",L="Honor",T="Huawei",j="Lenovo",W="LG",Z="Microsoft",z="Motorola",ie="Nvidia",V="OnePlus",ee="Opera",ae="OPPO",te="Samsung",he="Sharp",xe="Sony",ke="Xiaomi",Ue="Zebra",ge="Facebook",Ce="Chromium OS",Ee="Mac OS",re=" Browser",We=function(be,_e){var me={};for(var Be in be)_e[Be]&&_e[Be].length%2===0?me[Be]=_e[Be].concat(be[Be]):me[Be]=be[Be];return me},ze=function(be){for(var _e={},me=0;me<be.length;me++)_e[be[me].toUpperCase()]=be[me];return _e},de=function(be,_e){return typeof be===u?ve(_e).indexOf(ve(be))!==-1:!1},ve=function(be){return be.toLowerCase()},St=function(be){return typeof be===u?be.replace(/[^\d\.]/g,s).split(".")[0]:r},Wt=function(be,_e){if(typeof be===u)return be=be.replace(/^\s\s*/,s),typeof _e===l?be:be.substring(0,S)},pe=function(be,_e){for(var me=0,Be,at,Xe,Ve,De,Et;me<_e.length&&!De;){var At=_e[me],Kt=_e[me+1];for(Be=at=0;Be<At.length&&!De&&At[Be];)if(De=At[Be++].exec(be),De)for(Xe=0;Xe<Kt.length;Xe++)Et=De[++at],Ve=Kt[Xe],typeof Ve===d&&Ve.length>0?Ve.length===2?typeof Ve[1]==o?this[Ve[0]]=Ve[1].call(this,Et):this[Ve[0]]=Ve[1]:Ve.length===3?typeof Ve[1]===o&&!(Ve[1].exec&&Ve[1].test)?this[Ve[0]]=Et?Ve[1].call(this,Et,Ve[2]):r:this[Ve[0]]=Et?Et.replace(Ve[1],Ve[2]):r:Ve.length===4&&(this[Ve[0]]=Et?Ve[3].call(this,Et.replace(Ve[1],Ve[2])):r):this[Ve]=Et||r;me+=2}},zt=function(be,_e){for(var me in _e)if(typeof _e[me]===d&&_e[me].length>0){for(var Be=0;Be<_e[me].length;Be++)if(de(_e[me][Be],be))return me===a?r:me}else if(de(_e[me],be))return me===a?r:me;return _e.hasOwnProperty("*")?_e["*"]:be},Te={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ht={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},bt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,w],[/opios[\/ ]+([\w\.]+)/i],[w,[f,ee+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[f,ee+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[f,ee]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[w,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,w],[/quark(?:pc)?\/([-\w\.]+)/i],[w,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[w,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[f,"UC"+O]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[f,"Smart Lenovo "+O]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+O],w],[/\bfocus\/([\w\.]+)/i],[w,[f,B+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[f,ee+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[f,ee+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[f,"MIUI"+re]],[/fxios\/([\w\.-]+)/i],[w,[f,B]],[/\bqihoobrowser\/?([\w\.]*)/i],[w,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+re],w],[/samsungbrowser\/([\w\.]+)/i],[w,[f,te+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[w,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[w,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,ge],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[f,D+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,D+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[f,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[w,zt,Te]],[/(webkit|khtml)\/([\w\.]+)/i],[f,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],w],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[f,B+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[f,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[w,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[v,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[v,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[v,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[v,/ower/,s,ve]],[/ sun4\w[;\)]/i],[[v,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[v,ve]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[m,te],[g,E]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[p,[m,te],[g,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[m,$],[g,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[m,$],[g,E]],[/(macintosh);/i],[p,[m,$]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[m,he],[g,_]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[p,[m,L],[g,E]],[/honor([-\w ]+)[;\)]/i],[p,[m,L],[g,_]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[p,[m,T],[g,E]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[m,T],[g,_]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[p,/_/g," "],[m,ke],[g,E]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[p,/_/g," "],[m,ke],[g,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[m,ae],[g,_]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[p,[m,zt,{OnePlus:["304","403","203"],"*":ae}],[g,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[m,"Vivo"],[g,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[p,[m,"Realme"],[g,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[m,z],[g,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[m,z],[g,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[m,W],[g,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[m,W],[g,_]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[p,[m,j],[g,E]],[/(nokia) (t[12][01])/i],[m,p,[g,E]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[p,/_/g," "],[g,_],[m,"Nokia"]],[/(pixel (c|tablet))\b/i],[p,[m,U],[g,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[m,U],[g,_]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[m,xe],[g,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[m,xe],[g,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[m,V],[g,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[m,I],[g,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[m,I],[g,_]],[/(playbook);[-\w\),; ]+(rim)/i],[p,m,[g,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[m,N],[g,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[m,A],[g,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[m,A],[g,_]],[/(nexus 9)/i],[p,[m,"HTC"],[g,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[p,/_/g," "],[g,_]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[p,[m,"TCL"],[g,E]],[/(itel) ((\w+))/i],[[m,ve],p,[g,zt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[m,"Acer"],[g,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[m,"Meizu"],[g,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[p,[m,"Ulefone"],[g,_]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[p,[m,"Energizer"],[g,_]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[p,[m,"Cat"],[g,_]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[p,[m,"Smartfren"],[g,_]],[/droid.+; (a(?:015|06[35]|142p?))/i],[p,[m,"Nothing"],[g,_]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[p,[m,"Archos"],[g,E]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[p,[m,"Archos"],[g,_]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[m,p,[g,E]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[m,p,[g,_]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,p,[g,E]],[/(surface duo)/i],[p,[m,Z],[g,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[m,"Fairphone"],[g,_]],[/(u304aa)/i],[p,[m,"AT&T"],[g,_]],[/\bsie-(\w*)/i],[p,[m,"Siemens"],[g,_]],[/\b(rct\w+) b/i],[p,[m,"RCA"],[g,E]],[/\b(venue[\d ]{2,7}) b/i],[p,[m,"Dell"],[g,E]],[/\b(q(?:mv|ta)\w+) b/i],[p,[m,"Verizon"],[g,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[m,"Barnes & Noble"],[g,E]],[/\b(tm\d{3}\w+) b/i],[p,[m,"NuVision"],[g,E]],[/\b(k88) b/i],[p,[m,"ZTE"],[g,E]],[/\b(nx\d{3}j) b/i],[p,[m,"ZTE"],[g,_]],[/\b(gen\d{3}) b.+49h/i],[p,[m,"Swiss"],[g,_]],[/\b(zur\d{3}) b/i],[p,[m,"Swiss"],[g,E]],[/\b((zeki)?tb.*\b) b/i],[p,[m,"Zeki"],[g,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],p,[g,E]],[/\b(ns-?\w{0,9}) b/i],[p,[m,"Insignia"],[g,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[m,"NextBook"],[g,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],p,[g,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],p,[g,_]],[/\b(ph-1) /i],[p,[m,"Essential"],[g,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[m,"Envizen"],[g,E]],[/\b(trio[-\w\. ]+) b/i],[p,[m,"MachSpeed"],[g,E]],[/\btu_(1491) b/i],[p,[m,"Rotor"],[g,E]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[p,[m,ie],[g,E]],[/(sprint) (\w+)/i],[m,p,[g,_]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[m,Z],[g,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[m,Ue],[g,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[m,Ue],[g,_]],[/smart-tv.+(samsung)/i],[m,[g,x]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[m,te],[g,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,W],[g,x]],[/(apple) ?tv/i],[m,[p,$+" TV"],[g,x]],[/crkey/i],[[p,D+"cast"],[m,U],[g,x]],[/droid.+aft(\w+)( bui|\))/i],[p,[m,I],[g,x]],[/(shield \w+ tv)/i],[p,[m,ie],[g,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[m,he],[g,x]],[/(bravia[\w ]+)( bui|\))/i],[p,[m,xe],[g,x]],[/(mi(tv|box)-?\w+) bui/i],[p,[m,ke],[g,x]],[/Hbbtv.*(technisat) (.*);/i],[m,p,[g,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Wt],[p,Wt],[g,x]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[p,[g,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,p,[g,C]],[/droid.+; (shield)( bui|\))/i],[p,[m,ie],[g,C]],[/(playstation \w+)/i],[p,[m,xe],[g,C]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[m,Z],[g,C]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[p,[m,te],[g,b]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[m,p,[g,b]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[p,[m,ae],[g,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[m,$],[g,b]],[/(opwwe\d{3})/i],[p,[m,V],[g,b]],[/(moto 360)/i],[p,[m,z],[g,b]],[/(smartwatch 3)/i],[p,[m,xe],[g,b]],[/(g watch r)/i],[p,[m,W],[g,b]],[/droid.+; (wt63?0{2,3})\)/i],[p,[m,Ue],[g,b]],[/droid.+; (glass) \d/i],[p,[m,U],[g,b]],[/(pico) (4|neo3(?: link|pro)?)/i],[m,p,[g,b]],[/; (quest( \d| pro)?)/i],[p,[m,ge],[g,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[g,k]],[/(aeobc)\b/i],[p,[m,I],[g,k]],[/(homepod).+mac os/i],[p,[m,$],[g,k]],[/windows iot/i],[[g,k]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[p,[g,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[g,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,_]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[p,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[f,M+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[f,w],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,w],[/ladybird\//i],[[f,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,w],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[f,[w,zt,ht]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,zt,ht],[f,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,Ee],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,f],[/(ubuntu) ([\w\.]+) like android/i],[[f,/(.+)/,"$1 Touch"],w],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[f,w],[/\(bb(10);/i],[w,[f,N]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[w,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[f,B+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[f,D+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,Ce],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,w],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,w]]},ct=function(be,_e){if(typeof be===d&&(_e=be,be=r),!(this instanceof ct))return new ct(be,_e).getResult();var me=typeof n!==l&&n.navigator?n.navigator:r,Be=be||(me&&me.userAgent?me.userAgent:s),at=me&&me.userAgentData?me.userAgentData:r,Xe=_e?We(bt,_e):bt,Ve=me&&me.userAgent==Be;return this.getBrowser=function(){var De={};return De[f]=r,De[w]=r,pe.call(De,Be,Xe.browser),De[h]=St(De[w]),Ve&&me&&me.brave&&typeof me.brave.isBrave==o&&(De[f]="Brave"),De},this.getCPU=function(){var De={};return De[v]=r,pe.call(De,Be,Xe.cpu),De},this.getDevice=function(){var De={};return De[m]=r,De[p]=r,De[g]=r,pe.call(De,Be,Xe.device),Ve&&!De[g]&&at&&at.mobile&&(De[g]=_),Ve&&De[p]=="Macintosh"&&me&&typeof me.standalone!==l&&me.maxTouchPoints&&me.maxTouchPoints>2&&(De[p]="iPad",De[g]=E),De},this.getEngine=function(){var De={};return De[f]=r,De[w]=r,pe.call(De,Be,Xe.engine),De},this.getOS=function(){var De={};return De[f]=r,De[w]=r,pe.call(De,Be,Xe.os),Ve&&!De[f]&&at&&at.platform&&at.platform!="Unknown"&&(De[f]=at.platform.replace(/chrome os/i,Ce).replace(/macos/i,Ee)),De},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Be},this.setUA=function(De){return Be=typeof De===u&&De.length>S?Wt(De,S):De,this},this.setUA(Be),this};ct.VERSION=i,ct.BROWSER=ze([f,w,h]),ct.CPU=ze([v]),ct.DEVICE=ze([p,m,g,C,_,x,E,b,k]),ct.ENGINE=ct.OS=ze([f,w]),t.exports&&(e=t.exports=ct),e.UAParser=ct;var st=typeof n!==l&&(n.jQuery||n.Zepto);if(st&&!st.ua){var un=new ct;st.ua=un.getResult(),st.ua.get=function(){return un.getUA()},st.ua.set=function(be){un.setUA(be);var _e=un.getResult();for(var me in _e)st.ua[me]=_e[me]}}})(typeof window=="object"?window:wT)})(ld,ld.exports)),ld.exports}var zv;function bT(){if(zv)return Fe;zv=1,Object.defineProperty(Fe,"__esModule",{value:!0});function t(ne){return ne&&typeof ne=="object"&&"default"in ne?ne.default:ne}var e=zx(),n=t(e),r=vT(),i=new r,s=i.getBrowser(),a=i.getCPU(),o=i.getDevice(),l=i.getEngine(),d=i.getOS(),u=i.getUA(),h=function(q){return i.setUA(q)},p=function(q){if(!q){console.error("No userAgent string was provided");return}var Y=new r(q);return{UA:Y,browser:Y.getBrowser(),cpu:Y.getCPU(),device:Y.getDevice(),engine:Y.getEngine(),os:Y.getOS(),ua:Y.getUA(),setUserAgent:function(ye){return Y.setUA(ye)}}},f=Object.freeze({ClientUAInstance:i,browser:s,cpu:a,device:o,engine:l,os:d,ua:u,setUa:h,parseUserAgent:p});function g(ne,q){var Y=Object.keys(ne);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(ne);q&&(oe=oe.filter(function(ye){return Object.getOwnPropertyDescriptor(ne,ye).enumerable})),Y.push.apply(Y,oe)}return Y}function m(ne){for(var q=1;q<arguments.length;q++){var Y=arguments[q]!=null?arguments[q]:{};q%2?g(Object(Y),!0).forEach(function(oe){E(ne,oe,Y[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(Y)):g(Object(Y)).forEach(function(oe){Object.defineProperty(ne,oe,Object.getOwnPropertyDescriptor(Y,oe))})}return ne}function w(ne){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(q){return typeof q}:w=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},w(ne)}function v(ne,q){if(!(ne instanceof q))throw new TypeError("Cannot call a class as a function")}function C(ne,q){for(var Y=0;Y<q.length;Y++){var oe=q[Y];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(ne,oe.key,oe)}}function _(ne,q,Y){return q&&C(ne.prototype,q),ne}function E(ne,q,Y){return q in ne?Object.defineProperty(ne,q,{value:Y,enumerable:!0,configurable:!0,writable:!0}):ne[q]=Y,ne}function x(){return x=Object.assign||function(ne){for(var q=1;q<arguments.length;q++){var Y=arguments[q];for(var oe in Y)Object.prototype.hasOwnProperty.call(Y,oe)&&(ne[oe]=Y[oe])}return ne},x.apply(this,arguments)}function b(ne,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(q&&q.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),q&&S(ne,q)}function k(ne){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},k(ne)}function S(ne,q){return S=Object.setPrototypeOf||function(oe,ye){return oe.__proto__=ye,oe},S(ne,q)}function I(ne,q){if(ne==null)return{};var Y={},oe=Object.keys(ne),ye,mt;for(mt=0;mt<oe.length;mt++)ye=oe[mt],!(q.indexOf(ye)>=0)&&(Y[ye]=ne[ye]);return Y}function $(ne,q){if(ne==null)return{};var Y=I(ne,q),oe,ye;if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(ne);for(ye=0;ye<mt.length;ye++)oe=mt[ye],!(q.indexOf(oe)>=0)&&Object.prototype.propertyIsEnumerable.call(ne,oe)&&(Y[oe]=ne[oe])}return Y}function A(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function N(ne,q){if(q&&(typeof q=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(ne)}function O(ne,q){return D(ne)||M(ne,q)||B(ne,q)||L()}function D(ne){if(Array.isArray(ne))return ne}function M(ne,q){var Y=ne==null?null:typeof Symbol<"u"&&ne[Symbol.iterator]||ne["@@iterator"];if(Y!=null){var oe=[],ye=!0,mt=!1,_n,Er;try{for(Y=Y.call(ne);!(ye=(_n=Y.next()).done)&&(oe.push(_n.value),!(q&&oe.length===q));ye=!0);}catch(Ju){mt=!0,Er=Ju}finally{try{!ye&&Y.return!=null&&Y.return()}finally{if(mt)throw Er}}return oe}}function B(ne,q){if(ne){if(typeof ne=="string")return U(ne,q);var Y=Object.prototype.toString.call(ne).slice(8,-1);if(Y==="Object"&&ne.constructor&&(Y=ne.constructor.name),Y==="Map"||Y==="Set")return Array.from(ne);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return U(ne,q)}}function U(ne,q){(q==null||q>ne.length)&&(q=ne.length);for(var Y=0,oe=new Array(q);Y<q;Y++)oe[Y]=ne[Y];return oe}function L(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},j={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},W={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},Z={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},z=function(q){switch(q){case T.Mobile:return{isMobile:!0};case T.Tablet:return{isTablet:!0};case T.SmartTv:return{isSmartTV:!0};case T.Console:return{isConsole:!0};case T.Wearable:return{isWearable:!0};case T.Browser:return{isBrowser:!0};case T.Embedded:return{isEmbedded:!0};default:return Z}},ie=function(q){return h(q)},V=function(q){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return q||Y},ee=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},ae=function(q){var Y=ee();return Y&&Y.platform&&(Y.platform.indexOf(q)!==-1||Y.platform==="MacIntel"&&Y.maxTouchPoints>1&&!window.MSStream)},te=function(q,Y,oe,ye,mt){return{isBrowser:q,browserMajorVersion:V(Y.major),browserFullVersion:V(Y.version),browserName:V(Y.name),engineName:V(oe.name),engineVersion:V(oe.version),osName:V(ye.name),osVersion:V(ye.version),userAgent:V(mt)}},he=function(q,Y,oe,ye){return m({},q,{vendor:V(Y.vendor),model:V(Y.model),os:V(oe.name),osVersion:V(oe.version),ua:V(ye)})},xe=function(q,Y,oe,ye){return{isSmartTV:q,engineName:V(Y.name),engineVersion:V(Y.version),osName:V(oe.name),osVersion:V(oe.version),userAgent:V(ye)}},ke=function(q,Y,oe,ye){return{isConsole:q,engineName:V(Y.name),engineVersion:V(Y.version),osName:V(oe.name),osVersion:V(oe.version),userAgent:V(ye)}},Ue=function(q,Y,oe,ye){return{isWearable:q,engineName:V(Y.name),engineVersion:V(Y.version),osName:V(oe.name),osVersion:V(oe.version),userAgent:V(ye)}},ge=function(q,Y,oe,ye,mt){return{isEmbedded:q,vendor:V(Y.vendor),model:V(Y.model),engineName:V(oe.name),engineVersion:V(oe.version),osName:V(ye.name),osVersion:V(ye.version),userAgent:V(mt)}};function Ce(ne){var q=ne?p(ne):f,Y=q.device,oe=q.browser,ye=q.engine,mt=q.os,_n=q.ua,Er=z(Y.type),Ju=Er.isBrowser,UA=Er.isMobile,BA=Er.isTablet,jv=Er.isSmartTV,Ov=Er.isConsole,Rv=Er.isWearable,Mv=Er.isEmbedded;if(Ju)return te(Ju,oe,ye,mt,_n);if(jv)return xe(jv,ye,mt,_n);if(Ov)return ke(Ov,ye,mt,_n);if(UA||BA)return he(Er,Y,mt,_n);if(Rv)return Ue(Rv,ye,mt,_n);if(Mv)return ge(Mv,Y,ye,mt,_n)}var Ee=function(q){var Y=q.type;return Y===T.Mobile},re=function(q){var Y=q.type;return Y===T.Tablet},We=function(q){var Y=q.type;return Y===T.Mobile||Y===T.Tablet},ze=function(q){var Y=q.type;return Y===T.SmartTv},de=function(q){var Y=q.type;return Y===T.Browser},ve=function(q){var Y=q.type;return Y===T.Wearable},St=function(q){var Y=q.type;return Y===T.Console},Wt=function(q){var Y=q.type;return Y===T.Embedded},pe=function(q){var Y=q.vendor;return V(Y)},zt=function(q){var Y=q.model;return V(Y)},Te=function(q){var Y=q.type;return V(Y,"browser")},ht=function(q){var Y=q.name;return Y===W.Android},bt=function(q){var Y=q.name;return Y===W.Windows},ct=function(q){var Y=q.name;return Y===W.MAC_OS},st=function(q){var Y=q.name;return Y===W.WindowsPhone},un=function(q){var Y=q.name;return Y===W.IOS},be=function(q){var Y=q.version;return V(Y)},_e=function(q){var Y=q.name;return V(Y)},me=function(q){var Y=q.name;return Y===j.Chrome},Be=function(q){var Y=q.name;return Y===j.Firefox},at=function(q){var Y=q.name;return Y===j.Chromium},Xe=function(q){var Y=q.name;return Y===j.Edge},Ve=function(q){var Y=q.name;return Y===j.Yandex},De=function(q){var Y=q.name;return Y===j.Safari||Y===j.MobileSafari},Et=function(q){var Y=q.name;return Y===j.MobileSafari},At=function(q){var Y=q.name;return Y===j.Opera},Kt=function(q){var Y=q.name;return Y===j.InternetExplorer||Y===j.Ie},Ae=function(q){var Y=q.name;return Y===j.MIUI},Cn=function(q){var Y=q.name;return Y===j.SamsungBrowser},Fr=function(q){var Y=q.version;return V(Y)},Ur=function(q){var Y=q.major;return V(Y)},Pi=function(q){var Y=q.name;return V(Y)},P=function(q){var Y=q.name;return V(Y)},R=function(q){var Y=q.version;return V(Y)},K=function(){var q=ee(),Y=q&&q.userAgent&&q.userAgent.toLowerCase();return typeof Y=="string"?/electron/.test(Y):!1},H=function(q){return typeof q=="string"&&q.indexOf("Edg/")!==-1},J=function(){var q=ee();return q&&(/iPad|iPhone|iPod/.test(q.platform)||q.platform==="MacIntel"&&q.maxTouchPoints>1)&&!window.MSStream},X=function(){return ae("iPad")},le=function(){return ae("iPhone")},ce=function(){return ae("iPod")},Qe=function(q){return V(q)};function it(ne){var q=ne||f,Y=q.device,oe=q.browser,ye=q.os,mt=q.engine,_n=q.ua;return{isSmartTV:ze(Y),isConsole:St(Y),isWearable:ve(Y),isEmbedded:Wt(Y),isMobileSafari:Et(oe)||X(),isChromium:at(oe),isMobile:We(Y)||X(),isMobileOnly:Ee(Y),isTablet:re(Y)||X(),isBrowser:de(Y),isDesktop:de(Y),isAndroid:ht(ye),isWinPhone:st(ye),isIOS:un(ye)||X(),isChrome:me(oe),isFirefox:Be(oe),isSafari:De(oe),isOpera:At(oe),isIE:Kt(oe),osVersion:be(ye),osName:_e(ye),fullBrowserVersion:Fr(oe),browserVersion:Ur(oe),browserName:Pi(oe),mobileVendor:pe(Y),mobileModel:zt(Y),engineName:P(mt),engineVersion:R(mt),getUA:Qe(_n),isEdge:Xe(oe)||H(_n),isYandex:Ve(oe),deviceType:Te(Y),isIOS13:J(),isIPad13:X(),isIPhone13:le(),isIPod13:ce(),isElectron:K(),isEdgeChromium:H(_n),isLegacyEdge:Xe(oe)&&!H(_n),isWindows:bt(ye),isMacOs:ct(ye),isMIUI:Ae(oe),isSamsungBrowser:Cn(oe)}}var dt=ze(o),ft=St(o),Ne=ve(o),Ze=Wt(o),je=Et(s)||X(),He=at(s),Ke=We(o)||X(),pt=Ee(o),kt=re(o)||X(),nt=de(o),et=de(o),xt=ht(d),on=st(d),_r=un(d)||X(),we=me(s),gt=Be(s),tt=De(s),hn=At(s),pr=Kt(s),as=be(d),Di=_e(d),Ag=Fr(s),Tg=Ur(s),iA=Pi(s),sA=pe(o),aA=zt(o),oA=P(l),lA=R(l),cA=Qe(u),dA=Xe(s)||H(u),uA=Ve(s),hA=Te(o),pA=J(),fA=X(),gA=le(),mA=ce(),yA=K(),wA=H(u),vA=Xe(s)&&!H(u),bA=bt(d),xA=ct(d),CA=Ae(s),_A=Cn(s),EA=function(q){if(!q||typeof q!="string"){console.error("No valid user agent string was provided");return}var Y=p(q),oe=Y.device,ye=Y.browser,mt=Y.os,_n=Y.engine,Er=Y.ua;return it({device:oe,browser:ye,os:mt,engine:_n,ua:Er})},kA=function(q){var Y=q.renderWithFragment,oe=q.children,ye=$(q,["renderWithFragment","children"]);return xt?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},$A=function(q){var Y=q.renderWithFragment,oe=q.children,ye=$(q,["renderWithFragment","children"]);return nt?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},IA=function(q){var Y=q.renderWithFragment,oe=q.children,ye=$(q,["renderWithFragment","children"]);return pr?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},SA=function(q){var Y=q.renderWithFragment,oe=q.children,ye=$(q,["renderWithFragment","children"]);return _r?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},AA=function(q){var Y=q.renderWithFragment,oe=q.children,ye=$(q,["renderWithFragment","children"]);return Ke?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},TA=function(q){var Y=q.renderWithFragment,oe=q.children,ye=$(q,["renderWithFragment","children"]);return kt?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},PA=function(q){var Y=q.renderWithFragment,oe=q.children,ye=$(q,["renderWithFragment","children"]);return on?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},DA=function(q){var Y=q.renderWithFragment,oe=q.children;q.viewClassName,q.style;var ye=$(q,["renderWithFragment","children","viewClassName","style"]);return pt?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},NA=function(q){var Y=q.renderWithFragment,oe=q.children,ye=$(q,["renderWithFragment","children"]);return dt?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},jA=function(q){var Y=q.renderWithFragment,oe=q.children,ye=$(q,["renderWithFragment","children"]);return ft?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},OA=function(q){var Y=q.renderWithFragment,oe=q.children,ye=$(q,["renderWithFragment","children"]);return Ne?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",ye,oe):null},RA=function(q){var Y=q.renderWithFragment,oe=q.children;q.viewClassName,q.style;var ye=q.condition,mt=$(q,["renderWithFragment","children","viewClassName","style","condition"]);return ye?Y?n.createElement(e.Fragment,null,oe):n.createElement("div",mt,oe):null};function MA(ne){return(function(q){b(Y,q);function Y(oe){var ye;return v(this,Y),ye=N(this,k(Y).call(this,oe)),ye.isEventListenerAdded=!1,ye.handleOrientationChange=ye.handleOrientationChange.bind(A(ye)),ye.onOrientationChange=ye.onOrientationChange.bind(A(ye)),ye.onPageLoad=ye.onPageLoad.bind(A(ye)),ye.state={isLandscape:!1,isPortrait:!1},ye}return _(Y,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var ye=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:ye===0,isLandscape:ye===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":w(window))!==void 0&&Ke&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return n.createElement(ne,x({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),Y})(n.Component)}function LA(){var ne=e.useState(function(){var mt=window.innerWidth>window.innerHeight?90:0;return{isPortrait:mt===0,isLandscape:mt===90,orientation:mt===0?"portrait":"landscape"}}),q=O(ne,2),Y=q[0],oe=q[1],ye=e.useCallback(function(){var mt=window.innerWidth>window.innerHeight?90:0,_n={isPortrait:mt===0,isLandscape:mt===90,orientation:mt===0?"portrait":"landscape"};Y.orientation!==_n.orientation&&oe(_n)},[Y.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":w(window))!==void 0&&Ke&&(ye(),window.addEventListener("load",ye,!1),window.addEventListener("resize",ye,!1)),function(){window.removeEventListener("resize",ye,!1),window.removeEventListener("load",ye,!1)}},[ye]),Y}function Nv(ne){var q=ne||window.navigator.userAgent;return p(q)}function FA(ne){var q=ne||window.navigator.userAgent,Y=Nv(q),oe=it(Y);return[oe,Y]}return Fe.AndroidView=kA,Fe.BrowserTypes=j,Fe.BrowserView=$A,Fe.ConsoleView=jA,Fe.CustomView=RA,Fe.IEView=IA,Fe.IOSView=SA,Fe.MobileOnlyView=DA,Fe.MobileView=AA,Fe.OsTypes=W,Fe.SmartTVView=NA,Fe.TabletView=TA,Fe.WearableView=OA,Fe.WinPhoneView=PA,Fe.browserName=iA,Fe.browserVersion=Tg,Fe.deviceDetect=Ce,Fe.deviceType=hA,Fe.engineName=oA,Fe.engineVersion=lA,Fe.fullBrowserVersion=Ag,Fe.getSelectorsByUserAgent=EA,Fe.getUA=cA,Fe.isAndroid=xt,Fe.isBrowser=nt,Fe.isChrome=we,Fe.isChromium=He,Fe.isConsole=ft,Fe.isDesktop=et,Fe.isEdge=dA,Fe.isEdgeChromium=wA,Fe.isElectron=yA,Fe.isEmbedded=Ze,Fe.isFirefox=gt,Fe.isIE=pr,Fe.isIOS=_r,Fe.isIOS13=pA,Fe.isIPad13=fA,Fe.isIPhone13=gA,Fe.isIPod13=mA,Fe.isLegacyEdge=vA,Fe.isMIUI=CA,Fe.isMacOs=xA,Fe.isMobile=Ke,Fe.isMobileOnly=pt,Fe.isMobileSafari=je,Fe.isOpera=hn,Fe.isSafari=tt,Fe.isSamsungBrowser=_A,Fe.isSmartTV=dt,Fe.isTablet=kt,Fe.isWearable=Ne,Fe.isWinPhone=on,Fe.isWindows=bA,Fe.isYandex=uA,Fe.mobileModel=aA,Fe.mobileVendor=sA,Fe.osName=Di,Fe.osVersion=as,Fe.parseUserAgent=p,Fe.setUserAgent=ie,Fe.useDeviceData=Nv,Fe.useDeviceSelectors=FA,Fe.useMobileOrientation=LA,Fe.withOrientationChange=MA,Fe}var It=bT();const xT={path:"/api/v1/analytics_events",method:"POST"},CT={path:"/api/v1/apps/:app_id",method:"GET"},_T={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},ET={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},kT={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},$T={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},IT={path:"/api/v1/farcaster/init",method:"POST"},ST={path:"/api/v1/farcaster/authenticate",method:"POST"},AT={path:"/api/v1/farcaster/link",method:"POST"},TT={path:"/api/v1/farcaster/unlink",method:"POST"},PT={path:"/api/v1/farcaster/status",method:"GET"},DT={path:"/api/v2/farcaster/init",method:"POST"},NT={path:"/api/v2/farcaster/authenticate",method:"POST"},jT={path:"/api/v1/guest/authenticate",method:"POST"},OT={path:"/api/v1/mfa/passkeys/init",method:"POST"},RT={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},MT={path:"/api/v1/oauth/authenticate",method:"POST"},LT={path:"/api/v1/oauth/init",method:"POST"},FT={path:"/api/v1/oauth/link",method:"POST"},UT={path:"/api/v1/oauth/unlink",method:"POST"},BT={path:"/api/v1/passkeys/link",method:"POST"},WT={path:"/api/v1/passkeys/authenticate",method:"POST"},zT={path:"/api/v1/passkeys/register",method:"POST"},qT={path:"/api/v1/passkeys/authenticate/init",method:"POST"},HT={path:"/api/v1/passkeys/register/init",method:"POST"},VT={path:"/api/v1/passkeys/link/init",method:"POST"},KT={path:"/api/v1/passwordless/authenticate",method:"POST"},GT={path:"/api/v1/passwordless/init",method:"POST"},YT={path:"/api/v1/passwordless/link",method:"POST"},ZT={path:"/api/v1/passwordless/unlink",method:"POST"},JT={path:"/api/v1/passwordless/update",method:"POST"},QT={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},XT={path:"/api/v1/passwordless_sms/init",method:"POST"},eP={path:"/api/v1/passwordless_sms/link",method:"POST"},tP={path:"/api/v1/passwordless_sms/unlink",method:"POST"},nP={path:"/api/v1/passwordless_sms/update",method:"POST"},rP={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},iP={path:"/api/v1/recovery/oauth/init",method:"POST"},sP={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},aP={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},oP={path:"/api/v1/recovery/configuration_icloud",method:"POST"},lP=(t,e)=>e?Object.entries(e).reduce(((n,[r,i])=>n.replace(`:${r}`,`${i}`)),t):t,qv={path:"/api/v1/sessions",method:"POST"},cP={path:"/api/v1/sessions/logout",method:"POST"},dP={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},Hx={path:"/api/v1/siwe/init",method:"POST"},uP={path:"/api/v1/siwe/authenticate",method:"POST"},hP={path:"/api/v1/siwe/link",method:"POST"},pP={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},fP={path:"/api/v1/siwe/unlink",method:"POST"},gP={path:"/api/v1/siws/init",method:"POST"},mP={path:"/api/v1/siws/authenticate",method:"POST"},yP={path:"/api/v1/siws/link",method:"POST"},wP={path:"/api/v1/siws/unlink",method:"POST"},vP={path:"/api/v1/users/me/accept_terms",method:"POST"},bP={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},xP={path:"/api/v1/wallets",method:"POST"},Pg={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},CP={path:"/api/v1/wallets/revoke",method:"POST"};var Ge,Hv=((Ge={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Ge.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ge.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",Ge.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ge.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Ge.MISSING_MFA_ENROLLMENT="missing_mfa_enrollment",Ge.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",Ge.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",Ge.INVALID_DATA="invalid_data",Ge.INVALID_CREDENTIALS="invalid_credentials",Ge.INVALID_CAPTCHA="invalid_captcha",Ge.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ge.ALLOWLIST_REJECTED="allowlist_rejected",Ge.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",Ge.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",Ge.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Ge.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",Ge.TOO_MANY_REQUESTS="too_many_requests",Ge.RESOURCE_CONFLICT="resource_conflict",Ge.INVALID_ORIGIN="invalid_origin",Ge.MISSING_ORIGIN="missing_origin",Ge.INVALID_NATIVE_APP_ID="invalid_native_app_id",Ge.TOKEN_ALREADY_USED="token_already_used",Ge.ALREADY_LOGGED_OUT="already_logged_out",Ge.NOT_SUPPORTED="not_supported",Ge.USER_UNSUBSCRIBED="user_unsubscribed",Ge.MAX_APPS_REACHED="max_apps_reached",Ge.USER_LIMIT_REACHED="max_accounts_reached",Ge.DEVICE_REVOKED="device_revoked",Ge.WALLET_PASSWORD_EXISTS="wallet_password_exists",Ge.OAUTH_STATE_MISMATCH="oauth_state_mismatch",Ge.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",Ge.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",Ge.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Ge.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Ge.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",Ge.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",Ge.CANNOT_SET_PASSWORD="cannot_set_password",Ge.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",Ge.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",Ge.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",Ge.USER_DOES_NOT_EXIST="user_does_not_exist",Ge.ALREADY_EXISTS="resource_already_exists",Ge.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Ge.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",Ge.FEATURE_NOT_ENABLED="feature_not_enabled",Ge.INSUFFICIENT_FUNDS="insufficient_funds",Ge.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",Ge.INVALID_POLICY_FORMAT="invalid_policy_format",Ge.POLICY_VIOLATION="policy_violation",Ge.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",Ge.INVALID_REQUEST="invalid_request",Ge.SIGNUP_DISABLED="signup_disabled",Ge);function Vv(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),i=0;i<3;i++){var s=Number(n[i]),a=Number(r[i]);if(s>a)return 1;if(a>s)return-1;if(!isNaN(s)&&isNaN(a))return 1;if(isNaN(s)&&!isNaN(a))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var _P={}.constructor;function To(t){return t!=null&&t.constructor===_P}function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function sf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kP(r.key),r)}}function af(t,e,n){return e&&EP(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kP(t){var e=$P(t,"string");return lc(e)=="symbol"?e:e+""}function $P(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IP="1.2.0",SP="1.7.35",Kv=" ext. ",AP=/^\d+$/,Mn=(function(){function t(e){sf(this,t),Vx(e),this.metadata=e,Kx.call(this,e)}return af(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&AP.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new Gv(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new Gv(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var i=this.nonGeographic()[n];if(i)return i}else{var s=this.countryCallingCodes()[n];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),Gv=(function(){function t(e,n){sf(this,t),this.globalMetadataObject=n,this.metadata=e,Kx.call(this,n.metadata)}return af(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(i){return new TP(i,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&Yv(this.types(),n))return new DP(Yv(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?Kv:this.metadata[13]||Kv}}])})(),TP=(function(){function t(e,n){sf(this,t),this._format=e,this.metadata=n}return af(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!PP.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),PP=/^\(?\$1\)?$/,DP=(function(){function t(e,n){sf(this,t),this.type=e,this.metadata=n}return af(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function Yv(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function Vx(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!To(t)||!To(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(To(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+NP(t)+": "+t,"."))}var NP=function(e){return lc(e)};function of(t,e){if(e=new Mn(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function jP(t,e){return e.countries.hasOwnProperty(t)}function Kx(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?Vv(e,IP)===-1?this.v2=!0:Vv(e,SP)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function lf(t,e,n){return OP(t,e,void 0,n)}function OP(t,e,n,r){e&&(r=new Mn(r.metadata),r.selectNumberingPlan(e));var i=r.type(n),s=i&&i.possibleLengths()||r.possibleLengths();if(!s)return"IS_POSSIBLE";var a=t.length,o=s[0];return o===a?"IS_POSSIBLE":o>a?"TOO_SHORT":s[s.length-1]<a?"TOO_LONG":s.indexOf(a,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function RP(t,e,n){if(e===void 0&&(e={}),n=new Mn(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return Gx(t.phone||t.nationalNumber,t.country,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function Gx(t,e,n){switch(lf(t,e,n)){case"IS_POSSIBLE":return!0;default:return!1}}function la(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function MP(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=LP(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LP(t,e){if(t){if(typeof t=="string")return Zv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zv(t,e):void 0}}function Zv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var FP=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function C2(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new Mn(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(la(r,n.nationalNumberPattern())){if(Dg(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||Dg(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=MP(FP),s;!(s=i()).done;){var a=s.value;if(Dg(r,a,n))return a}}}}function Dg(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:la(t,e.pattern())}function UP(t,e,n){if(e=e||{},n=new Mn(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return C2(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return la(r,n.nationalNumberPattern())}function BP(t,e,n){var r=new Mn(n),i=r.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return WP(e,s,n)}):[]}function WP(t,e,n){var r=new Mn(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var _2=2,zP=17,qP=3,xr="0-9---",HP="--",VP="/",KP=".",GP=" ",YP="()\\[\\]",ZP="~",qi="".concat(HP).concat(VP).concat(KP).concat(GP).concat(YP).concat(ZP),cf="+",JP=new RegExp("(["+xr+"])");function Yx(t,e,n,r){if(e){var i=new Mn(r);i.selectNumberingPlan(e,n);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var a=t.match(JP);if(!(a&&a[1]!=null&&a[1].length>0&&a[1]==="0"))return t}}}function n0(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var i,s,a=r.length-1,o=a>0&&r[a];if(e.nationalPrefixTransformRule()&&o)i=t.replace(n,e.nationalPrefixTransformRule()),a>1&&(s=r[1]);else{var l=r[0];i=t.slice(l.length),o&&(s=r[1])}var d;if(o){var u=t.indexOf(r[1]),h=t.slice(0,u);h===e.numberingPlan.nationalPrefix()&&(d=e.numberingPlan.nationalPrefix())}else d=r[0];return{nationalNumber:i,nationalPrefix:d,carrierCode:s}}}return{nationalNumber:t}}function QP(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=XP(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XP(t,e){if(t){if(typeof t=="string")return Jv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jv(t,e):void 0}}function Jv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Zx(t,e){var n=e.countries,r=e.metadata;r=new Mn(r);for(var i=QP(n),s;!(s=i()).done;){var a=s.value;if(r.selectNumberingPlan(a),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return a}else if(C2({phone:t,country:a},void 0,r.metadata))return a}}function E2(t,e){var n=e.nationalNumber,r=e.metadata,i=r.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:Zx(n,{countries:i,metadata:r.metadata})}function r0(t,e,n){var r=n0(t,n),i=r.carrierCode,s=r.nationalNumber;if(s!==t){if(!eD(t,s,n))return{nationalNumber:t};if(n.numberingPlan.possibleLengths()&&(e||(e=E2(n.numberingPlan.callingCode(),{nationalNumber:s,metadata:n})),!tD(s,e,n)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function eD(t,e,n){return!(la(t,n.nationalNumberPattern())&&!la(e,n.nationalNumberPattern()))}function tD(t,e,n){switch(lf(t,e,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function Jx(t,e,n,r,i){var s=e||n?of(e||n,i):r;if(t.indexOf(s)===0){i=new Mn(i),i.selectNumberingPlan(e||n,s);var a=t.slice(s.length),o=r0(a,e,i),l=o.nationalNumber,d=r0(t,e,i),u=d.nationalNumber;if(!la(u,i.nationalNumberPattern())&&la(l,i.nationalNumberPattern())||lf(u,e,i)==="TOO_LONG")return{countryCallingCode:s,number:a}}return{number:t}}function k2(t,e,n,r,i){if(!t)return{};var s;if(t[0]!=="+"){var a=Yx(t,e||n,r,i);if(a&&a!==t)s=!0,t="+"+a;else{if(e||n||r){var o=Jx(t,e,n,r,i),l=o.countryCallingCode,d=o.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:d}}return{number:t}}}if(t[1]==="0")return{};i=new Mn(i);for(var u=2;u-1<=qP&&u<=t.length;){var h=t.slice(1,u);if(i.hasCallingCode(h))return i.selectNumberingPlan(h),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:t.slice(u)};u++}return{}}function Qx(t){return t.replace(new RegExp("[".concat(qi,"]+"),"g")," ").trim()}var Xx=/(\$\d)/;function eC(t,e,n){var r=n.useInternationalFormat,i=n.withNationalPrefix;n.carrierCode,n.metadata;var s=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(Xx,e.nationalPrefixFormattingRule()):e.format());return r?Qx(s):s}var nD=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function rD(t,e,n){var r=new Mn(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(nD.test(r.IDDPrefix()))return r.IDDPrefix()}var iD=";ext=",ul=function(e){return"([".concat(xr,"]{1,").concat(e,"})")};function tC(t){var e="20",n="15",r="9",i="6",s="[ \\t,]*",a="[:\\.]?[ \\t,-]*",o="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",d="(?:[x#~]|int|)",u="[- ]+",h="[ \\t]*",p="(?:,{2}|;)",f=iD+ul(e),g=s+l+a+ul(e)+o,m=s+d+a+ul(r)+o,w=u+ul(i)+"#",v=h+p+a+ul(n)+o,C=h+"(?:,)+"+a+ul(r)+o;return f+"|"+g+"|"+m+"|"+w+"|"+v+"|"+C}var sD="["+xr+"]{"+_2+"}",aD="["+cf+"]{0,1}(?:["+qi+"]*["+xr+"]){3,}["+qi+xr+"]*",oD=new RegExp("^["+cf+"]{0,1}(?:["+qi+"]*["+xr+"]){1,2}$","i"),lD=aD+"(?:"+tC()+")?",cD=new RegExp("^"+sD+"$|^"+lD+"$","i");function dD(t){return t.length>=_2&&cD.test(t)}function uD(t){return oD.test(t)}function hD(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}var Qv={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function pD(t,e,n,r){if(n?n=mD({},Qv,n):n=Qv,r=new Mn(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=r.countryCallingCode(),s=n.v2?t.nationalNumber:t.phone,a;switch(e){case"NATIONAL":return s?(a=ap(s,t.carrierCode,"NATIONAL",r,n),Ng(a,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return s?(a=ap(s,null,"INTERNATIONAL",r,n),a="+".concat(i," ").concat(a),Ng(a,t.ext,r,n.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return hD({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!n.fromCountry)return;var o=gD(s,t.carrierCode,i,n.fromCountry,r);return Ng(o,t.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function ap(t,e,n,r,i){var s=fD(r.formats(),t);return s?eC(t,s,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:r}):t}function fD(t,e){return yD(t,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(e.search(r)!==0)return!1}return la(e,n.pattern())})}function Ng(t,e,n,r){return e?r(t,e,n):t}function gD(t,e,n,r,i){var s=of(r,i.metadata);if(s===n){var a=ap(t,e,"NATIONAL",i);return n==="1"?n+" "+a:a}var o=rD(r,void 0,i.metadata);if(o)return"".concat(o," ").concat(n," ").concat(ap(t,null,"INTERNATIONAL",i))}function mD(){for(var t=1,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(;t<n.length;){if(n[t])for(var i in n[t])n[0][i]=n[t][i];t++}return n[0]}function yD(t,e){for(var n=0;n<t.length;){if(e(t[n]))return t[n];n++}}function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function Xv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xv(Object(n),!0).forEach(function(r){wD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wD(t,e,n){return(e=nC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nC(r.key),r)}}function xD(t,e,n){return e&&bD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nC(t){var e=CD(t,"string");return Ud(e)=="symbol"?e:e+""}function CD(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $2=(function(){function t(e,n,r){if(vD(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(To(n)&&To(n.countries)){r=n;var i=e;if(!kD.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=k2(i,void 0,void 0,void 0,r),a=s.countryCallingCode,o=s.number;if(n=o,e=a,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");Vx(r);var l=ED(e,r),d=l.country,u=l.countryCallingCode;this.country=d,this.countryCallingCode=u,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return xD(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:BP(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return RP(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return UP(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new Mn(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return C2(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return pD(this,n,r?eb(eb({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])})(),_D=function(e){return/^[A-Z]{2}$/.test(e)};function ED(t,e){var n,r,i=new Mn(e);return _D(t)?(n=t,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var kD=/^\+\d+$/;function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}function $D(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function ID(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SD(t,e,n){return e=Wd(e),AD(t,I2()?Reflect.construct(e,n||[],Wd(t).constructor):e.apply(t,n))}function AD(t,e){if(e&&(i0(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TD(t)}function TD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bd(t,e)}function s0(t){var e=typeof Map=="function"?new Map:void 0;return s0=function(r){if(r===null||!ND(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return DD(r,arguments,Wd(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Bd(i,r)},s0(t)}function DD(t,e,n){if(I2())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&Bd(i,n.prototype),i}function I2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I2=function(){return!!t})()}function ND(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function Bd(t,e){return Bd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Bd(t,e)}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wd(t)}var Gs=(function(t){function e(n){var r;return ID(this,e),r=SD(this,e,[n]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return PD(e,t),$D(e)})(s0(Error)),tb=new RegExp("(?:"+tC()+")$","i");function jD(t){var e=t.search(tb);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(tb),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}function OD(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=RD(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RD(t,e){if(t){if(typeof t=="string")return nb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nb(t,e):void 0}}function nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var MD={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function rC(t){return MD[t]}function op(t){for(var e="",n=OD(t.split("")),r;!(r=n()).done;){var i=r.value,s=rC(i);s&&(e+=s)}return e}function LD(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=FD(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FD(t,e){if(t){if(typeof t=="string")return rb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rb(t,e):void 0}}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ib(t){for(var e="",n=LD(t.split("")),r;!(r=n()).done;){var i=r.value;e+=UD(i,e)||""}return e}function UD(t,e,n){return t==="+"?e?void 0:"+":rC(t)}var iC="+",BD="[\\-\\.\\(\\)]?",sb="(["+xr+"]|"+BD+")",WD="^\\"+iC+sb+"*["+xr+"]"+sb+"*$",zD=new RegExp(WD,"g"),a0=xr,qD="["+a0+"]+((\\-)*["+a0+"])*",HD="a-zA-Z",VD="["+HD+"]+((\\-)*["+a0+"])*",KD="^("+qD+"\\.)*"+VD+"\\.?$",GD=new RegExp(KD,"g"),ab="tel:",o0=";phone-context=",YD=";isub=";function ZD(t){var e=t.indexOf(o0);if(e<0)return null;var n=e+o0.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function JD(t){return t===null?!0:t.length===0?!1:zD.test(t)||GD.test(t)}function QD(t,e){var n=e.extractFormattedPhoneNumber,r=ZD(t);if(!JD(r))throw new Gs("NOT_A_NUMBER");var i;if(r===null)i=n(t)||"";else{i="",r.charAt(0)===iC&&(i+=r);var s=t.indexOf(ab),a;s>=0?a=s+ab.length:a=0;var o=t.indexOf(o0);i+=t.substring(a,o)}var l=i.indexOf(YD);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var XD=250,eN=new RegExp("["+cf+xr+"]"),tN=new RegExp("[^"+xr+"#]+$");function nN(t,e,n){if(e=e||{},n=new Mn(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new Gs("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=iN(t,e.v2,e.extract),i=r.number,s=r.ext,a=r.error;if(!i){if(e.v2)throw a==="TOO_SHORT"?new Gs("TOO_SHORT"):new Gs("NOT_A_NUMBER");return{}}var o=aN(i,e.defaultCountry,e.defaultCallingCode,n),l=o.country,d=o.nationalNumber,u=o.countryCallingCode,h=o.countryCallingCodeSource,p=o.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new Gs("INVALID_COUNTRY");return{}}if(!d||d.length<_2){if(e.v2)throw new Gs("TOO_SHORT");return{}}if(d.length>zP){if(e.v2)throw new Gs("TOO_LONG");return{}}if(e.v2){var f=new $2(u,d,n.metadata);return l&&(f.country=l),p&&(f.carrierCode=p),s&&(f.ext=s),f.__countryCallingCodeSource=h,f}var g=(e.extended?n.hasSelectedNumberingPlan():l)?la(d,n.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:u,carrierCode:p,valid:g,possible:g?!0:!!(e.extended===!0&&n.possibleLengths()&&Gx(d,l,n)),phone:d,ext:s}:g?sN(l,d,s):{}}function rN(t,e,n){if(t){if(t.length>XD){if(n)throw new Gs("TOO_LONG");return}if(e===!1)return t;var r=t.search(eN);if(!(r<0))return t.slice(r).replace(tN,"")}}function iN(t,e,n){var r=QD(t,{extractFormattedPhoneNumber:function(a){return rN(a,n,e)}});if(!r)return{};if(!dD(r))return uD(r)?{error:"TOO_SHORT"}:{};var i=jD(r);return i.ext?i:{number:r}}function sN(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function aN(t,e,n,r){var i=k2(ib(t),void 0,e,n,r.metadata),s=i.countryCallingCodeSource,a=i.countryCallingCode,o=i.number,l;if(a)r.selectNumberingPlan(a);else if(o&&(e||n))r.selectNumberingPlan(e,n),e&&(l=e),a=n||of(e,r.metadata);else return{};if(!o)return{countryCallingCodeSource:s,countryCallingCode:a};var d=r0(ib(o),l,r),u=d.nationalNumber,h=d.carrierCode,p=E2(a,{nationalNumber:u,metadata:r});return p&&(l=p,p==="001"||r.selectNumberingPlan(l)),{country:l,countryCallingCode:a,countryCallingCodeSource:s,nationalNumber:u,carrierCode:h}}function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function ob(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ob(Object(n),!0).forEach(function(r){oN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ob(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oN(t,e,n){return(e=lN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lN(t){var e=cN(t,"string");return zd(e)=="symbol"?e:e+""}function cN(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dN(t,e,n){return nN(t,lb(lb({},e),{},{v2:!0}),n)}function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(n),!0).forEach(function(r){hN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hN(t,e,n){return(e=pN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pN(t){var e=fN(t,"string");return qd(e)=="symbol"?e:e+""}function fN(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gN(t,e){return vN(t)||wN(t,e)||yN(t,e)||mN()}function mN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yN(t,e){if(t){if(typeof t=="string")return db(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?db(t,e):void 0}}function db(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wN(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){d=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function vN(t){if(Array.isArray(t))return t}function bN(t){var e=Array.prototype.slice.call(t),n=gN(e,4),r=n[0],i=n[1],s=n[2],a=n[3],o,l,d;if(typeof r=="string")o=r;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")a?(l=s,d=a):(l=void 0,d=s),i&&(l=uN({defaultCountry:i},l));else if(To(i))s?(l=i,d=s):d=i;else throw new Error("Invalid second argument: ".concat(i));return{text:o,options:l,metadata:d}}function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function ub(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ub(Object(n),!0).forEach(function(r){xN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ub(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xN(t,e,n){return(e=CN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CN(t){var e=_N(t,"string");return Hd(e)=="symbol"?e:e+""}function _N(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EN(t,e,n){e&&e.defaultCountry&&!jP(e.defaultCountry,n)&&(e=hb(hb({},e),{},{defaultCountry:void 0}));try{return dN(t,e,n)}catch(r){if(!(r instanceof Gs))throw r}}function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function pb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pb(Object(n),!0).forEach(function(r){kN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kN(t,e,n){return(e=$N(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $N(t){var e=IN(t,"string");return Vd(e)=="symbol"?e:e+""}function IN(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SN(){var t=bN(arguments),e=t.text,n=t.options,r=t.metadata;n=fb(fb({},n),{},{extract:!1});var i=EN(e,n,r);return i&&i.isPossible()||!1}function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function AN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DN(r.key),r)}}function PN(t,e,n){return e&&TN(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DN(t){var e=NN(t,"string");return Kd(e)=="symbol"?e:e+""}function NN(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jN=(function(){function t(e){var n=e.onCountryChange,r=e.onCallingCodeChange;AN(this,t),this.onCountryChange=n,this.onCallingCodeChange=r}return PN(t,[{key:"reset",value:function(n){var r=n.country,i=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(n){for(var r=0,i=Object.keys(n);r<i.length;r++){var s=i[r];this[s]=n[s]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])})();function ON(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=RN(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RN(t,e){if(t){if(typeof t=="string")return gb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gb(t,e):void 0}}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Mi="x",jg=new RegExp(Mi);function jh(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function mb(t,e){return t[e]===")"&&e++,MN(t.slice(0,e))}function MN(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var r=0,i="";e.push(t.length);for(var s=0,a=e;s<a.length;s++){var o=a[s];i+=t.slice(r,o),r=o+1}return i}function LN(t,e,n){for(var r=ON(n.split("")),i;!(i=r()).done;){var s=i.value;if(t.slice(e+1).search(jg)<0)return;e=t.search(jg),t=t.replace(jg,s)}return[t,e]}function FN(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,a=new RegExp("^(?:".concat(e.pattern(),")$"));if(a.test(t.nationalSignificantNumber))return BN(t,e,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function UN(t,e,n){return lf(t,e,n)==="IS_POSSIBLE"}function BN(t,e,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var a=yb(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:r});if(a)return a}return yb(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:r})}function yb(t,e,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,s=n.getSeparatorAfterNationalPrefix,a=eC(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:r});if(i||(t.nationalPrefix?a=t.nationalPrefix+s(e)+a:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(a=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+a)),WN(a,t))return a}function WN(t,e){return op(t)===e.getNationalDigits()}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function zN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VN(r.key),r)}}function HN(t,e,n){return e&&qN(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VN(t){var e=KN(t,"string");return Gd(e)=="symbol"?e:e+""}function KN(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GN=(function(){function t(){zN(this,t)}return HN(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],i=r.branches,s=r.instructions;if(i)return{op:"|",args:i.concat([Og(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(JN);if(!r){if(ZN.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var i=r[1],s=n.slice(0,r.index),a=n.slice(r.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var o=this.getContext(),l=o.branches;l.push(Og(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(Og(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:YN(s)});break;default:throw new Error("Unknown operator: ".concat(i))}a&&this.parsePattern(a)}}])})();function YN(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var r=t[n-1].charCodeAt(0)+1,i=t[n+1].charCodeAt(0)-1,s=r;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[n]);n++}return e}var ZN=/[\(\)\[\]\?\:\|]/,JN=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function Og(t){return t.length===1?t[0]:t}function wb(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=QN(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QN(t,e){if(t){if(typeof t=="string")return vb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vb(t,e):void 0}}function vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function XN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ej(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nj(r.key),r)}}function tj(t,e,n){return e&&ej(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nj(t){var e=rj(t,"string");return Yd(e)=="symbol"?e:e+""}function rj(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ij=(function(){function t(e){XN(this,t),this.matchTree=new GN().parse(e)}return tj(t,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.allowOverflow;if(!n)throw new Error("String is required");var s=l0(n.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])})();function l0(t,e,n){if(typeof e=="string"){var r=t.join("");return e.indexOf(r)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:r.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var a=e[s],o=l0(i,a,n&&s===e.length-1);if(o){if(o.overflow)return o;if(o.match){if(i=i.slice(o.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(o.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(o,null,2)))}}else return;s++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,d=wb(e.args),u;!(u=d()).done;){var h=u.value,p=l0(t,h,n);if(p){if(p.overflow)return p;if(p.match)return{match:!0,matchedChars:p.matchedChars};if(p.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(p,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var f=wb(e.args),g;!(g=f()).done;){var m=g.value;if(t[0]===m)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[m]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function bb(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=sj(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sj(t,e){if(t){if(typeof t=="string")return xb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xb(t,e):void 0}}function xb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function aj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cj(r.key),r)}}function lj(t,e,n){return e&&oj(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cj(t){var e=dj(t,"string");return Zd(e)=="symbol"?e:e+""}function dj(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var c0="9",uj=15,hj=jh(c0,uj),pj=/[- ]/,fj=function(){return/\[([^\[\]])*\]/g},gj=function(){return/\d(?=[^,}][^,}])/g},mj=new RegExp("["+qi+"]*\\$1["+qi+"]*(\\$\\d["+qi+"]*)*$"),Cb=3,yj=(function(){function t(e){e.state;var n=e.metadata;aj(this,t),this.metadata=n,this.resetFormat()}return lj(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var i=this;if(UN(r.nationalSignificantNumber,r.country,this.metadata))for(var s=bb(this.matchingFormats),a;!(a=s()).done;){var o=a.value,l=FN(r,o,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(u){return i.shouldTryNationalPrefixFormattingRule(u,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(u){return i.getSeparatorAfterNationalPrefix(u)}});if(l)return this.resetFormat(),this.chosenFormat=o,this.setNationalNumberTemplate(l.replace(/\d/g,Mi),r),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Mi),l}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var i=this.chosenFormat,s=this.chooseFormat(r);if(s)return s===i?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,i=n.nationalSignificantNumber,s=n.nationalPrefix,a=n.international,o=i,l=o.length-Cb;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(d){return r.formatSuits(d,a,s)&&r.formatMatches(d,o,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,i){return!(i&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!i&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,i){var s=n.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var a=n.leadingDigitsPatterns()[i];if(r.length<Cb)try{return new ij(a).match(r,{allowOverflow:!0})!==void 0}catch(o){return console.error(o),!0}return new RegExp("^(".concat(a,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,i=function(){var d=o.value;return r.chosenFormat===d?0:mj.test(r.getFormatFormat(d,n.international))?r.createTemplateForFormat(d,n)?(r.chosenFormat=d,0):(r.matchingFormats=r.matchingFormats.filter(function(u){return u!==d}),1):1},s,a=bb(this.matchingFormats.slice()),o;!(o=a()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(n,r);if(i)return this.setNationalNumberTemplate(i,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&pj.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var i=n.IDDPrefix,s=n.missingPlus;return i?r&&r.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(n){if(this.template){for(var r=-1,i=0,s=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";i<s.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(Mi,r+1),i++;return mb(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,Mi)+jh(Mi,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var i=r.nationalSignificantNumber,s=r.international,a=r.nationalPrefix,o=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,l=n.pattern();l=l.replace(fj(),"\\d").replace(gj(),"\\d");var d=hj.match(l)[0];if(!(i.length>d.length)){var u=new RegExp("^"+l+"$"),h=i.replace(/\d/g,c0);u.test(h)&&(d=h);var p=this.getFormatFormat(n,s),f;if(this.shouldTryNationalPrefixFormattingRule(n,{international:s,nationalPrefix:a})){var g=p.replace(Xx,n.nationalPrefixFormattingRule());if(op(n.nationalPrefixFormattingRule())===(a||"")+op("$1")&&(p=g,f=!0,a))for(var m=a.length;m>0;)p=p.replace(/\d/,Mi),m--}var w=d.replace(new RegExp(l),p).replace(new RegExp(c0,"g"),Mi);return f||(o?w=jh(Mi,o.length)+" "+w:a&&(w=jh(Mi,a.length)+this.getSeparatorAfterNationalPrefix(n)+w)),s&&(w=Qx(w)),w}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=LN(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],mb(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var i=r.international,s=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var a=n.usesNationalPrefix();if(a&&s||!a&&!i)return!0}}}])})();function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function sC(t,e){return xj(t)||bj(t,e)||vj(t,e)||wj()}function wj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vj(t,e){if(t){if(typeof t=="string")return _b(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_b(t,e):void 0}}function _b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){d=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function xj(t){if(Array.isArray(t))return t}function Cj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kj(r.key),r)}}function Ej(t,e,n){return e&&_j(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kj(t){var e=$j(t,"string");return Jd(e)=="symbol"?e:e+""}function $j(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ij="["+qi+xr+"]+",Sj=new RegExp("^"+Ij+"$","i"),Aj="(?:["+cf+"]["+qi+xr+"]*|["+qi+xr+"]+)",Tj=new RegExp("[^"+qi+xr+"]+.*$"),Pj=/[^\d\[\]]/,Dj=(function(){function t(e){var n=e.defaultCountry,r=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;Cj(this,t),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=s}return Ej(t,[{key:"input",value:function(n,r){var i=Oj(n),s=sC(i,2),a=s[0],o=s[1],l=op(a),d;return o&&(r.digits||(r.startInternationalNumber(void 0,void 0),l||(d=!0))),l&&this.inputDigits(l,r),{digits:l,justLeadingPlus:d}}},{key:"inputDigits",value:function(n,r){var i=r.digits,s=i.length<3&&i.length+n.length>=3;if(r.appendDigits(n),s&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(a){return r.update(a)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,i=n.callingCode;return r&&!i}},{key:"extractCountryCallingCode",value:function(n){var r=k2("+"+n.getDigitsWithoutInternationalPrefix(),n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode,s=r.number;if(i)return n.setCallingCode(i),n.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&Pj.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(this.hasSelectedNumberingPlan){var i=n0(n,this.metadata),s=i.nationalPrefix,a=i.nationalNumber,o=i.carrierCode;if(a!==n)return this.onExtractedNationalNumber(s,o,a,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=n0(n,this.metadata),a=s.nationalPrefix,o=s.nationalNumber,l=s.carrierCode;if(o!==r)return this.onExtractedNationalNumber(a,l,o,n,i),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,i,s,a){var o=!1,l,d=s.lastIndexOf(i);if(d<0||d!==s.length-i.length)o=!0;else{var u=s.slice(0,d);u&&u!==n&&(l=u)}a({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:i,nationalSignificantNumberIsModified:o,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,i=n.IDDPrefix,s=n.digits;if(n.nationalSignificantNumber,!(r||i)){var a=Yx(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(a!==void 0&&a!==s)return n.update({IDDPrefix:s.slice(0,s.length-a.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=Jx(n.digits,n.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=r.countryCallingCode;if(i)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(n,r){var i=r.country,s=r.callingCode;n.startInternationalNumber(i,s),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}])})();function Nj(t){var e=t.search(Aj);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace(Tj,""),n&&(t="+"+t),t}}function jj(t){var e=Nj(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function Oj(t){var e=jj(t),n=sC(e,2),r=n[0],i=n[1];return Sj.test(r)||(r=""),[r,i]}function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function Rj(t,e){return Uj(t)||Fj(t,e)||Lj(t,e)||Mj()}function Mj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lj(t,e){if(t){if(typeof t=="string")return Eb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eb(t,e):void 0}}function Eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,d=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){d=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function Uj(t){if(Array.isArray(t))return t}function Bj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qj(r.key),r)}}function zj(t,e,n){return e&&Wj(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qj(t){var e=Hj(t,"string");return Qd(e)=="symbol"?e:e+""}function Hj(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aC=(function(){function t(e,n){Bj(this,t),this.metadata=new Mn(n);var r=this.getCountryAndCallingCode(e),i=Rj(r,2),s=i[0],a=i[1];this.defaultCountry=s,this.defaultCallingCode=a,this.reset()}return zj(t,[{key:"getCountryAndCallingCode",value:function(n){var r,i;return n&&(To(n)?(r=n.defaultCountry,i=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,i]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),i=r.digits,s=r.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var a;if(this.metadata.hasSelectedNumberingPlan()&&(a=this.formatter.format(i,this.state)),a===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var o=this.state.getNationalDigits();o&&(a=this.formatter.format(o,this.state))}this.formattedOutput=a?this.getFullNumber(a):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new jN({onCountryChange:function(i){n.country=i},onCallingCodeChange:function(i,s){n.metadata.selectNumberingPlan(s,i),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new yj({state:this.state,metadata:this.metadata}),this.parser=new Dj({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var i=function(o){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!o})+o},s=this.state.callingCode;return i(s?n?"".concat(s," ").concat(n):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=n.nationalPrefix,a=r,o=i||s;return o&&(a=o+a),a}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(n?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Mi)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(E2(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,i=n.callingCode,s=n.country,a=n.nationalSignificantNumber;if(r){if(this.isInternational())return i?"+"+i+a:"+"+r;if(s||i){var o=s?this.metadata.countryCallingCode():i;return"+"+o+a}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,i=n.carrierCode,s=n.callingCode,a=this._getCountry();if(r&&!(!a&&!s)){if(a&&a===this.defaultCountry){var o=new Mn(this.metadata.metadata);o.selectNumberingPlan(a);var l=o.numberingPlan.callingCode(),d=this.metadata.getCountryCodesForCallingCode(l);if(d.length>1){var u=Zx(r,{countries:d,metadata:this.metadata.metadata});u&&(a=u)}}var h=new $2(a||s,r,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])})();function Vj(t){return new Mn(t).getCountries()}function Kj(t,e,n){if(e[t])return new $2(t,e[t],n)}let Gj=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(dP,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const Yj=new TextEncoder,oC=new TextDecoder,Zj=t=>{let e=t;typeof e=="string"&&(e=Yj.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},Jj=t=>Zj(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),Qj=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},Xj=t=>{let e=t;e instanceof Uint8Array&&(e=oC.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Qj(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class eO extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var n;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)===null||n===void 0||n.call(Error,this,this.constructor)}}class ao extends eO{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function tO(t){return typeof t=="object"&&t!==null}function nO(t){if(!tO(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Lo=Jj,rO=Xj;function d0(t){if(typeof t!="string")throw new ao("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new ao("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new ao("Invalid JWT");if(!e)throw new ao("JWTs must contain a payload");let r;try{r=rO(e)}catch{throw new ao("Failed to base64url decode the payload")}let i;try{i=JSON.parse(oC.decode(r))}catch{throw new ao("Failed to parse the decoded payload as JSON")}if(!nO(i))throw new ao("Invalid JWT Claims Set");return i}let cd=class lC{static parse(e){try{return new lC(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=d0(e)}},cC=class u0{async updateOnCrossAppAuthentication(e,n){let r=n.access_token,i=u0.providerAccessTokenStorageKey(e);await this._storage.put(i,r)}async getProviderAccessToken(e){let n=u0.providerAccessTokenStorageKey(e),r=await this._storage.get(n);if(typeof r!="string")return null;try{if(new cd(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(n),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(kT,{params:{app_id:this._privyInternal.appId}})}constructor(e,n){this._privyInternal=e,this._storage=n}};cC.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let iO=class{async revoke(){await this._privyInternal.fetch(CP,{})}constructor(e){this._privyInternal=e}};function sO(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const rs={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},S2={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},Ic={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},A2={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},is={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},T2={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},aO={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},df={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},oO={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},lO={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},cO={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},dO={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},uO={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},dC={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},hO={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},pO={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},Si={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},pa={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},P2={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},Ai={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},D2={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},fO={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},N2={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},uC={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},gO={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},mO={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},_u=[Si,N2,uO,rs,S2,pa,P2,Ai,D2,df,oO,lO,cO,is,T2,aO,pO,dC,hO,Ic,A2,uC,mO,gO,fO,dO],hC=new Set(_u.map((t=>t.id)));function j2(t){let e=t.filter((n=>!hC.has(n.id)));return _u.concat(e)}const pC=t=>t.map((e=>{var i;if(e.rpcUrls.privyWalletOverride)return e;let n=_u.find((s=>s.id===e.id)),r=(i=n==null?void 0:n.rpcUrls.privy)==null?void 0:i.http[0];return r?sO(e,r):e}));let Rg=class extends Error{constructor({error:e,code:n}){super(e),this.error=e,this.code=n}},Dt=class extends Error{constructor({error:e,code:n}){super(e),this.code=n,this.error=e}},yO=class extends Error{constructor({error:e,code:n,response:r}){super(e),this.code=n,this.error=e,this.response=r}};const ja=t=>!!t.id&&t.recovery_method==="privy-v2";let wO=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(ja(this._account))throw new Dt({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new Dt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Dt({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s}};const vO=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var kr;(kr={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",kr.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",kr.INVALID_DATA="invalid_data",kr.LINKED_TO_ANOTHER_USER="linked_to_another_user",kr.ALLOWLIST_REJECTED="allowlist_rejected",kr.OAUTH_USER_DENIED="oauth_user_denied",kr.UNKNOWN_AUTH_ERROR="unknown_auth_error",kr.USER_EXITED_AUTH_FLOW="exited_auth_flow",kr.MUST_BE_AUTHENTICATED="must_be_authenticated",kr.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",kr.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",kr.CLIENT_REQUEST_TIMEOUT="client_request_timeout",kr.INVALID_CREDENTIALS="invalid_credentials";let bO=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Oh=class extends Error{constructor(e,n){super(n),this.type=e}},fC=class extends bO{constructor(e,n,r){super(e,n,r),this.type="connector_error"}},kb=class extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}};const Bi={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function xO(t){let e=t.type;return typeof e=="string"&&vO.includes(e)}function O2(t){return xO(t)&&t.type==="wallet_not_on_device"}async function h0(t,{request:e}){return await t.fetchPrivyRoute(xP,{body:e})}async function Mg({context:t,chainType:e}){return{wallet:await h0(t,{request:{chain_type:e,owner_id:void 0}})}}const $b=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new fC(`Unsupported chainId ${t}`,4901);return $s({transport:Is(gC(s,n,r.appId)),chain:s})},gC=(t,e,n)=>{var a,o,l;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((a=t.rpcUrls.privy)!=null&&a.http[0]){let d=new URL(t.rpcUrls.privy.http[0]);d.searchParams.append("privyAppId",n),r=d.toString()}else r=(o=t.rpcUrls.public)!=null&&o.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!r)throw new fC(`No RPC url found for ${i}`);return r};function CO({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function mC(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let _O=class{enqueue(e,n){this.callbacks[e]=n}dequeue(e,n){let r=this.callbacks[n];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${n}`);switch(delete this.callbacks[n],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function EO(t,e,n,r,i=!1,s,a){var u,h,p;let o=i,l=async f=>{var g;if(o){f===(i?0:1)?r():(g=n.current)==null||g.reject(new Oh("missing_or_invalid_mfa","MFA verification failed, retry."));let m=await new Promise(((w,v)=>{e.current={resolve:w,reject:v},setTimeout((()=>{var _;let C=new Oh("mfa_timeout","Timed out waiting for MFA code");(_=n.current)==null||_.reject(C),v(C)}),a)}));return await t(m)}return await t()},d=null;for(let f=0;f<s;f++)try{d=await l(f),(u=n.current)==null||u.resolve(void 0);break}catch(g){if(g.type!=="missing_or_invalid_mfa")throw(h=n.current)==null||h.resolve(void 0),g;o=!0}if(d===null){let f=new Oh("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(p=n.current)==null||p.reject(f),f}return d}var Ib;let kO=(Ib=0,()=>"id-"+Ib++),$O=(t,e)=>typeof e=="bigint"?e.toString():e,ya=(t,{ms:e,msg:n})=>Promise.race([t,mC(e??15e3).then((()=>Promise.reject(Error(n))))]),Sb=new _O,Ab=class{invokeWithMfa(e,n){return ya(EO((r=>ya(this.waitForReady().then((()=>e(r))),{msg:n.timeoutMsg,ms:n.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),n.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return ya(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return ya(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((n=>this.invoke("privy:wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return ya(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((n=>this.invoke("privy:solana-wallet:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((n=>this.invoke("privy:delegated-actions:consent",{...n,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:verify",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:init-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:submit-enrollment",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((n=>this.invoke("privy:mfa:unenroll",{...n,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return ya(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:create",{...n,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((n=>this.invoke("privy:user-signer:sign",{...n,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return ya(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:set-recovery",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return ya(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:recover",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((n=>this.invoke("privy:wallets:rpc",{...n,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:n,resolve:r}=Sb.dequeue(e.event,e.id);return e.error!==void 0?n(new Oh(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,n)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(n),await mC(150)}))}invoke(e,n){let r=((s,a)=>`${s}${JSON.stringify(a,$O)}`)(e,n);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(r);if(s)return s}let i=new Promise(((s,a)=>{let o=kO();Sb.enqueue(o,{resolve:s,reject:a}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:o,event:e,data:n}),"*")})).finally((()=>{this.cache.delete(r)}));return this.cache.set(r,i),i}constructor(e,n){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=n}},Lg={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const yC={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let hl=t=>t!==void 0?BigInt(t):void 0;function lp(t){let e,{type:n=2,...r}=typeof t=="string"?JSON.parse(t):t;r.accessList&&Array.isArray(r.accessList)?e=r.accessList.map((d=>Array.isArray(d)?{address:d[0],storageKeys:d[1]}:d)):r.accessList&&(e=Object.entries(r.accessList).map((d=>({address:d[0],storageKeys:d[1]}))));let i=Number(r.chainId??1),s=Zl(r.data)?r.data:r.data?Yr(Uint8Array.from(r.data)):void 0,a=r.nonce?Number(r.nonce):void 0,o={chainId:i,data:s,nonce:a,value:hl(r.value),gas:hl(r.gas??r.gasLimit)},l=Number(n);if(l===0)return{...r,type:Lg[l],...o,gasPrice:hl(r.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===1)return{...r,type:Lg[l],...o,gasPrice:hl(r.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===2)return{...r,type:Lg[l],...o,nonce:a,accessList:e,maxFeePerGas:hl(r.maxFeePerGas),maxPriorityFeePerGas:hl(r.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${n}`)}let IO=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const SO=t=>IO.includes(t),cp=t=>/^0x[0-9a-fA-F]*$/.test(t),dp=t=>Buffer.from(t,"utf8"),Xd=t=>`0x${t.toString("hex")}`;var Fg,Tb;function AO(){return Tb||(Tb=1,Fg=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,a)=>`${i}${a===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((r,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return r;const s=r.length===0?"":",";return`${r}${s}${t(i)}:${t(e[i])}`},"")}}`}),Fg}var TO=AO();const PO=ha(TO);async function DO(t,e){let n=PO(e);if(n===void 0)throw new Dt({error:"Failed to prepare the payload for signing",code:"invalid_input"});let r=Buffer.from(n).toString("base64"),{signature:i}=await t({message:r});return{signature:i}}async function Fi(t,e,{wallet_id:n,...r}){let i={version:1,url:t.getCompiledPath(Pg,{params:{wallet_id:n}}),method:Pg.method,headers:{"privy-app-id":t.app.appId},body:{...r}},{signature:s}=await DO(e,i);return await t.fetchPrivyRoute(Pg,{body:r,params:{wallet_id:n},headers:{"privy-authorization-signature":s}})}function NO(t){return{from:t.from,to:t.to??void 0,nonce:oo(t.nonce),chain_id:oo(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?cp(e)?e:Xd(dp(e)):Xd(Buffer.from(Uint8Array.from(e)))})(t.data),value:oo(t.value),type:t.type,gas_limit:oo(t.gasLimit),gas_price:oo(t.gasPrice),max_fee_per_gas:oo(t.maxFeePerGas),max_priority_fee_per_gas:oo(t.maxPriorityFeePerGas)}}function oo(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return cp(t)?t:Xd(dp(t))}function jO(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function wC({context:t,account:e,rpcRequest:n}){switch(n.chainType){case"ethereum":return(async function({context:r,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[a]=s.params,o=await Fi(r,r.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:a.startsWith("0x")?{message:a.slice(2),encoding:"hex"}:{message:a,encoding:"utf-8"}});if(o.method!=="personal_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"eth_signTransaction":{let[a]=s.params,o=await Fi(r,r.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:NO(a)}});if(o.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:o.data.signed_transaction}}case"eth_signTypedData_v4":{let[,a]=s.params,o=await Fi(r,r.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:jO(a)}});if(o.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:o.data.signature}}case"eth_sign":{let[,a]=s.params,o=await Fi(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:cp(a)?a:Xd(dp(a))}});if(o.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"secp256k1_sign":{let[a]=s.params,o=await Fi(r,r.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:cp(a)?a:Xd(dp(a))}});if(o.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}})({context:t,account:e,rpcRequest:n.request});case"solana":return(async function({context:r,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:a}=s.params,o=await Fi(r,r.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:a,encoding:"base64"}});if(o.method!=="signMessage")throw Error("Unable to sign message");return{data:o.data.signature}}})({context:t,account:e,rpcRequest:n.request})}}let Ug=class extends Zo{async request(e){var n,r;if(SO(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let i=(n=e.params)==null?void 0:n[0];return this.handleSendTransaction(i)}case"eth_populateTransactionRequest":{let i=(r=e.params)==null?void 0:r[0];return this.handlePopulateTransaction(i)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let n={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(n.chainId),n}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._client=$b(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let n=lp(this.ensureChainId(e)),{type:r,...i}=await this._client.prepareTransactionRequest(n);return{...i,type:yC[r]}}async handleSendTransaction(e){let n={...await this.handlePopulateTransaction(e)};for(let i of Object.keys(n)){let s=n[i];s&&typeof s=="bigint"&&(n[i]=Yr(s))}let r=await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[r]})}async handleEstimateGas(e){var i;if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");let n=(i=e.params)==null?void 0:i[0],r=lp(this.ensureChainId(n));return await this._client.estimateGas(r)}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new kb(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new kb(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.internalSwitchEthereumChain(n)}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(ja(r)){let{data:i}=await wC({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n})}catch(i){let s=O2(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:n});else{if(!s||!this._onNeedsRecovery)throw i;{let a;await new Promise((async(o,l)=>{var d;a=setTimeout((()=>l(new Dt({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await((d=this._onNeedsRecovery)==null?void 0:d.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>o(!0)}))})).finally((()=>clearTimeout(a)))}}}return(await this._walletProxy.rpcWallet({accessToken:n,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Dt({code:"embedded_wallet_request_error",error:r})}}async handleJsonRpc(e){return this._client.request(e)}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,chains:a,onNeedsRecovery:o,chainId:l=a[0].id,appApi:d}){super(),this._walletProxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=l,this._chains=a,this._onNeedsRecovery=o,this._client=$b(l,a,{rpcUrls:[]},{appId:d.appId}),this._appApi=d}};function p0(t){return"version"in t}function Pb(t,e){let n=(p0(t)?t.message:t.compileMessage()).staticAccountKeys.find((r=>r.toBase58()===e));if(!n)throw Error(`Transaction does not contain public key ${e}`);return n}let OO=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new Dt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(n){let r=O2(n);if(r&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!r||!this._onNeedsRecovery)throw n;{let i;await new Promise((async(s,a)=>{var o;i=setTimeout((()=>a(new Dt({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await((o=this._onNeedsRecovery)==null?void 0:o.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)}))})).finally((()=>clearTimeout(i)))}}}}async signMessageRpc(e,n){let r=this._account;if(!ja(r))return(await this._proxy.rpcWallet({accessToken:n,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await wC({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:n,message:s})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n),await this.signMessageRpc(e,n)}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Dt({code:"embedded_wallet_request_error",error:r})}}async handleSignAndSendTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r,connection:i,options:s}=e.params,a=Pb(r,this._account.address),o=p0(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:o.toString("base64")}},n);return r.addSignature(a,Buffer.from(l,"base64")),{signature:await i.sendRawTransaction(r.serialize(),s)}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:r}),new Dt({code:"embedded_wallet_request_error",error:r})}}async handleSignTransaction(e){try{let n=await this._privyInternal.getAccessToken();if(!n)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(n);let{transaction:r}=e.params,i=Pb(r,this._account.address),s=p0(r)?Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:a}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},n);return r.addSignature(i,Buffer.from(a,"base64")),{signedTransaction:r}}catch(n){console.error(n);let r=n instanceof Error?n.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:r}),new Dt({code:"embedded_wallet_request_error",error:r})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:n,account:r,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:a,app:o}){this._proxy=e,this._privyInternal=n,this._account=r,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=a,this._app=o}},RO=class{setMessagePoster(e){this._proxy=new Ab(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let n=await this._privyInternal.getAccessToken();if(!n)throw new Dt({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:n,message:e.message});return{signature:r}}async add(e){var r;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((r=this._privyInternal.config)==null?void 0:r.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await Mg({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Dt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:n}=await this._privyInternal.refreshSession();return{user:n}}async getBitcoinProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return ja(e)||await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new wO({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r})}async create({password:e,recoveryMethod:n,recoveryToken:r,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAccount:o,skipCallbacks:l}){var d,u;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((d=this._privyInternal.config)==null?void 0:d.embedded_wallet_config.mode)==="user-controlled-server-wallets-only"){if(n&&!n.startsWith("privy"))throw new Dt({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await Mg({context:{app:this._appApi,fetchPrivyRoute:(...h)=>this._privyInternal.fetch(...h),getCompiledPath:(...h)=>this._privyInternal.getPath(...h)},chainType:"ethereum"})}else{let h;if(h=n||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(h==="privy"&&((u=this._privyInternal.config)!=null&&u.embedded_wallet_config.require_user_password_on_create))throw Error("Password not provided yet is required by App configuration");let p=await this._privyInternal.getAccessToken();if(!p)throw Error("User must be logged in to create an embedded wallet");let{address:f}=await this._proxy.create({accessToken:p,recoveryMethod:h,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAddress:o==null?void 0:o.address});if(!f)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(l)}async createSolana(e){var n,r;if(!this._proxy)throw new Dt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(((n=this._privyInternal.config)==null?void 0:n.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await Mg({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:"solana"});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Dt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e!=null&&e.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:s}=await this._proxy.createSolana({accessToken:i,ethereumAddress:(r=e==null?void 0:e.ethereumAccount)==null?void 0:r.address});if(!s)throw new Dt({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:n}){if(!this._proxy)throw new Dt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessToken();if(!r)throw new Dt({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:n})}async getProvider(e,n,r,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return ja(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:n,recoveryKey:s,recoveryAccessToken:r,recoverySecretOverride:i}),new Ug({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:o,onNeedsRecovery:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return ja(e)||(!l||i||s||a||o)&&await this._load({entropyId:n,entropyIdVerifier:r,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:o}),new Ug({account:e,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:l,appApi:this._appApi})}async getSolanaProvider(e,n,r,i,s,a,o){if(!this._proxy)throw new Dt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return ja(e)||(!o||i||s||a)&&await this._load({wallet:e,entropyId:n,entropyIdVerifier:r,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new OO({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:n,entropyIdVerifier:r,onNeedsRecovery:o,app:this._appApi})}async setRecovery(e){let{wallet:n,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(ja(n))throw new Dt({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});CO({currentRecoveryMethod:n.recovery_method,upgradeToRecoveryMethod:r.recoveryMethod==="icloud-native"?"icloud":r.recoveryMethod}),await this._load(n.chain_type==="solana"?{wallet:n,entropyId:n.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=n.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});try{let a;if(r.recoveryMethod==="user-passcode")a={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if(r.recoveryMethod==="google-drive")a={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud")a={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if(r.recoveryMethod==="icloud-native")a={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if(r.recoveryMethod==="recovery-encryption-key")a={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if(r.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${r.recoveryMethod}`);a={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:n.address,entropyIdVerifier:n.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...a}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:n.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:s});let{user:o}=await this._privyInternal.refreshSession();return{user:o,provider:n.chain_type!=="ethereum"?null:new Ug({account:n,entropyId:n.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(a){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:a instanceof Error?a.message:"Unable to recover wallet"}),a}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(n){return console.error(n),!1}}async _load({entropyId:e,entropyIdVerifier:n,wallet:r,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:a,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:l,entropyId:e,entropyIdVerifier:n}),e}catch(d){if(O2(d))try{if(r.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryPassword:i,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryAccessToken:a,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}if(r.recovery_method==="icloud"&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:l,recoverySecretOverride:o,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),u.entropyId}if(r.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryKey:s,entropyId:e,entropyIdVerifier:n});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw d}}constructor(e,n,r,i,s,a){if(this._chains=Array.from(_u),this._privyInternal=e,n&&(this._proxy=new Ab(n,s),i.setProxy(this._proxy)),r){let o=pC(r);this._chains=o}this._mfa=i,this._mfaPromises=s,this._appApi=a}},MO=class extends Zo{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}};var Rh={exports:{}},LO=Rh.exports,Db;function FO(){return Db||(Db=1,(function(t,e){(function(n,r){t.exports=r()})(LO,(function(){var n=function(s,a){if(a=a||{},typeof s!="function")throw new i("fetch must be a function");if(typeof a!="object")throw new i("defaults must be an object");if(a.retries!==void 0&&!r(a.retries))throw new i("retries must be a positive integer");if(a.retryDelay!==void 0&&!r(a.retryDelay)&&typeof a.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(a.retryOn!==void 0&&!Array.isArray(a.retryOn)&&typeof a.retryOn!="function")throw new i("retryOn property expects an array or function");var o={retries:3,retryDelay:1e3,retryOn:[]};return a=Object.assign(o,a),function(d,u){var h=a.retries,p=a.retryDelay,f=a.retryOn;if(u&&u.retries!==void 0)if(r(u.retries))h=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(r(u.retryDelay)||typeof u.retryDelay=="function")p=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")f=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(g,m){var w=function(C){var _=typeof Request<"u"&&d instanceof Request?d.clone():d;s(_,u).then(function(E){if(Array.isArray(f)&&f.indexOf(E.status)===-1)g(E);else if(typeof f=="function")try{return Promise.resolve(f(C,null,E)).then(function(x){x?v(C,null,E):g(E)}).catch(m)}catch(x){m(x)}else C<h?v(C,null,E):g(E)}).catch(function(E){if(typeof f=="function")try{Promise.resolve(f(C,E,null)).then(function(x){x?v(C,E,null):m(E)}).catch(function(x){m(x)})}catch(x){m(x)}else C<h?v(C,E,null):m(E)})};function v(C,_,E){var x=typeof p=="function"?p(C,_,E):p;setTimeout(function(){w(++C)},x)}w(0)})}};function r(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return n}))})(Rh)),Rh.exports}var UO=FO();const vC=ha(UO);let Qu;const BO=new Uint8Array(16);function WO(){if(!Qu&&(Qu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qu(BO)}const Gn=[];for(let t=0;t<256;++t)Gn.push((t+256).toString(16).slice(1));function zO(t,e=0){return Gn[t[e+0]]+Gn[t[e+1]]+Gn[t[e+2]]+Gn[t[e+3]]+"-"+Gn[t[e+4]]+Gn[t[e+5]]+"-"+Gn[t[e+6]]+Gn[t[e+7]]+"-"+Gn[t[e+8]]+Gn[t[e+9]]+"-"+Gn[t[e+10]]+Gn[t[e+11]]+Gn[t[e+12]]+Gn[t[e+13]]+Gn[t[e+14]]+Gn[t[e+15]]}const qO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Nb={randomUUID:qO};function f0(t,e,n){if(Nb.randomUUID&&!t)return Nb.randomUUID();t=t||{};const r=t.random||(t.rng||WO)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,zO(r)}/*! js-cookie v3.0.5 | MIT */function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var HO={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function g0(t,e){function n(i,s,a){if(!(typeof document>"u")){a=Xu({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in a)a[l]&&(o+="; "+l,a[l]!==!0&&(o+="="+a[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+o}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},o=0;o<s.length;o++){var l=s[o].split("="),d=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(a[u]=t.read(d,u),i===u)break}catch{}}return i?a[i]:a}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Xu({},s,{expires:-1}))},withAttributes:function(i){return g0(this.converter,Xu({},this.attributes,i))},withConverter:function(i){return g0(Xu({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var yn=g0(HO,{path:"/"});const jb=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((n=>({status:"fulfilled",value:n}))).catch((n=>({status:"rejected",reason:n})))))));let pl="privy:token",Bg="privy-token",eh="privy:refresh_token",Wg="privy-refresh-token",fl="privy:id-token",zg="privy-id-token",th="privy-session",bC=class extends Zo{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(pl);try{return typeof e=="string"?new cd(e).value:null}catch(n){return console.error(n),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(eh);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(fl);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=yn.get(th);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,n){return this.mightHaveServerCookies||typeof e=="string"&&typeof n=="string"}tokenIsActive(e){if(!e)return!1;let n=cd.parse(e);return n!==null&&!n.isExpired(30)}async destroyLocalState(e){await jb([this._storage.del(pl),this._storage.del(eh),this._storage.del(fl),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),yn.remove(Bg),yn.remove(Wg),yn.remove(zg),yn.remove(th),e!=null&&e.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(pl);if(await this._storage.put(pl,e),!this._isUsingServerCookies){let i=(n=cd.parse(e))==null?void 0:n.expiration;yn.set(Bg,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(pl);await this._storage.del(pl),yn.remove(Bg),r!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(eh,e),this._isUsingServerCookies||(yn.set(th,"t",{sameSite:"Strict",secure:!0,expires:30}),yn.set(Wg,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(eh),yn.remove(Wg),yn.remove(th),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let n=(await jb([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((r=>r.status==="rejected"));n.length>0&&this.emit("error_storing_tokens",n.map((r=>String(r.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){var n;if(typeof e=="string"){let r=await this._storage.get(fl);if(await this._storage.put(fl,e),!this._isUsingServerCookies){let i=(n=cd.parse(e))==null?void 0:n.expiration;yn.set(zg,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}r!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(fl);await this._storage.del(fl),yn.remove(zg),r!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let n=Lo(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,n),n}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};bC.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var VO=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function KO(t){let e=new URLSearchParams;for(let n in t)t[n]!=null&&e.append(n,String(t[n]));return Array.from(e).length?"?"+e.toString():""}const nh=()=>{};let wa={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const GO=({level:t}={level:"ERROR"})=>({get level(){return t},error:wa[t]>=wa.ERROR?console.error:nh,warn:wa[t]>=wa.WARN?console.warn:nh,info:wa[t]>=wa.INFO?console.info:nh,debug:wa[t]>=wa.DEBUG?console.debug:nh});let qg="privy:caid",YO=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){var e,n,r,i,s;if(this.isReady)(n=(e=this.callbacks)==null?void 0:e.setIsReady)==null||n.call(e,!0);else{if(!await this.isStorageAccessible())throw new Dt({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),(r=this._config)!=null&&r.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),(s=(i=this.callbacks)==null?void 0:i.setIsReady)==null||s.call(i,!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:n,query:r}){return`${this.baseUrl}${lP(e.path,n)}${KO(r)}`}async fetch(e,{body:n,params:r,query:i,headers:s,onRequest:a=this._beforeRequest.bind(this)}){let o=new Request(this.getPath(e,{params:r,query:i}),{method:e.method,body:JSON.stringify(n),headers:s}),l=await a(o),d=await this._fetch(o,l),u=await d.json();if(d.status>299)throw new Rg(u);return u}async _beforeRequestWithoutInitialize(e){let n=await this.session.getToken(),r=new Headers(e.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-client",this._sdkVersion),n&&r.set("Authorization",`Bearer ${n}`),r.set("Content-Type","application/json"),r.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&r.set("privy-ca-id",i),this.nativeAppIdentifier&&r.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:VO(2e4),headers:r,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(CT,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(qg);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=f0()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(qg,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(qg)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,n){try{await this.fetch(xT,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:n},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Dt({code:"storage_error",error:"Unable to access storage"});let n=await this.session.getRefreshToken()??void 0,r=n??"key",i=this._cache.get(r);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(n,e);this._cache.set(r,s);try{return await s}finally{this._cache.delete(r)}}async _refreshSession(e,n){var i,s,a,o,l,d;let r=await this.session.getToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new Rg({code:Hv.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${qv.path}`);let u=await this.fetch(qv,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),h=u.session_update_action;return this.logger.debug(`[privy:refresh] response: ${h}`),n||((s=(i=this.callbacks)==null?void 0:i.setUser)==null||s.call(i,u.user)),h==="set"&&(await this.session.updateWithTokensResponse(u),this.logger.debug("[privy:refresh] tokens stored")),h==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),n||((o=(a=this.callbacks)==null?void 0:a.setUser)==null||o.call(a,null))),h==="ignore"&&u.token&&(await this.session.storeToken(u.token),this.logger.debug("[privy:refresh] access token stored"),u.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(u.identity_token))),this.logger.debug("[privy:refresh] returning response"),u}catch(u){throw this.logger.debug(`[privy:refresh] error: ${u.message??"unknown error"}`),u instanceof Rg&&u.code===Hv.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),n||((d=(l=this.callbacks)==null?void 0:l.setUser)==null||d.call(l,null))),u}}async getAccessToken(){let[e,n]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,n)){let r=await this.refreshSession(),i=await this.session.getToken();return r.token||this.logger.debug("[privy:getAccessToken] expected token received null"),r.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),r.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${f0()}`,n="blobby";await this._storage.put(e,n);let r=await this._storage.get(e);return await this._storage.del(e),r===n}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.3",this._cache=new Map,this.logger=GO({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new bC({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=vC(globalThis.fetch,{retries:3,retryDelay:n=>3**n*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(n=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:n})}))}},ZO=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(vP,{})}}constructor(e){this._privyInternal=e}};const xC=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",CC=t=>t?t.linked_accounts.filter(xC).filter((e=>e.chain_type==="ethereum")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],Ob=t=>CC(t).find((e=>e.wallet_index===0))??null,_C=t=>t?t.linked_accounts.filter(xC).filter((e=>e.chain_type==="solana")).sort(((e,n)=>e.wallet_index-n.wallet_index)):[],JO=t=>_C(t).find((e=>e.wallet_index===0))??null,QO=(t,e)=>!(e==="off"||CC(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="ethereum")).length>0&&e!=="all-users"),XO=(t,e)=>!(e==="off"||_C(t).length>0||t.linked_accounts.filter((n=>n.type==="wallet"&&n.chain_type==="solana")).length>0&&e!=="all-users"),Yi=async(t,e,n)=>{var s,a;let r=QO(e.user,((s=n==null?void 0:n.ethereum)==null?void 0:s.createOnLogin)??"off"),i=XO(e.user,((a=n==null?void 0:n.solana)==null?void 0:a.createOnLogin)??"off");if(r&&i){let o=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:Ob(o.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return r?{...await t.create({recoveryMethod:"privy",solanaAccount:JO(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:Ob(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let eR=class{async syncWithToken(e,n,r){var a,o;let i=await this._privyInternal.fetch($T,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Yi(this._embedded,i,n==null?void 0:n.embedded);return(o=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||o.call(a,s.user),s}constructor(e,n){this._privyInternal=e,this._embedded=n}},tR=class{async sendCode(e,n){return this._privyInternal.fetch(GT,{body:{email:e,token:n}})}async loginWithCode(e,n,r,i){var o,l;let s=await this._privyInternal.fetch(KT,{body:{email:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await Yi(this._embedded,s,i==null?void 0:i.embedded);return(l=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||l.call(o,a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(YT,{body:{email:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:n,code:r}){await this._privyInternal.fetch(JT,{body:{oldAddress:e,newAddress:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(ZT,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},nR=class{async initializeAuth({relyingParty:e,redirectUrl:n,token:r}){return await this._privyInternal.fetch(IT,{body:{relying_party:e,redirect_url:n,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(PT,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:n,signature:r,fid:i,mode:s},a){var d,u;let o=await this._privyInternal.fetch(ST,{body:{channel_token:e,message:n,signature:r,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(o);let l=await Yi(this._embedded,o,a==null?void 0:a.embedded);return(u=(d=this._privyInternal.callbacks)==null?void 0:d.setUser)==null||u.call(d,l.user),l}async link({channel_token:e,message:n,signature:r,fid:i}){await this._privyInternal.fetch(AT,{body:{channel_token:e,message:n,signature:r,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(TT,{body:{fid:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},rR=class{async initializeAuth(){return await this._privyInternal.fetch(DT,{body:{}})}async authenticate({message:e,signature:n,fid:r},i){var o,l;let s=await this._privyInternal.fetch(NT,{body:{message:e,signature:n,fid:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await Yi(this._embedded,s,i==null?void 0:i.embedded);return(l=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||l.call(o,a.user),a}constructor(e,n){this._privyInternal=e,this._embedded=n}},iR=class{async create(e){var s,a;let n=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(jT,{body:{guest_credential:n}});await this._privyInternal.session.updateWithTokensResponse(r);let i=await Yi(this._embedded,r,e==null?void 0:e.embedded);return(a=(s=this._privyInternal.callbacks)==null?void 0:s.setUser)==null||a.call(s,i.user),i}constructor(e,n){this._privyInternal=e,this._embedded=n}};const Oa="privy:state_code",Ra="privy:code_verifier";async function sR(t,e){let n=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",n))}function aR(t){return crypto.getRandomValues(new Uint8Array(t))}function R2(){return Lo(aR(36))}function EC(){return R2()}async function kC({codeVerifier:t,method:e="S256",digest:n=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let r=await sR(t,n);return Lo(r)}}let oR=class{async generateURL(e,n){var a;let r=R2(),i=EC(),s=await kC({codeVerifier:r,digest:(a=this._crypto)==null?void 0:a.digest});return await Promise.all([this._storage.put(Ra,r),this._storage.put(Oa,i)]),this._privyInternal.fetch(LT,{body:{redirect_to:n,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,n,r,i,s,a){var h,p;let[o,l]=await Promise.all([this._storage.get(Ra),this._storage.get(Oa)]);if(l!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:l??"",returnedStateCode:n??""}),new Dt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let d=await this._privyInternal.fetch(MT,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:o,mode:s}});await this._privyInternal.session.updateWithTokensResponse(d);let u=await Yi(this._embedded,d,a==null?void 0:a.embedded);return await Promise.all([this._storage.del(Ra),this._storage.del(Oa)]),(p=(h=this._privyInternal.callbacks)==null?void 0:h.setUser)==null||p.call(h,u.user),u}async linkWithCode(e,n,r,i){let[s,a]=await Promise.all([this._storage.get(Ra),this._storage.get(Oa)]);if(a!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:a??"",returnedStateCode:n??""}),new Dt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let o=await this._privyInternal.fetch(FT,{body:{authorization_code:e,code_type:i,state_code:a,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(o.oauth_tokens);let l=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Ra),this._storage.del(Oa)]),{user:l.user,identity_token:l.identity_token}}async unlink(e,n){await this._privyInternal.fetch(UT,{body:{provider:e,subject:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,n,r,i){this._privyInternal=e,this._embedded=n,this._storage=r,this._crypto=i}},lR=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(VT,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(qT,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(HT,{body:{relying_party:e}})}async loginWithPasskey(e,n,r,i){var o,l;let s=await this._privyInternal.fetch(WT,{body:{relying_party:r,challenge:n,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await Yi(this._embedded,s,i==null?void 0:i.embedded);return(l=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||l.call(o,a.user),a}async signupWithPasskey(e,n,r){var a,o;let i=await this._privyInternal.fetch(zT,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await Yi(this._embedded,i,r==null?void 0:r.embedded);return(o=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||o.call(a,s.user),s}async linkWithPasskey(e,n){await this._privyInternal.fetch(BT,{body:{relying_party:n,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,n){this._privyInternal=e,this._embedded=n}},cR=class{async sendCode(e,n){return this._privyInternal.fetch(XT,{body:{phoneNumber:e,token:n}})}async loginWithCode(e,n,r,i){var o,l;let s=await this._privyInternal.fetch(QT,{body:{phoneNumber:e,code:n,mode:r}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await Yi(this._embedded,s,i==null?void 0:i.embedded);return(l=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||l.call(o,a.user),a}async linkWithCode(e,n){await this._privyInternal.fetch(eP,{body:{phoneNumber:e,code:n}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:n,code:r}){await this._privyInternal.fetch(nP,{body:{old_phone_number:e,new_phone_number:n,code:r}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(tP,{body:{phoneNumber:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,n){this._privyInternal=e,this._embedded=n}},dR=class{async unlinkWallet(e){await this._privyInternal.fetch(fP,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async linkWithSiwe(e,n,r){let i=n||this._wallet,s=r||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(hP,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async loginWithSiwe(e,n,r,i,s){var u,h;let a=n||this._wallet,o=r||this._preparedMessage;if(!a)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!o)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let l=await this._privyInternal.fetch(uP,{body:{signature:e,message:o,chainId:a.chainId,walletClientType:a.walletClientType,connectorType:a.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let d=await Yi(this._embedded,l,s==null?void 0:s.embedded);return(h=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||h.call(u,d.user),d}async init(e,n,r){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(Hx,{body:{address:e.address}}),a=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:n,nonce:s,uri:r}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=a,{nonce:s,message:a}}constructor(e,n){this._wallet=void 0,this._privyInternal=e,this._embedded=n}},uR=class{async unlink({address:e}){await this._privyInternal.fetch(wP,{body:{address:e}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async link({message:e,signature:n,walletClientType:r,connectorType:i}){await this._privyInternal.fetch(yP,{body:{message:e,signature:n,walletClientType:r,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:n,signature:r,walletClientType:i,connectorType:s,opts:a}){var d,u;let o=await this._privyInternal.fetch(mP,{body:{signature:r,message:n,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(o);let l=await Yi(this._embedded,o,a==null?void 0:a.embedded);return(u=(d=this._privyInternal.callbacks)==null?void 0:d.setUser)==null||u.call(d,l.user),l}async fetchNonce({address:e}){let{nonce:n}=await this._privyInternal.fetch(gP,{body:{address:e}});return{nonce:n}}constructor(e,n){this._privyInternal=e,this._embedded=n}},hR=class{async link(e,n,r,i){await this._privyInternal.fetch(pP,{body:{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var n;let{nonce:r}=await this._privyInternal.fetch(Hx,{body:{address:e.address}});return{nonce:r,message:`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},pR=class{async logout(){var e,n;try{let r=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(cP,{body:{refresh_token:r}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),(n=(e=this._privyInternal.callbacks)==null?void 0:e.setUser)==null||n.call(e,null)}constructor(e,n,r,i){this._privyInternal=e,this.customProvider=new eR(this._privyInternal,n),this.phone=new cR(this._privyInternal,n),this.email=new tR(this._privyInternal,n),this.oauth=new oR(this._privyInternal,n,r,i),this.guest=new iR(this._privyInternal,n),this.siwe=new dR(this._privyInternal,n),this.siws=new uR(this._privyInternal,n),this.smartWallet=new hR(this._privyInternal),this.passkey=new lR(this._privyInternal,n),this.farcaster=new nR(this._privyInternal,n),this.farcasterV2=new rR(this._privyInternal,n)}},fR=class{async initOnRampSession(e){return await this._privyInternal.fetch(_T,{body:e})}async getStatus(e){return await this._privyInternal.fetch(ET,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const gR={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let mR=new Set([Si.id,rs.id,is.id,Ai.id,Ic.id,df.id]),yR=new Set([Si.id,rs.id,pa.id,is.id,Ai.id]);function wR(t,e){switch(e){case"native-currency":return mR.has(t);case"USDC":return yR.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function vR(t,e){switch(t){case rs.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case Ic.id:return"AVAX_CCHAIN";case is.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case df.id:return"CELO_CELO";case Ai.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case Si.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let bR=class{async sign(e){return await this._privyInternal.fetch(bP,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:n}){let{url:r,key:i}=gR[n?"sandbox":"prod"],s=await vC(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new yO({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let a=await s.json();return Array.isArray(a)?a.at(0):void 0}constructor(e){this._privyInternal=e}},xR=class{constructor(e){this.moonpay=new bR(e),this.coinbase=new fR(e)}},CR=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(OT,{body:e})}constructor(e){this._privyInternal=e}},_R=class{async sendCode(e){return await this._privyInternal.fetch(RT,{body:e})}constructor(e){this._privyInternal=e}},ER=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new Dt({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Dt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new Dt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new Dt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async unenrollMfa(e){if(!this.proxy)throw new Dt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let n=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),n}async clearMfa(e){if(!this.proxy)throw new Dt({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,n){this.proxy=n,this.privyInternal=e,this.sms=new _R(e),this.passkey=new CR(e)}},kR=class{async init(e){return this._privyInternal.fetch(aP,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(oP,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},$R=class{async generateURL(e){var s;let n=R2(),r=EC(),i=await kC({codeVerifier:n,digest:(s=this._crypto)==null?void 0:s.digest});return await Promise.all([this._storage.put(Ra,n),this._storage.put(Oa,r)]),this._privyInternal.fetch(iP,{body:{redirect_to:e,code_challenge:i,state_code:r}})}async authorize(e,n){let[r,i]=await Promise.all([this._storage.get(Ra),this._storage.get(Oa)]);if(i!==n)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:n??""}),new Dt({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(sP,{body:{authorization_code:e,state_code:i,code_verifier:r}});return await Promise.all([this._storage.del(Ra),this._storage.del(Oa)]),s}constructor(e,n,r){this._privyInternal=e,this._storage=n,this._crypto=r}},IR=class{async getRecoveryKeyMaterial(e,n){return this._privyInternal.fetch(rP,{body:{chain_type:n},params:{address:e}})}constructor(e,n,r){this._privyInternal=e,this.auth=new $R(this._privyInternal,n,r),this.icloudAuth=new kR(this._privyInternal)}},SR=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,n){return this._privyInternal.getPath(e,n)}async fetchPrivyRoute(e,n){return this._privyInternal.fetch(e,n)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...n}){this._privyInternal=new YO({...n,appClientId:e}),this.mfa=new ER(this._privyInternal),this.mfaPromises=new MO,this.app=new Gj(this._privyInternal),this.embeddedWallet=new RO(this._privyInternal,n.embeddedWalletMessagePoster,n.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new ZO(this._privyInternal),this.auth=new pR(this._privyInternal,this.embeddedWallet,n.storage,n.crypto),this.recovery=new IR(this._privyInternal,n.storage,n.crypto),this.funding=new xR(this._privyInternal),this.delegated=new iO(this._privyInternal),this.crossApp=new cC(this._privyInternal,n.storage)}};const AR={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},$C={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function uf(t,e){var n=Array.prototype.slice.call(e);return n.push($C),t.apply(this,n)}function TR(){return uf(SN,arguments)}function eu(t){return aC.call(this,t,$C)}eu.prototype=Object.create(aC.prototype,{});eu.prototype.constructor=eu;function PR(){return uf(Vj,arguments)}function M2(){return uf(of,arguments)}function DR(){return uf(Kj,arguments)}const rh=(t,e)=>TR(String(t),e),Hg=(t,e)=>`+${M2(e)} ${t}`,NR=t=>`*${t.replaceAll("-","").slice(-4)}`,jR=t=>new eu(t),OR=PR().map((t=>({code:t,callCode:M2(t)}))),RR=t=>{var n;let e=(n=DR(t,AR))==null?void 0:n.formatInternational();return e==null?void 0:e.substring(e.indexOf(" ")+1)},MR=t=>{let e=new eu;e.input(t);let n=e.getCountry()||"US",r=e.getCallingCode()||"1";return{countryCode:n,phone:t.replace("+"+r,"")}},LR=(t,e=!0)=>t.reduce(((n,r)=>({...n,[r]:e})),{}),FR={[Si.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[N2.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[pa.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[P2.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Ai.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[D2.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[is.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[T2.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Ic.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[A2.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[rs.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[S2.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"};let UR=new Set([Si.id,is.id,pa.id,Ai.id,rs.id]),BR=new Set([Si.id,is.id,Ai.id,pa.id,rs.id]),WR={buy:"CARD",send:"CRYPTO_ACCOUNT"},zR={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};Si.id+"",is.id+"",pa.id+"",Ai.id+"",rs.id+"";function qR({appId:t,input:e,amount:n,blockchain:r,asset:i,experience:s}){let a=new URL("https://pay.coinbase.com/buy/select-asset");return a.searchParams.set("appId",e.app_id),a.searchParams.set("sessionToken",e.session_token),a.searchParams.set("endPartnerName",`privy:${t}`),a.searchParams.set("defaultExperience",s),a.searchParams.set("presetCryptoAmount",n.startsWith(".")?`0${n}`:n),a.searchParams.set("defaultNetwork",r),a.searchParams.set("defaultPaymentMethod",WR[s]),a.searchParams.set("defaultAsset",zR[i]),a.searchParams.set("partnerUserId",e.partner_user_id),{url:a}}const HR=(t,e)=>{switch(e){case"native-currency":return UR.has(t);case"USDC":return BR.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function VR(t,e){return t===Ai.id?"POL":"ETH"}function Rb(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function KR({wei:t,precision:e=3}){return parseFloat(rf(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function m0({amount:t,decimals:e}){return wi(BigInt(t),e)}function Fn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var GR=0;function IC(t){return"__private_"+GR+++"_"+t}var Qt=IC("_wallet"),Br=IC("_account");let SC=class{get standardWallet(){return Fn(this,Qt)[Qt]}get address(){return Fn(this,Br)[Br].address}async disconnect(){var e;if(!((e=Fn(this,Qt)[Qt].features["standard:disconnect"])!=null&&e.disconnect))throw Error("Wallet does not support disconnect");await Fn(this,Qt)[Qt].features["standard:disconnect"].disconnect()}async signMessage(...e){var r;if(!((r=Fn(this,Qt)[Qt].features["solana:signMessage"])!=null&&r.signMessage))throw Error("Wallet does not support signMessage");let n=await Fn(this,Qt)[Qt].features["solana:signMessage"].signMessage(...e.map((i=>({...i,account:Fn(this,Br)[Br]}))));return e.length===1?n[0]:[...n]}async signTransaction(...e){var r;if(!((r=Fn(this,Qt)[Qt].features["solana:signTransaction"])!=null&&r.signTransaction))throw Error("Wallet does not support signTransaction");let n=await Fn(this,Qt)[Qt].features["solana:signTransaction"].signTransaction(...e.map((i=>({...i,account:Fn(this,Br)[Br]}))));return e.length===1?n[0]:[...n]}async signAndSendTransaction(...e){var r;if(!((r=Fn(this,Qt)[Qt].features["solana:signAndSendTransaction"])!=null&&r.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");let n=await Fn(this,Qt)[Qt].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((i=>({...i,account:Fn(this,Br)[Br]}))));return e.length===1?n[0]:[...n]}async signAndSendAllTransactions(e){var n;if(!((n=Fn(this,Qt)[Qt].features["solana:signAndSendTransaction"])!=null&&n.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");return[...await Fn(this,Qt)[Qt].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map((r=>({...r,account:Fn(this,Br)[Br]}))))]}constructor({wallet:e,account:n}){Object.defineProperty(this,Qt,{writable:!0,value:void 0}),Object.defineProperty(this,Br,{writable:!0,value:void 0}),Fn(this,Qt)[Qt]=e,Fn(this,Br)[Br]=n}};const YR=/#/g,ZR=/&/g,JR=/\//g,QR=/=/g,L2=/\+/g,XR=/%5e/gi,eM=/%60/gi,tM=/%7c/gi,nM=/%20/gi;function rM(t){return encodeURI(""+t).replace(tM,"|")}function y0(t){return rM(typeof t=="string"?t:JSON.stringify(t)).replace(L2,"%2B").replace(nM,"+").replace(YR,"%23").replace(ZR,"%26").replace(eM,"`").replace(XR,"^").replace(JR,"%2F")}function Vg(t){return y0(t).replace(QR,"%3D")}function AC(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function iM(t){return AC(t.replace(L2," "))}function sM(t){return AC(t.replace(L2," "))}function aM(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=iM(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=sM(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function oM(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${Vg(t)}=${y0(n)}`).join("&"):`${Vg(t)}=${y0(e)}`:Vg(t)}function lM(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>oM(e,t[e])).filter(Boolean).join("&")}const cM=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,dM=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,uM=/^([/\\]\s*){2,}[^/\\]/,hM=/^\.?\//;function TC(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?cM.test(t):dM.test(t)||(e.acceptRelative?uM.test(t):!1)}function pM(t="",e){return t.endsWith("/")}function fM(t="",e){return(pM(t)?t.slice(0,-1):t)||"/"}function gM(t="",e){return t.endsWith("/")?t:t+"/"}function mM(t,e){if(wM(e)||TC(t))return t;const n=fM(e);return t.startsWith(n)?t:bM(n,t)}function yM(t,e){const n=xM(t),r={...aM(n.search),...e};return n.search=lM(r),CM(n)}function wM(t){return!t||t==="/"}function vM(t){return t&&t!=="/"}function bM(t,...e){let n=t||"";for(const r of e.filter(i=>vM(i)))if(n){const i=r.replace(hM,"");n=gM(n)+i}else n=r;return n}const PC=Symbol.for("ufo:protocolRelative");function xM(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,p=""]=n;return{protocol:h.toLowerCase(),pathname:p,href:h+p,auth:"",host:"",search:"",hash:""}}if(!TC(t,{acceptRelative:!0}))return Mb(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",o=""]=s.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(o=o.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:d,hash:u}=Mb(o);return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:l,search:d,hash:u,[PC]:!r}}function Mb(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function CM(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[PC]?(t.protocol||"")+"//":"")+i+s+e+n+r}class DC extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function _M(t){var l,d,u,h,p;const e=((l=t.error)==null?void 0:l.message)||((d=t.error)==null?void 0:d.toString())||"",n=((u=t.request)==null?void 0:u.method)||((h=t.options)==null?void 0:h.method)||"GET",r=((p=t.request)==null?void 0:p.url)||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${i}: ${s}${e?` ${e}`:""}`,o=new DC(a,t.error?{cause:t.error}:void 0);for(const f of["request","options","response"])Object.defineProperty(o,f,{get(){return t[f]}});for(const[f,g]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,f,{get(){return t.response&&t.response[g]}});return o}const EM=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Lb(t="GET"){return EM.has(t.toUpperCase())}function kM(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const $M=new Set(["image/svg","application/xml","application/xhtml","application/html"]),IM=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function SM(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return IM.test(e)?"json":e==="text/event-stream"?"stream":$M.has(e)||e.startsWith("text/")?"text":"blob"}function AM(t,e,n,r){const i=TM((e==null?void 0:e.headers)??(t==null?void 0:t.headers),n==null?void 0:n.headers,r);let s;return(n!=null&&n.query||n!=null&&n.params||e!=null&&e.params||e!=null&&e.query)&&(s={...n==null?void 0:n.params,...n==null?void 0:n.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...n,...e,query:s,params:s,headers:i}}function TM(t,e,n){if(!e)return new n(t);const r=new n(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new n(t))r.set(i,s);return r}async function ih(t,e){if(e)if(Array.isArray(e))for(const n of e)await n(t);else await e(t)}const PM=new Set([408,409,425,429,500,502,503,504]),DM=new Set([101,204,205,304]);function NC(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(o){const l=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!l){let u;typeof o.options.retry=="number"?u=o.options.retry:u=Lb(o.options.method)?0:1;const h=o.response&&o.response.status||500;if(u>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(h):PM.has(h))){const p=typeof o.options.retryDelay=="function"?o.options.retryDelay(o):o.options.retryDelay||0;return p>0&&await new Promise(f=>setTimeout(f,p)),s(o.request,{...o.options,retry:u-1})}}const d=_M(o);throw Error.captureStackTrace&&Error.captureStackTrace(d,s),d}const s=async function(l,d={}){const u={request:l,options:AM(l,d,t.defaults,n),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await ih(u,u.options.onRequest),u.options.headers instanceof n||(u.options.headers=new n(u.options.headers||{}))),typeof u.request=="string"&&(u.options.baseURL&&(u.request=mM(u.request,u.options.baseURL)),u.options.query&&(u.request=yM(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&Lb(u.options.method))if(kM(u.options.body)){const f=u.options.headers.get("content-type");typeof u.options.body!="string"&&(u.options.body=f==="application/x-www-form-urlencoded"?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),f||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"));let h;if(!u.options.signal&&u.options.timeout){const f=new r;h=setTimeout(()=>{const g=new Error("[TimeoutError]: The operation was aborted due to timeout");g.name="TimeoutError",g.code=23,f.abort(g)},u.options.timeout),u.options.signal=f.signal}try{u.response=await e(u.request,u.options)}catch(f){return u.error=f,u.options.onRequestError&&await ih(u,u.options.onRequestError),await i(u)}finally{h&&clearTimeout(h)}if((u.response.body||u.response._bodyInit)&&!DM.has(u.response.status)&&u.options.method!=="HEAD"){const f=(u.options.parseResponse?"json":u.options.responseType)||SM(u.response.headers.get("content-type")||"");switch(f){case"json":{const g=await u.response.text(),m=u.options.parseResponse||nT;u.response._data=m(g);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[f]()}}return u.options.onResponse&&await ih(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await ih(u,u.options.onResponseError),await i(u)):u.response},a=async function(l,d){return(await s(l,d))._data};return a.raw=s,a.native=(...o)=>e(...o),a.create=(o={},l={})=>NC({...t,...l,defaults:{...t.defaults,...l.defaults,...o}}),a}const up=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),NM=up.fetch?(...t)=>up.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),jM=up.Headers,OM=up.AbortController,jC=NC({fetch:NM,Headers:jM,AbortController:OM});var Ye;let ur=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,n,r){super(e),n instanceof Error&&(this.cause=n),this.privyErrorCode=r}},Zr=class extends ur{constructor(e,n,r,i,s,a){super(r,i,s),this.type=e,this.status=n,this.data=a}},G=class extends ur{constructor(e,n,r){super(e,n,r),this.type="client_error"}},RM=class extends G{constructor(){super("Request timed out",void 0,"client_request_timeout")}},Jt=class extends ur{constructor(e,n,r){super(e,n,r),this.type="connector_error"}};const yt=t=>{if(t instanceof ur)return t;if(!(t instanceof DC))return en(t);if(!t.response)return new Zr("api_error",null,t.message,t);let{type:e,message:n,error:r,code:i}=t.data;return new Zr(e||"ApiError",t.response.status,n||r,t,i,t.data)},en=t=>t instanceof ur?t:t instanceof Error?new G(t.message,t):new G(`Internal error: ${t}`);var Q=((Ye={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Ye.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ye.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ye.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Ye.INVALID_DATA="invalid_data",Ye.INVALID_CAPTCHA="invalid_captcha",Ye.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ye.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Ye.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",Ye.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",Ye.USER_EXITED_UPDATE_FLOW="exited_update_flow",Ye.ALLOWLIST_REJECTED="allowlist_rejected",Ye.OAUTH_USER_DENIED="oauth_user_denied",Ye.OAUTH_UNEXPECTED="oauth_unexpected",Ye.UNKNOWN_AUTH_ERROR="unknown_auth_error",Ye.USER_EXITED_AUTH_FLOW="exited_auth_flow",Ye.USER_EXITED_LINK_FLOW="exited_link_flow",Ye.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",Ye.MUST_BE_AUTHENTICATED="must_be_authenticated",Ye.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Ye.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Ye.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Ye.INVALID_CREDENTIALS="invalid_credentials",Ye.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",Ye.UNKNOWN_MFA_ERROR="unknown_mfa_error",Ye.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",Ye.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",Ye.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",Ye.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",Ye.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",Ye.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",Ye.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",Ye.TRANSACTION_FAILURE="transaction_failure",Ye.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",Ye.NOT_SUPPORTED="not_supported",Ye.CAPTCHA_TIMEOUT="captcha_timeout",Ye.INVALID_MESSAGE="invalid_message",Ye.UNABLE_TO_SIGN="unable_to_sign",Ye.CAPTCHA_FAILURE="captcha_failure",Ye.CAPTCHA_DISABLED="captcha_disabled",Ye.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",Ye.TOO_MANY_REQUESTS="too_many_requests",Ye.USER_LIMIT_REACHED="max_accounts_reached",Ye.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Ye.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Ye.PASSKEY_NOT_ALLOWED="passkey_not_allowed",Ye.USER_DOES_NOT_EXIST="user_does_not_exist",Ye.INSUFFICIENT_BALANCE="insufficient_balance",Ye.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Ye.BUFFER_NOT_DEFINED="buffer_not_defined",Ye.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",Ye);let lo=class extends G{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},qa=class extends G{constructor(e="Embedded wallet error",n){super(e,n,"unknown_embedded_wallet_error")}},MM=class extends G{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},Eu=class extends G{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const OC="/api/v1/sessions",RC="/api/v1/sessions/logout",LM="/api/v1/siwe/init",FM="/api/v1/siwe/authenticate",UM="/api/v1/siwe/link",BM="/api/v1/siwe/link_smart_wallet",WM="/api/v1/siwe/unlink",zM="/api/v1/siwe/transfer",qM="/api/v1/siws/init",HM="/api/v1/siws/authenticate",VM="/api/v1/siws/link",KM="/api/v1/siws/unlink",GM="/api/v1/siws/transfer",YM="/api/v1/farcaster/init",ZM="/api/v1/farcaster/authenticate",JM="/api/v1/farcaster/link",QM="/api/v1/farcaster/status",XM="/api/v1/farcaster/unlink",eL="/api/v1/farcaster/transfer",tL="api/v2/farcaster/init",nL="api/v2/farcaster/authenticate",rL="/api/v1/passwordless/init",iL="/api/v1/passwordless/authenticate",sL="/api/v1/passwordless/link",aL="/api/v1/passwordless/unlink",oL="/api/v1/passwordless/update",lL="/api/v1/passwordless/transfer",cL="/api/v1/passwordless_sms/init",dL="/api/v1/passwordless_sms/link",uL="/api/v1/passwordless_sms/unlink",hL="/api/v1/passwordless_sms/authenticate",pL="/api/v1/passwordless_sms/update",fL="/api/v1/passwordless_sms/transfer",MC="/api/v1/oauth/init",LC="/api/v1/oauth/authenticate",FC="/api/v1/oauth/link",gL="/api/v1/oauth/unlink",mL="/api/v1/oauth/transfer",yL="/api/v1/recovery/oauth/init",wL="/api/v1/recovery/oauth/init_icloud",vL="/api/v1/recovery/oauth/authenticate",bL="/api/v1/passkeys/link/init",xL="/api/v1/passkeys/authenticate/init",CL="/api/v1/passkeys/register/init",_L="/api/v1/passkeys/link",EL="/api/v1/passkeys/authenticate",kL="/api/v1/passkeys/register",$L="/api/v1/telegram/authenticate",IL="/api/v1/telegram/link",SL="/api/v1/telegram/unlink",AL="/api/v1/telegram/transfer",TL="/api/v1/mfa/passwordless_sms/init",PL="/api/v1/mfa/passkeys/init",DL="/api/v1/users/me/accept_terms",UC="/api/v1/analytics_events",NL="/api/v1/custom_jwt_account/authenticate",jL="/api/v1/custom_jwt_account/link",OL="/api/v1/guest/authenticate",RL="/api/v1/plugins/moonpay_on_ramp/sign",ML="/api/v1/funding/coinbase_on_ramp/init",LL="/api/v1/funding/coinbase_on_ramp/status",FL="/api/v1/wallets/revoke",UL="/api/v1/users/me",BL="/api/v1/scan/transaction";/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BC=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>y.createElement("svg",{ref:l,...zL,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BC("lucide",i),...o},[...a.map(([d,u])=>y.createElement(d,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=(t,e)=>{const n=y.forwardRef(({className:r,...i},s)=>y.createElement(qL,{ref:s,iconNode:e,className:BC(`lucide-${WL(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=fn("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=fn("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=fn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=fn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=fn("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=fn("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=fn("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=fn("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=fn("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=fn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=fn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=fn("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=fn("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=fn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=fn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=fn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=fn("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=fn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=fn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=fn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=fn("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=fn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),se=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},U2=y.createContext({setAuthenticated:se,setUser:se,setIsNewUser:se,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:se,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:se,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:se,initializeWalletProxy:se,getAuthMeta:se,getAuthFlow:se,closePrivyModal:se,openPrivyModal:se,connectWallet:se,initLoginWithWallet:se,loginWithWallet:se,initLoginWithFarcaster:se,loginWithFarcaster:se,loginWithCode:se,initLoginWithEmail:se,initLoginWithSms:se,initUpdateEmail:se,initUpdatePhone:se,resendEmailCode:se,resendSmsCode:se,initLoginWithHeadlessOAuth:se,loginWithHeadlessOAuth:se,crossAppAuthFlow:se,initLoginWithOAuth:se,loginWithOAuth:se,passkeyAuthState:{status:"initial"},setPasskeyAuthState:se,initSignupWithPasskey:se,signupWithPasskey:se,initLoginWithPasskey:se,loginWithPasskey:se,initLinkWithPasskey:se,linkWithPasskey:se,refreshSessionAndUser:se,walletProxy:null,createAnalyticsEvent:se,acceptTerms:se,getUsdTokenPrice:se,getUsdPriceForSol:se,getSplTokenMetadata:se,recoverEmbeddedWallet:se,updateWallets:se,fundWallet:se,openModal:se,setReadyToTrue:se,requestFarcasterSignerStatus:se,initLoginWithTelegram:se,loginWithTelegram:se,generateSiweMessage:se,generateSiweMessageForSmartWallet:se,loginWithSiwe:se,linkWithSiwe:se,linkSmartWallet:se,delegateWallet:se,revokeDelegatedWallets:se,connectCoinbaseSmartWallet:se,connectBaseAccount:se,initiateAccountTransfer:se,emailOtpState:{status:"initial"},setEmailOtpState:se,smsOtpState:{status:"initial"},setSmsOtpState:se,siweState:{status:"initial"},setSiweState:se,oAuthState:{status:"initial"},setOAuthState:se,telegramAuthState:{status:"initial"},setTelegramAuthState:se,isHeadlessOAuthLoading:!1,isHeadlessSigning:se,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:se}),Se=()=>y.useContext(U2);function ot(t){return t?new Date(1e3*t):null}function tr(t,e){return t.slice().sort(((n,r)=>{var i,s;return(((i=n.firstVerifiedAt)==null?void 0:i.getTime())??0)-(((s=r.firstVerifiedAt)==null?void 0:s.getTime())??0)})).find((n=>n.type===e))}const ys=t=>t?qC(t).find((e=>e.walletIndex===0))??null:null,qC=t=>t?HC(t,"ethereum"):[],HC=(t,e)=>t.linkedAccounts.filter((n=>n.type==="wallet"&&n.walletClientType==="privy"&&!n.imported&&n.chainType===e)),nF=t=>t?HC(t,"solana"):[],ff=t=>t?nF(t).find((e=>e.walletIndex===0))??null:null,v0=t=>((t==null?void 0:t.linkedAccounts)??[]).filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum")),rF=t=>((t==null?void 0:t.linkedAccounts)??[]).filter((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"));let VC=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&Zn(t)===Zn(e);const Ys=(t,e)=>(t==null?void 0:t.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&VC(n.address,e))))||null,Kg=(t,e)=>t.find((n=>VC(n.address,e)))||null,Zi=t=>ys(t)??ff(t);function Yn(t){if(!t)return null;let e=(function(_){let E=[];for(let x of _){let b=x.type;switch(x.type){case"wallet":let k={id:x.id,address:x.address,type:x.type,imported:x.imported,delegated:x.delegated,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at),chainType:x.chain_type,walletClientType:x.wallet_client_type,connectorType:x.connector_type,recoveryMethod:x.recovery_method,walletIndex:x.wallet_index,publicKey:x.public_key};E.push(k);break;case"smart_wallet":let S={address:x.address,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at),smartWalletType:x.smart_wallet_type,smartWalletVersion:x.smart_wallet_version};E.push(S);break;case"cross_app":let I={type:x.type,subject:x.subject,embeddedWallets:x.embedded_wallets,smartWallets:x.smart_wallets,providerApp:{id:x.provider_app_id},firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(I);break;case"email":let $={address:x.address,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push($);break;case"phone":let A={number:x.phoneNumber,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(A);break;case"google_oauth":let N={subject:x.subject,email:x.email,name:x.name,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(N);break;case"spotify_oauth":let O={subject:x.subject,email:x.email,name:x.name,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(O);break;case"instagram_oauth":let D={subject:x.subject,username:x.username,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(D);break;case"twitter_oauth":let M={subject:x.subject,username:x.username,name:x.name,type:x.type,profilePictureUrl:x.profile_picture_url,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(M);break;case"discord_oauth":let B={subject:x.subject,username:x.username,email:x.email,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(B);break;case"github_oauth":let U={subject:x.subject,username:x.username,name:x.name,email:x.email,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(U);break;case"tiktok_oauth":let L={subject:x.subject,username:x.username,name:x.name,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(L);break;case"line_oauth":let T={subject:x.subject,name:x.name,email:x.email,profilePictureUrl:x.profile_picture_url,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(T);break;case"linkedin_oauth":let j={subject:x.subject,name:x.name,email:x.email,vanityName:x.vanity_name,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(j);break;case"apple_oauth":let W={subject:x.subject,email:x.email,type:x.type,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(W);break;case"custom_auth":E.push({type:x.type,customUserId:x.custom_user_id,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)});break;case"farcaster":let Z={type:x.type,fid:x.fid,ownerAddress:x.owner_address,displayName:x.display_name,username:x.username,bio:x.bio,pfp:x.profile_picture_url,url:x.homepage_url,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at),signerPublicKey:x.signer_public_key};E.push(Z);break;case"passkey":let z={type:x.type,enrolledInMfa:x.enrolled_in_mfa,credentialId:x.credential_id,publicKey:x.public_key,authenticatorName:x.authenticator_name,createdWithDevice:x.created_with_device,createdWithOs:x.created_with_os,createdWithBrowser:x.created_with_browser,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(z);break;case"telegram":let ie={type:x.type,telegramUserId:x.telegram_user_id,firstName:x.first_name,lastName:x.last_name,username:x.username,photoUrl:x.photo_url,firstVerifiedAt:ot(x.first_verified_at),latestVerifiedAt:ot(x.latest_verified_at)};E.push(ie);break;default:console.warn(`Unrecognized account type: ${b}. Please consider upgrading the Privy SDK.`)}}return E})(t.linked_accounts),n=tr(e,"wallet"),r=tr(e,"smart_wallet"),i=tr(e,"email"),s=tr(e,"phone"),a=tr(e,"google_oauth"),o=tr(e,"twitter_oauth"),l=tr(e,"discord_oauth"),d=tr(e,"github_oauth"),u=tr(e,"spotify_oauth"),h=tr(e,"instagram_oauth"),p=tr(e,"tiktok_oauth"),f=tr(e,"line_oauth"),g=tr(e,"linkedin_oauth"),m=tr(e,"apple_oauth"),w=tr(e,"farcaster"),v=tr(e,"telegram"),C=t.mfa_methods.map((({type:_,verified_at:E})=>({type:_,verifiedAt:ot(E)})));return{id:t.id,createdAt:ot(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:n&&{id:n.id,address:n.address,chainType:n.chainType,walletClientType:n.walletClientType,connectorType:n.connectorType,recoveryMethod:n.recoveryMethod,imported:n.imported,delegated:n.delegated,walletIndex:n.walletIndex,publicKey:n.publicKey},smartWallet:r&&{address:r.address,smartWalletType:r.smartWalletType,smartWalletVersion:r.smartWalletVersion},google:a&&{subject:a.subject,email:a.email,name:a.name},twitter:o&&{subject:o.subject,username:o.username,name:o.name,profilePictureUrl:o.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:d&&{subject:d.subject,username:d.username,name:d.name,email:d.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:h&&{subject:h.subject,username:h.username},tiktok:p&&{subject:p.subject,username:p.username,name:p.name},line:f&&{subject:f.subject,name:f.name,email:f.email,profilePictureUrl:f.profilePictureUrl},linkedin:g&&{subject:g.subject,name:g.name,email:g.email,vanityName:g.vanityName},apple:m&&{subject:m.subject,email:m.email},farcaster:w&&{fid:w.fid,ownerAddress:w.ownerAddress,displayName:w.displayName,username:w.username,bio:w.bio,pfp:w.pfp,url:w.url,signerPublicKey:w.signerPublicKey},telegram:v&&{telegramUserId:v.telegramUserId,firstName:v.firstName,lastName:v.lastName,username:v.username,photoUrl:v.photoUrl},delegatedWallets:[],mfaMethods:C.map((_=>_.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const Vr=t=>!!t.id&&t.recoveryMethod==="privy-v2",fa=y.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:se,login:se,connectOrCreateWallet:se,linkEmail:se,linkPhone:se,linkFarcaster:se,linkWallet:se,startCrossAppAuthFlow:se,linkGoogle:se,linkTwitter:se,linkDiscord:se,linkGithub:se,linkSpotify:se,linkInstagram:se,linkTelegram:se,linkTiktok:se,linkLine:se,linkLinkedIn:se,linkApple:se,linkPasskey:se,updateEmail:se,updatePhone:se,logout:se,getAccessToken:se,unlinkEmail:se,unlinkPhone:se,unlinkWallet:se,unlinkGoogle:se,unlinkTwitter:se,unlinkDiscord:se,unlinkGithub:se,unlinkSpotify:se,unlinkInstagram:se,unlinkTiktok:se,unlinkLine:se,unlinkLinkedIn:se,unlinkApple:se,unlinkCrossAppAccount:se,unlinkFarcaster:se,unlinkTelegram:se,unlinkPasskey:se,signMessage:se,signTypedData:se,enrollInMfa:se,initEnrollmentWithSms:se,initEnrollmentWithTotp:se,initEnrollmentWithPasskey:se,promptMfa:se,init:se,submitEnrollmentWithSms:se,submitEnrollmentWithTotp:se,submitEnrollmentWithPasskey:se,unenroll:se,submit:se,cancel:se,sendTransaction:se,signTransaction:se,exportWallet:se,setWalletPassword:se,setWalletRecovery:se,requestFarcasterSignerFromWarpcast:se,getFarcasterSignerPublicKey:se,signFarcasterMessage:se,signMessageWithCrossAppWallet:se,signTypedDataWithCrossAppWallet:se,sendTransactionWithCrossAppWallet:se,signTransactionWithCrossAppWallet:se,isModalOpen:!1,mfaMethods:[]}),wt=()=>y.useContext(fa);var dr=function(){return dr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dr.apply(this,arguments)};function cc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Xt="-ms-",bd="-moz-",Ot="-webkit-",KC="comm",gf="rule",B2="decl",iF="@import",GC="@keyframes",sF="@layer",YC=Math.abs,W2=String.fromCharCode,b0=Object.assign;function aF(t,e){return zn(t,0)^45?(((e<<2^zn(t,0))<<2^zn(t,1))<<2^zn(t,2))<<2^zn(t,3):0}function ZC(t){return t.trim()}function Vs(t,e){return(t=e.exec(t))?t[0]:t}function lt(t,e,n){return t.replace(e,n)}function Mh(t,e,n){return t.indexOf(e,n)}function zn(t,e){return t.charCodeAt(e)|0}function dc(t,e,n){return t.slice(e,n)}function ws(t){return t.length}function JC(t){return t.length}function dd(t,e){return e.push(t),t}function oF(t,e){return t.map(e).join("")}function Fb(t,e){return t.filter(function(n){return!Vs(n,e)})}var mf=1,uc=1,QC=0,Ci=0,Tn=0,Sc="";function yf(t,e,n,r,i,s,a,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:mf,column:uc,length:a,return:"",siblings:o}}function Sa(t,e){return b0(yf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function gl(t){for(;t.root;)t=Sa(t.root,{children:[t]});dd(t,t.siblings)}function lF(){return Tn}function cF(){return Tn=Ci>0?zn(Sc,--Ci):0,uc--,Tn===10&&(uc=1,mf--),Tn}function Hi(){return Tn=Ci<QC?zn(Sc,Ci++):0,uc++,Tn===10&&(uc=1,mf++),Tn}function Po(){return zn(Sc,Ci)}function Lh(){return Ci}function wf(t,e){return dc(Sc,t,e)}function x0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dF(t){return mf=uc=1,QC=ws(Sc=t),Ci=0,[]}function uF(t){return Sc="",t}function Gg(t){return ZC(wf(Ci-1,C0(t===91?t+2:t===40?t+1:t)))}function hF(t){for(;(Tn=Po())&&Tn<33;)Hi();return x0(t)>2||x0(Tn)>3?"":" "}function pF(t,e){for(;--e&&Hi()&&!(Tn<48||Tn>102||Tn>57&&Tn<65||Tn>70&&Tn<97););return wf(t,Lh()+(e<6&&Po()==32&&Hi()==32))}function C0(t){for(;Hi();)switch(Tn){case t:return Ci;case 34:case 39:t!==34&&t!==39&&C0(Tn);break;case 40:t===41&&C0(t);break;case 92:Hi();break}return Ci}function fF(t,e){for(;Hi()&&t+Tn!==57;)if(t+Tn===84&&Po()===47)break;return"/*"+wf(e,Ci-1)+"*"+W2(t===47?t:Hi())}function gF(t){for(;!x0(Po());)Hi();return wf(t,Ci)}function mF(t){return uF(Fh("",null,null,null,[""],t=dF(t),0,[0],t))}function Fh(t,e,n,r,i,s,a,o,l){for(var d=0,u=0,h=a,p=0,f=0,g=0,m=1,w=1,v=1,C=0,_="",E=i,x=s,b=r,k=_;w;)switch(g=C,C=Hi()){case 40:if(g!=108&&zn(k,h-1)==58){Mh(k+=lt(Gg(C),"&","&\f"),"&\f",YC(d?o[d-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:k+=Gg(C);break;case 9:case 10:case 13:case 32:k+=hF(g);break;case 92:k+=pF(Lh()-1,7);continue;case 47:switch(Po()){case 42:case 47:dd(yF(fF(Hi(),Lh()),e,n,l),l);break;default:k+="/"}break;case 123*m:o[d++]=ws(k)*v;case 125*m:case 59:case 0:switch(C){case 0:case 125:w=0;case 59+u:v==-1&&(k=lt(k,/\f/g,"")),f>0&&ws(k)-h&&dd(f>32?Bb(k+";",r,n,h-1,l):Bb(lt(k," ","")+";",r,n,h-2,l),l);break;case 59:k+=";";default:if(dd(b=Ub(k,e,n,d,u,i,o,_,E=[],x=[],h,s),s),C===123)if(u===0)Fh(k,e,b,b,E,s,h,o,x);else switch(p===99&&zn(k,3)===110?100:p){case 100:case 108:case 109:case 115:Fh(t,b,b,r&&dd(Ub(t,b,b,0,0,i,o,_,i,E=[],h,x),x),i,x,h,o,r?E:x);break;default:Fh(k,b,b,b,[""],x,0,o,x)}}d=u=f=0,m=v=1,_=k="",h=a;break;case 58:h=1+ws(k),f=g;default:if(m<1){if(C==123)--m;else if(C==125&&m++==0&&cF()==125)continue}switch(k+=W2(C),C*m){case 38:v=u>0?1:(k+="\f",-1);break;case 44:o[d++]=(ws(k)-1)*v,v=1;break;case 64:Po()===45&&(k+=Gg(Hi())),p=Po(),u=h=ws(_=k+=gF(Lh())),C++;break;case 45:g===45&&ws(k)==2&&(m=0)}}return s}function Ub(t,e,n,r,i,s,a,o,l,d,u,h){for(var p=i-1,f=i===0?s:[""],g=JC(f),m=0,w=0,v=0;m<r;++m)for(var C=0,_=dc(t,p+1,p=YC(w=a[m])),E=t;C<g;++C)(E=ZC(w>0?f[C]+" "+_:lt(_,/&\f/g,f[C])))&&(l[v++]=E);return yf(t,e,n,i===0?gf:o,l,d,u,h)}function yF(t,e,n,r){return yf(t,e,n,KC,W2(lF()),dc(t,2,-2),0,r)}function Bb(t,e,n,r,i){return yf(t,e,n,B2,dc(t,0,r),dc(t,r+1,-1),r,i)}function XC(t,e,n){switch(aF(t,e)){case 5103:return Ot+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ot+t+t;case 4789:return bd+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ot+t+bd+t+Xt+t+t;case 5936:switch(zn(t,e+11)){case 114:return Ot+t+Xt+lt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ot+t+Xt+lt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ot+t+Xt+lt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Ot+t+Xt+t+t;case 6165:return Ot+t+Xt+"flex-"+t+t;case 5187:return Ot+t+lt(t,/(\w+).+(:[^]+)/,Ot+"box-$1$2"+Xt+"flex-$1$2")+t;case 5443:return Ot+t+Xt+"flex-item-"+lt(t,/flex-|-self/g,"")+(Vs(t,/flex-|baseline/)?"":Xt+"grid-row-"+lt(t,/flex-|-self/g,""))+t;case 4675:return Ot+t+Xt+"flex-line-pack"+lt(t,/align-content|flex-|-self/g,"")+t;case 5548:return Ot+t+Xt+lt(t,"shrink","negative")+t;case 5292:return Ot+t+Xt+lt(t,"basis","preferred-size")+t;case 6060:return Ot+"box-"+lt(t,"-grow","")+Ot+t+Xt+lt(t,"grow","positive")+t;case 4554:return Ot+lt(t,/([^-])(transform)/g,"$1"+Ot+"$2")+t;case 6187:return lt(lt(lt(t,/(zoom-|grab)/,Ot+"$1"),/(image-set)/,Ot+"$1"),t,"")+t;case 5495:case 3959:return lt(t,/(image-set\([^]*)/,Ot+"$1$`$1");case 4968:return lt(lt(t,/(.+:)(flex-)?(.*)/,Ot+"box-pack:$3"+Xt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ot+t+t;case 4200:if(!Vs(t,/flex-|baseline/))return Xt+"grid-column-align"+dc(t,e)+t;break;case 2592:case 3360:return Xt+lt(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Vs(r.props,/grid-\w+-end/)})?~Mh(t+(n=n[e].value),"span",0)?t:Xt+lt(t,"-start","")+t+Xt+"grid-row-span:"+(~Mh(n,"span",0)?Vs(n,/\d+/):+Vs(n,/\d+/)-+Vs(t,/\d+/))+";":Xt+lt(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Vs(r.props,/grid-\w+-start/)})?t:Xt+lt(lt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return lt(t,/(.+)-inline(.+)/,Ot+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ws(t)-1-e>6)switch(zn(t,e+1)){case 109:if(zn(t,e+4)!==45)break;case 102:return lt(t,/(.+:)(.+)-([^]+)/,"$1"+Ot+"$2-$3$1"+bd+(zn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Mh(t,"stretch",0)?XC(lt(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return lt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,a,o,l,d){return Xt+i+":"+s+d+(a?Xt+i+"-span:"+(o?l:+l-+s)+d:"")+t});case 4949:if(zn(t,e+6)===121)return lt(t,":",":"+Ot)+t;break;case 6444:switch(zn(t,zn(t,14)===45?18:11)){case 120:return lt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ot+(zn(t,14)===45?"inline-":"")+"box$3$1"+Ot+"$2$3$1"+Xt+"$2box$3")+t;case 100:return lt(t,":",":"+Xt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return lt(t,"scroll-","scroll-snap-")+t}return t}function fp(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function wF(t,e,n,r){switch(t.type){case sF:if(t.children.length)break;case iF:case B2:return t.return=t.return||t.value;case KC:return"";case GC:return t.return=t.value+"{"+fp(t.children,r)+"}";case gf:if(!ws(t.value=t.props.join(",")))return""}return ws(n=fp(t.children,r))?t.return=t.value+"{"+n+"}":""}function vF(t){var e=JC(t);return function(n,r,i,s){for(var a="",o=0;o<e;o++)a+=t[o](n,r,i,s)||"";return a}}function bF(t){return function(e){e.root||(e=e.return)&&t(e)}}function xF(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case B2:t.return=XC(t.value,t.length,n);return;case GC:return fp([Sa(t,{value:lt(t.value,"@","@"+Ot)})],r);case gf:if(t.length)return oF(n=t.props,function(i){switch(Vs(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":gl(Sa(t,{props:[lt(i,/:(read-\w+)/,":"+bd+"$1")]})),gl(Sa(t,{props:[i]})),b0(t,{props:Fb(n,r)});break;case"::placeholder":gl(Sa(t,{props:[lt(i,/:(plac\w+)/,":"+Ot+"input-$1")]})),gl(Sa(t,{props:[lt(i,/:(plac\w+)/,":"+bd+"$1")]})),gl(Sa(t,{props:[lt(i,/:(plac\w+)/,Xt+"input-$1")]})),gl(Sa(t,{props:[i]})),b0(t,{props:Fb(n,r)});break}return""})}}var CF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gr={},hc=typeof process<"u"&&Gr!==void 0&&(Gr.REACT_APP_SC_ATTR||Gr.SC_ATTR)||"data-styled",e7="active",t7="data-styled-version",vf="6.1.19",z2=`/*!sc*/
`,gp=typeof window<"u"&&typeof document<"u",_F=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Gr!==void 0&&Gr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Gr.REACT_APP_SC_DISABLE_SPEEDY!==""?Gr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Gr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Gr!==void 0&&Gr.SC_DISABLE_SPEEDY!==void 0&&Gr.SC_DISABLE_SPEEDY!==""&&Gr.SC_DISABLE_SPEEDY!=="false"&&Gr.SC_DISABLE_SPEEDY),EF={},bf=Object.freeze([]),pc=Object.freeze({});function n7(t,e,n){return n===void 0&&(n=pc),t.theme!==n.theme&&t.theme||e||n.theme}var r7=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),kF=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,$F=/(^-|-$)/g;function Wb(t){return t.replace(kF,"-").replace($F,"")}var IF=/(a)(d)/gi,sh=52,zb=function(t){return String.fromCharCode(t+(t>25?39:97))};function _0(t){var e,n="";for(e=Math.abs(t);e>sh;e=e/sh|0)n=zb(e%sh)+n;return(zb(e%sh)+n).replace(IF,"$1-$2")}var Yg,i7=5381,Ul=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},s7=function(t){return Ul(i7,t)};function q2(t){return _0(s7(t)>>>0)}function SF(t){return t.displayName||t.name||"Component"}function Zg(t){return typeof t=="string"&&!0}var a7=typeof Symbol=="function"&&Symbol.for,o7=a7?Symbol.for("react.memo"):60115,AF=a7?Symbol.for("react.forward_ref"):60112,TF={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},PF={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l7={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DF=((Yg={})[AF]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Yg[o7]=l7,Yg);function qb(t){return("type"in(e=t)&&e.type.$$typeof)===o7?l7:"$$typeof"in t?DF[t.$$typeof]:TF;var e}var NF=Object.defineProperty,jF=Object.getOwnPropertyNames,Hb=Object.getOwnPropertySymbols,OF=Object.getOwnPropertyDescriptor,RF=Object.getPrototypeOf,Vb=Object.prototype;function c7(t,e,n){if(typeof e!="string"){if(Vb){var r=RF(e);r&&r!==Vb&&c7(t,r,n)}var i=jF(e);Hb&&(i=i.concat(Hb(e)));for(var s=qb(t),a=qb(e),o=0;o<i.length;++o){var l=i[o];if(!(l in PF||n&&n[l]||a&&l in a||s&&l in s)){var d=OF(e,l);try{NF(t,l,d)}catch{}}}}return t}function fc(t){return typeof t=="function"}function H2(t){return typeof t=="object"&&"styledComponentId"in t}function xo(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function mp(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function nu(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function E0(t,e,n){if(n===void 0&&(n=!1),!n&&!nu(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=E0(t[r],e[r]);else if(nu(e))for(var r in e)t[r]=E0(t[r],e[r]);return t}function V2(t,e){Object.defineProperty(t,"toString",{value:e})}function $u(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var MF=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw $u(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),l=(a=0,n.length);a<l;a++)this.tag.insertRule(o,n[a])&&(this.groupSizes[e]++,o++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,a=i;a<s;a++)n+="".concat(this.tag.getRule(a)).concat(z2);return n},t})(),Uh=new Map,yp=new Map,Bh=1,ah=function(t){if(Uh.has(t))return Uh.get(t);for(;yp.has(Bh);)Bh++;var e=Bh++;return Uh.set(t,e),yp.set(e,t),e},LF=function(t,e){Bh=e+1,Uh.set(t,e),yp.set(e,t)},FF="style[".concat(hc,"][").concat(t7,'="').concat(vf,'"]'),UF=new RegExp("^".concat(hc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),BF=function(t,e,n){for(var r,i=n.split(","),s=0,a=i.length;s<a;s++)(r=i[s])&&t.registerName(e,r)},WF=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(z2),i=[],s=0,a=r.length;s<a;s++){var o=r[s].trim();if(o){var l=o.match(UF);if(l){var d=0|parseInt(l[1],10),u=l[2];d!==0&&(LF(u,d),BF(t,u,l[3]),t.getTag().insertRules(d,i)),i.length=0}else i.push(o)}}},Kb=function(t){for(var e=document.querySelectorAll(FF),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(hc)!==e7&&(WF(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function zF(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var d7=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=(function(o){var l=Array.from(o.querySelectorAll("style[".concat(hc,"]")));return l[l.length-1]})(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(hc,e7),r.setAttribute(t7,vf);var a=zF();return a&&r.setAttribute("nonce",a),n.insertBefore(r,s),r},qF=(function(){function t(e){this.element=d7(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var a=r[i];if(a.ownerNode===n)return a}throw $u(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t})(),HF=(function(){function t(e){this.element=d7(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),VF=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),Gb=gp,KF={isServer:!gp,useCSSOMInjection:!_F},wp=(function(){function t(e,n,r){e===void 0&&(e=pc),n===void 0&&(n={});var i=this;this.options=dr(dr({},KF),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&gp&&Gb&&(Gb=!1,Kb(this)),V2(this,function(){return(function(s){for(var a=s.getTag(),o=a.length,l="",d=function(h){var p=(function(v){return yp.get(v)})(h);if(p===void 0)return"continue";var f=s.names.get(p),g=a.getGroup(h);if(f===void 0||!f.size||g.length===0)return"continue";var m="".concat(hc,".g").concat(h,'[id="').concat(p,'"]'),w="";f!==void 0&&f.forEach(function(v){v.length>0&&(w+="".concat(v,","))}),l+="".concat(g).concat(m,'{content:"').concat(w,'"}').concat(z2)},u=0;u<o;u++)d(u);return l})(i)})}return t.registerId=function(e){return ah(e)},t.prototype.rehydrate=function(){!this.server&&gp&&Kb(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(dr(dr({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new VF(i):r?new qF(i):new HF(i)})(this.options),new MF(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(ah(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(ah(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(ah(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),GF=/&/g,YF=/^\s*\/\/.*$/gm;function u7(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=u7(n.children,e)),n})}function ZF(t){var e,n,r,i=pc,s=i.options,a=s===void 0?pc:s,o=i.plugins,l=o===void 0?bf:o,d=function(p,f,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):p},u=l.slice();u.push(function(p){p.type===gf&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(GF,n).replace(r,d))}),a.prefix&&u.push(xF),u.push(wF);var h=function(p,f,g,m){f===void 0&&(f=""),g===void 0&&(g=""),m===void 0&&(m="&"),e=m,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var w=p.replace(YF,""),v=mF(g||f?"".concat(g," ").concat(f," { ").concat(w," }"):w);a.namespace&&(v=u7(v,a.namespace));var C=[];return fp(v,vF(u.concat(bF(function(_){return C.push(_)})))),C};return h.hash=l.length?l.reduce(function(p,f){return f.name||$u(15),Ul(p,f.name)},i7).toString():"",h}var JF=new wp,k0=ZF(),h7=Ie.createContext({shouldForwardProp:void 0,styleSheet:JF,stylis:k0});h7.Consumer;Ie.createContext(void 0);function $0(){return y.useContext(h7)}var p7=(function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=k0);var a=r.name+s.hash;i.hasNameForId(r.id,a)||i.insertRules(r.id,a,s(r.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,V2(this,function(){throw $u(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=k0),this.name+e.hash},t})(),QF=function(t){return t>="A"&&t<="Z"};function Yb(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;QF(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var f7=function(t){return t==null||t===!1||t===""},g7=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!f7(s)&&(Array.isArray(s)&&s.isCss||fc(s)?r.push("".concat(Yb(i),":"),s,";"):nu(s)?r.push.apply(r,cc(cc(["".concat(i," {")],g7(s),!1),["}"],!1)):r.push("".concat(Yb(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in CF||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ha(t,e,n,r){if(f7(t))return[];if(H2(t))return[".".concat(t.styledComponentId)];if(fc(t)){if(!fc(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ha(i,e,n,r)}var s;return t instanceof p7?n?(t.inject(n,r),[t.getName(r)]):[t]:nu(t)?g7(t):Array.isArray(t)?Array.prototype.concat.apply(bf,t.map(function(a){return Ha(a,e,n,r)})):[t.toString()]}function m7(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(fc(n)&&!H2(n))return!1}return!0}var XF=s7(vf),eU=(function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&m7(e),this.componentId=n,this.baseHash=Ul(XF,n),this.baseStyle=r,wp.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=xo(i,this.staticRulesId);else{var s=mp(Ha(this.rules,e,n,r)),a=_0(Ul(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,a)){var o=r(s,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,o)}i=xo(i,a),this.staticRulesId=a}else{for(var l=Ul(this.baseHash,r.hash),d="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")d+=h;else if(h){var p=mp(Ha(h,e,n,r));l=Ul(l,p+u),d+=p}}if(d){var f=_0(l>>>0);n.hasNameForId(this.componentId,f)||n.insertRules(this.componentId,f,r(d,".".concat(f),void 0,this.componentId)),i=xo(i,f)}}return i},t})(),K2=Ie.createContext(void 0);K2.Consumer;var Jg={};function tU(t,e,n){var r=H2(t),i=t,s=!Zg(t),a=e.attrs,o=a===void 0?bf:a,l=e.componentId,d=l===void 0?(function(E,x){var b=typeof E!="string"?"sc":Wb(E);Jg[b]=(Jg[b]||0)+1;var k="".concat(b,"-").concat(q2(vf+b+Jg[b]));return x?"".concat(x,"-").concat(k):k})(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?(function(E){return Zg(E)?"styled.".concat(E):"Styled(".concat(SF(E),")")})(t):u,p=e.displayName&&e.componentId?"".concat(Wb(e.displayName),"-").concat(e.componentId):e.componentId||d,f=r&&i.attrs?i.attrs.concat(o).filter(Boolean):o,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var m=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;g=function(E,x){return m(E,x)&&w(E,x)}}else g=m}var v=new eU(n,p,r?i.componentStyle:void 0);function C(E,x){return(function(b,k,S){var I=b.attrs,$=b.componentStyle,A=b.defaultProps,N=b.foldedComponentIds,O=b.styledComponentId,D=b.target,M=Ie.useContext(K2),B=$0(),U=b.shouldForwardProp||B.shouldForwardProp,L=n7(k,M,A)||pc,T=(function(V,ee,ae){for(var te,he=dr(dr({},ee),{className:void 0,theme:ae}),xe=0;xe<V.length;xe+=1){var ke=fc(te=V[xe])?te(he):te;for(var Ue in ke)he[Ue]=Ue==="className"?xo(he[Ue],ke[Ue]):Ue==="style"?dr(dr({},he[Ue]),ke[Ue]):ke[Ue]}return ee.className&&(he.className=xo(he.className,ee.className)),he})(I,k,L),j=T.as||D,W={};for(var Z in T)T[Z]===void 0||Z[0]==="$"||Z==="as"||Z==="theme"&&T.theme===L||(Z==="forwardedAs"?W.as=T.forwardedAs:U&&!U(Z,j)||(W[Z]=T[Z]));var z=(function(V,ee){var ae=$0(),te=V.generateAndInjectStyles(ee,ae.styleSheet,ae.stylis);return te})($,T),ie=xo(N,O);return z&&(ie+=" "+z),T.className&&(ie+=" "+T.className),W[Zg(j)&&!r7.has(j)?"class":"className"]=ie,S&&(W.ref=S),y.createElement(j,W)})(_,E,x)}C.displayName=h;var _=Ie.forwardRef(C);return _.attrs=f,_.componentStyle=v,_.displayName=h,_.shouldForwardProp=g,_.foldedComponentIds=r?xo(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=p,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?(function(x){for(var b=[],k=1;k<arguments.length;k++)b[k-1]=arguments[k];for(var S=0,I=b;S<I.length;S++)E0(x,I[S],!0);return x})({},i.defaultProps,E):E}}),V2(_,function(){return".".concat(_.styledComponentId)}),s&&c7(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function Zb(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Jb=function(t){return Object.assign(t,{isCss:!0})};function Ln(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(fc(t)||nu(t))return Jb(Ha(Zb(bf,cc([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ha(r):Jb(Ha(Zb(r,e)))}function I0(t,e,n){if(n===void 0&&(n=pc),!e)throw $u(1,e);var r=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return t(e,n,Ln.apply(void 0,cc([i],s,!1)))};return r.attrs=function(i){return I0(t,e,dr(dr({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return I0(t,e,dr(dr({},n),i))},r}var y7=function(t){return I0(tU,t)},F=y7;r7.forEach(function(t){F[t]=y7(t)});var nU=(function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=m7(e),wp.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(mp(Ha(this.rules,n,r,i)),""),a=this.componentId+e;r.insertRules(a,a,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&wp.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t})();function rU(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Ln.apply(void 0,cc([t],e,!1)),i="sc-global-".concat(q2(JSON.stringify(r))),s=new nU(r,i),a=function(l){var d=$0(),u=Ie.useContext(K2),h=Ie.useRef(d.styleSheet.allocateGSInstance(i)).current;return d.styleSheet.server&&o(h,l,d.styleSheet,u,d.stylis),Ie.useLayoutEffect(function(){if(!d.styleSheet.server)return o(h,l,d.styleSheet,u,d.stylis),function(){return s.removeStyles(h,d.styleSheet)}},[h,l,d.styleSheet,u,d.stylis]),null};function o(l,d,u,h,p){if(s.isStatic)s.renderStyles(l,EF,u,p);else{var f=dr(dr({},d),{theme:n7(d,h,a.defaultProps)});s.renderStyles(l,f,u,p)}}return Ie.memo(a)}function w7(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=mp(Ln.apply(void 0,cc([t],e,!1))),i=q2(r);return new p7(i,r)}const v7=({origin:t,path:e,query:n={},hash:r={}})=>{let i=new URL(e,t.endsWith("/")?t:`${t}/`);for(let[a,o]of Object.entries(n))o!==void 0&&i.searchParams.set(a,o);let s=Object.entries(r);if(s.length>0){let a=new URLSearchParams;for(let[o,l]of s)l!==void 0&&a.append(o,l);i.hash=a.toString()}return i.href};function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}var iU=/^\s+/,sU=/\s+$/;function Me(t,e){if(t=t||"",e=e||{},t instanceof Me)return t;if(!(this instanceof Me))return new Me(t,e);var n=aU(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Me.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,a,o;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=b7(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Xb(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Xb(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Qb(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Qb(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return e3(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return dU(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ln(this._r,255)*100)+"%",g:Math.round(ln(this._g,255)*100)+"%",b:Math.round(ln(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ln(this._r,255)*100)+"%, "+Math.round(ln(this._g,255)*100)+"%, "+Math.round(ln(this._b,255)*100)+"%)":"rgba("+Math.round(ln(this._r,255)*100)+"%, "+Math.round(ln(this._g,255)*100)+"%, "+Math.round(ln(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:CU[e3(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+t3(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Me(e);r="#"+t3(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Me(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(fU,arguments)},brighten:function(){return this._applyModification(gU,arguments)},darken:function(){return this._applyModification(mU,arguments)},desaturate:function(){return this._applyModification(uU,arguments)},saturate:function(){return this._applyModification(hU,arguments)},greyscale:function(){return this._applyModification(pU,arguments)},spin:function(){return this._applyModification(yU,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(bU,arguments)},complement:function(){return this._applyCombination(wU,arguments)},monochromatic:function(){return this._applyCombination(xU,arguments)},splitcomplement:function(){return this._applyCombination(vU,arguments)},triad:function(){return this._applyCombination(n3,[3])},tetrad:function(){return this._applyCombination(n3,[4])}};Me.fromRatio=function(t,e){if(vp(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=ud(t[r]));t=n}return Me(t,e)};function aU(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,a=!1,o=!1;return typeof t=="string"&&(t=$U(t)),vp(t)=="object"&&(Ms(t.r)&&Ms(t.g)&&Ms(t.b)?(e=oU(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Ms(t.h)&&Ms(t.s)&&Ms(t.v)?(r=ud(t.s),i=ud(t.v),e=cU(t.h,r,i),a=!0,o="hsv"):Ms(t.h)&&Ms(t.s)&&Ms(t.l)&&(r=ud(t.s),s=ud(t.l),e=lU(t.h,r,s),a=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=b7(n),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function oU(t,e,n){return{r:ln(t,255)*255,g:ln(e,255)*255,b:ln(n,255)*255}}function Qb(t,e,n){t=ln(t,255),e=ln(e,255),n=ln(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,o=(r+i)/2;if(r==i)s=a=0;else{var l=r-i;switch(a=o>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function lU(t,e,n){var r,i,s;t=ln(t,360),e=ln(e,100),n=ln(n,100);function a(d,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?d+(u-d)*6*h:h<1/2?u:h<2/3?d+(u-d)*(2/3-h)*6:d}if(e===0)r=i=s=n;else{var o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;r=a(l,o,t+1/3),i=a(l,o,t),s=a(l,o,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function Xb(t,e,n){t=ln(t,255),e=ln(e,255),n=ln(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,a,o=r,l=r-i;if(a=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,v:o}}function cU(t,e,n){t=ln(t,360)*6,e=ln(e,100),n=ln(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),a=n*(1-i*e),o=n*(1-(1-i)*e),l=r%6,d=[n,a,s,s,o,n][l],u=[o,n,n,a,s,s][l],h=[s,s,o,n,n,a][l];return{r:d*255,g:u*255,b:h*255}}function e3(t,e,n,r){var i=[zi(Math.round(t).toString(16)),zi(Math.round(e).toString(16)),zi(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function dU(t,e,n,r,i){var s=[zi(Math.round(t).toString(16)),zi(Math.round(e).toString(16)),zi(Math.round(n).toString(16)),zi(x7(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function t3(t,e,n,r){var i=[zi(x7(r)),zi(Math.round(t).toString(16)),zi(Math.round(e).toString(16)),zi(Math.round(n).toString(16))];return i.join("")}Me.equals=function(t,e){return!t||!e?!1:Me(t).toRgbString()==Me(e).toRgbString()};Me.random=function(){return Me.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function uU(t,e){e=e===0?0:e||10;var n=Me(t).toHsl();return n.s-=e/100,n.s=xf(n.s),Me(n)}function hU(t,e){e=e===0?0:e||10;var n=Me(t).toHsl();return n.s+=e/100,n.s=xf(n.s),Me(n)}function pU(t){return Me(t).desaturate(100)}function fU(t,e){e=e===0?0:e||10;var n=Me(t).toHsl();return n.l+=e/100,n.l=xf(n.l),Me(n)}function gU(t,e){e=e===0?0:e||10;var n=Me(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Me(n)}function mU(t,e){e=e===0?0:e||10;var n=Me(t).toHsl();return n.l-=e/100,n.l=xf(n.l),Me(n)}function yU(t,e){var n=Me(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Me(n)}function wU(t){var e=Me(t).toHsl();return e.h=(e.h+180)%360,Me(e)}function n3(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Me(t).toHsl(),r=[Me(t)],i=360/e,s=1;s<e;s++)r.push(Me({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function vU(t){var e=Me(t).toHsl(),n=e.h;return[Me(t),Me({h:(n+72)%360,s:e.s,l:e.l}),Me({h:(n+216)%360,s:e.s,l:e.l})]}function bU(t,e,n){e=e||6,n=n||30;var r=Me(t).toHsl(),i=360/n,s=[Me(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Me(r));return s}function xU(t,e){e=e||6;for(var n=Me(t).toHsv(),r=n.h,i=n.s,s=n.v,a=[],o=1/e;e--;)a.push(Me({h:r,s:i,v:s})),s=(s+o)%1;return a}Me.mix=function(t,e,n){n=n===0?0:n||50;var r=Me(t).toRgb(),i=Me(e).toRgb(),s=n/100,a={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Me(a)};Me.readability=function(t,e){var n=Me(t),r=Me(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Me.isReadable=function(t,e,n){var r=Me.readability(t,e),i,s;switch(s=!1,i=IU(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Me.mostReadable=function(t,e,n){var r=null,i=0,s,a,o,l;n=n||{},a=n.includeFallbackColors,o=n.level,l=n.size;for(var d=0;d<e.length;d++)s=Me.readability(t,e[d]),s>i&&(i=s,r=Me(e[d]));return Me.isReadable(t,r,{level:o,size:l})||!a?r:(n.includeFallbackColors=!1,Me.mostReadable(t,["#fff","#000"],n))};var S0=Me.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},CU=Me.hexNames=_U(S0);function _U(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function b7(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function ln(t,e){EU(t)&&(t="100%");var n=kU(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function xf(t){return Math.min(1,Math.max(0,t))}function Hr(t){return parseInt(t,16)}function EU(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function kU(t){return typeof t=="string"&&t.indexOf("%")!=-1}function zi(t){return t.length==1?"0"+t:""+t}function ud(t){return t<=1&&(t=t*100+"%"),t}function x7(t){return Math.round(parseFloat(t)*255).toString(16)}function r3(t){return Hr(t)/255}var Oi=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Ms(t){return!!Oi.CSS_UNIT.exec(t)}function $U(t){t=t.replace(iU,"").replace(sU,"").toLowerCase();var e=!1;if(S0[t])t=S0[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Oi.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Oi.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Oi.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Oi.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Oi.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Oi.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Oi.hex8.exec(t))?{r:Hr(n[1]),g:Hr(n[2]),b:Hr(n[3]),a:r3(n[4]),format:e?"name":"hex8"}:(n=Oi.hex6.exec(t))?{r:Hr(n[1]),g:Hr(n[2]),b:Hr(n[3]),format:e?"name":"hex"}:(n=Oi.hex4.exec(t))?{r:Hr(n[1]+""+n[1]),g:Hr(n[2]+""+n[2]),b:Hr(n[3]+""+n[3]),a:r3(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Oi.hex3.exec(t))?{r:Hr(n[1]+""+n[1]),g:Hr(n[2]+""+n[2]),b:Hr(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function IU(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}function SU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const AU=y.forwardRef(SU);function TU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const PU=y.forwardRef(TU);function DU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const NU=y.forwardRef(DU);function jU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const Jl=y.forwardRef(jU);function OU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const RU=y.forwardRef(OU);function MU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const LU=y.forwardRef(MU);function FU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const G2=y.forwardRef(FU);function UU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Ka=y.forwardRef(UU);function BU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Jo=y.forwardRef(BU);function WU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const Cf=y.forwardRef(WU);function zU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Y2=y.forwardRef(zU);function qU({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const HU=y.forwardRef(qU);var Qg,i3;function VU(){if(i3)return Qg;i3=1;var t=function(a,o){return Math.round(o*Math.log(a)/Math.LN2)},e=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],n=function(a){return function(o){return a.reduce(function(l,d){return l+(d.re.test(o)?d.length:0)},0)}},r=n(e),i=function(a){return a?t(r(a),a.length):0};return Qg=i,Qg}var KU=VU();const GU=ha(KU);function C7(t){return crypto.getRandomValues(new Uint8Array(t))}const YU=256,xd=65536;function ZU(){const[t]=C7(1);return t}function JU(){const[t,e]=C7(2);return(t<<8)+e}function QU(t){if(typeof t!="number"||t<2||t>xd)throw new Error(`Invalid number: number must be at least two and at most ${xd}`);const e=t>256,n=e?xd:YU,r=e?JU:ZU,i=t*Math.floor(n/t);for(;;){const s=r();if(s<i)return s%t}}function XU(t,e,n){if(typeof n!="number"||n>xd)throw new Error(`Invalid argument: end must be a number less than or equal to ${xd}`);if(n-e<2)throw new Error("Invalid range: range must contain at least two values");const r=[];for(let i=0;i<t;i++)r[i]=e+QU(n-e);return r}function eB(t,e,n="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof n!="string")throw new Error("Invalid argument: sep argument must be a string");return XU(t,0,e.length).reduce((r,i,s)=>{const a=e[i];return r+(s===0?a:n+a)},"")}const tB=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),nB=Object.freeze(tB.filter(t=>!t.includes("-")));function rB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const _7=y.forwardRef(rB);function iB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const sB=y.forwardRef(iB);function aB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const oB=y.forwardRef(aB);function lB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const cB=y.forwardRef(lB);function dB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const uB=y.forwardRef(dB);function hB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const pB=y.forwardRef(hB);function fB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const ru=y.forwardRef(fB);function gB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const mB=y.forwardRef(gB);function yB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const E7=y.forwardRef(yB);function wB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const vB=y.forwardRef(wB);function bB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const xB=y.forwardRef(bB);function CB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Fo=y.forwardRef(CB);function _B({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const EB=y.forwardRef(_B);function kB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const $B=y.forwardRef(kB);function IB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const SB=y.forwardRef(IB);function AB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const _f=y.forwardRef(AB);function TB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const PB=y.forwardRef(TB);function DB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Z2=y.forwardRef(DB);function NB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const jB=y.forwardRef(NB);function OB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const RB=y.forwardRef(OB);function MB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const LB=y.forwardRef(MB);function FB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const UB=y.forwardRef(FB);function BB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const Ef=y.forwardRef(BB);function WB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const J2=y.forwardRef(WB);function zB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const k7=y.forwardRef(zB);function qB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const HB=y.forwardRef(qB);function VB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const KB=y.forwardRef(VB);function GB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Xg=y.forwardRef(GB);function YB({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const ZB=y.forwardRef(YB);var Ss=tT();const o2e=ha(Ss);function ml(t,e,n){let r=n.initialDeps??[],i,s=!0;function a(){var o,l,d;let u;n.key&&((o=n.debug)!=null&&o.call(n))&&(u=Date.now());const h=t();if(!(h.length!==r.length||h.some((g,m)=>r[m]!==g)))return i;r=h;let f;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(f=Date.now()),i=e(...h),n.key&&((d=n.debug)!=null&&d.call(n))){const g=Math.round((Date.now()-u)*100)/100,m=Math.round((Date.now()-f)*100)/100,w=m/16,v=(C,_)=>{for(C=String(C);C.length<_;)C=" "+C;return C};console.info(`%c ${v(m,5)} /${v(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,n==null?void 0:n.key)}return n!=null&&n.onChange&&!(s&&n.skipInitialOnChange)&&n.onChange(i),s=!1,i}return a.updateDeps=o=>{r=o},a}function s3(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const JB=(t,e)=>Math.abs(t-e)<1.01,QB=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},a3=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},XB=t=>t,eW=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},tW=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=a=>{const{width:o,height:l}=a;e({width:Math.round(o),height:Math.round(l)})};if(i(a3(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(a=>{const o=()=>{const l=a[0];if(l!=null&&l.borderBoxSize){const d=l.borderBoxSize[0];if(d){i({width:d.inlineSize,height:d.blockSize});return}}i(a3(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},o3={passive:!0},l3=typeof window>"u"?!0:"onscrollend"in window,nW=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&l3?()=>{}:QB(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),a=u=>()=>{const{horizontal:h,isRtl:p}=t.options;i=h?n.scrollLeft*(p&&-1||1):n.scrollTop,s(),e(i,u)},o=a(!0),l=a(!1);l(),n.addEventListener("scroll",o,o3);const d=t.options.useScrollendEvent&&l3;return d&&n.addEventListener("scrollend",l,o3),()=>{n.removeEventListener("scroll",o),d&&n.removeEventListener("scrollend",l)}},rW=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},iW=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const a=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class sW{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const a=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:XB,rangeExtractor:eW,onChange:()=>{},measureElement:rW,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=ml(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let a=r-1;a>=0;a--){const o=n[a];if(i.has(o.lane))continue;const l=s.get(o.lane);if(l==null||o.end>l.end?s.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,o)=>a.end===o.end?a.index-o.index:a.end-o.end)[0]:void 0},this.getMeasurementOptions=ml(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,i,s,a,o)=>(this.prevLanes!==void 0&&this.prevLanes!==o&&(this.lanesChangedFlag=!0),this.prevLanes=o,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:a,lanes:o}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=ml(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:a,lanes:o},l)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const p of this.laneAssignments.keys())p>=n&&this.laneAssignments.delete(p);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(p=>{this.itemSizeCache.set(p.key,p.size)}));const d=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const u=this.measurementsCache.slice(0,d),h=new Array(o).fill(void 0);for(let p=0;p<d;p++){const f=u[p];f&&(h[f.lane]=p)}for(let p=d;p<n;p++){const f=s(p),g=this.laneAssignments.get(p);let m,w;if(g!==void 0&&this.options.lanes>1){m=g;const E=h[m],x=E!==void 0?u[E]:void 0;w=x?x.end+this.options.gap:r+i}else{const E=this.options.lanes===1?u[p-1]:this.getFurthestMeasurement(u,p);w=E?E.end+this.options.gap:r+i,m=E?E.lane:p%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(p,m)}const v=l.get(f),C=typeof v=="number"?v:this.options.estimateSize(p),_=w+C;u[p]={index:p,start:w,size:C,end:_,key:f,lane:m},h[m]=p}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ml(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?aW({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ml(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,a)=>s===null||a===null?[]:n({startIndex:s,endIndex:a,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const a=s.key,o=this.elementsCache.get(a);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,a=r-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,a,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=ml(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,a=n.length;s<a;s++){const o=n[s],l=r[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return s3(r[$7(0,r.length-1,i=>s3(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const s=this.getSize(),a=this.getScrollOffset();r==="auto"&&(r=n>=a+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const o=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(i.end>=a+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const a=10,o=d=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(n,d);if(!u){console.warn("Failed to get offset for index:",n);return}const[h,p]=u;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const f=this.getScrollOffset(),g=this.getOffsetForIndex(n,p);if(!g){console.warn("Failed to get offset for index:",n);return}JB(g[0],f)||l(p)})},l=d=>{this.targetWindow&&(s++,s<a?this.targetWindow.requestAnimationFrame(()=>o(d)):console.warn(`Failed to scroll to index ${n} after ${a} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let a=r.length-1;for(;a>=0&&s.some(o=>o===null);){const o=r[a];s[o.lane]===null&&(s[o.lane]=o.end),a--}i=Math.max(...s.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const $7=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function aW({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let a=$7(0,i,s,n),o=a;if(r===1)for(;o<i&&t[o].end<n+e;)o++;else if(r>1){const l=Array(r).fill(0);for(;o<i&&l.some(u=>u<n+e);){const u=t[o];l[u.lane]=u.end,o++}const d=Array(r).fill(n+e);for(;a>=0&&d.some(u=>u>=n);){const u=t[a];d[u.lane]=u.start,a--}a=Math.max(0,a-a%r),o=Math.min(i,o+(r-1-o%r))}return{startIndex:a,endIndex:o}}const c3=typeof document<"u"?y.useLayoutEffect:y.useEffect;function oW(t){const e=y.useReducer(()=>({}),{})[1],n={...t,onChange:(i,s)=>{var a;s?Ss.flushSync(e):e(),(a=t.onChange)==null||a.call(t,i,s)}},[r]=y.useState(()=>new sW(n));return r.setOptions(n),c3(()=>r._didMount(),[]),c3(()=>r._willUpdate()),r}function lW(t){return oW({observeElementRect:tW,observeElementOffset:nW,scrollToFn:iW,...t})}var yl={},em,d3;function cW(){return d3||(d3=1,em=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),em}var tm={},va={},u3;function Qo(){if(u3)return va;u3=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return va.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},va.getSymbolTotalCodewords=function(r){return e[r]},va.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},va.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},va.isKanjiModeEnabled=function(){return typeof t<"u"},va.toSJIS=function(r){return t(r)},va}var nm={},h3;function Q2(){return h3||(h3=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(nm)),nm}var rm,p3;function dW(){if(p3)return rm;p3=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},rm=t,rm}var im,f3;function uW(){if(f3)return im;f3=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},im=t,im}var sm={},g3;function hW(){return g3||(g3=1,(function(t){const e=Qo().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,o=[s-7];for(let l=1;l<i-1;l++)o[l]=o[l-1]-a;return o.push(6),o.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),a=s.length;for(let o=0;o<a;o++)for(let l=0;l<a;l++)o===0&&l===0||o===0&&l===a-1||o===a-1&&l===0||i.push([s[o],s[l]]);return i}})(sm)),sm}var am={},m3;function pW(){if(m3)return am;m3=1;const t=Qo().getSymbolSize,e=7;return am.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},am}var om={},y3;function fW(){return y3||(y3=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let a=0,o=0,l=0,d=null,u=null;for(let h=0;h<s;h++){o=l=0,d=u=null;for(let p=0;p<s;p++){let f=i.get(h,p);f===d?o++:(o>=5&&(a+=e.N1+(o-5)),d=f,o=1),f=i.get(p,h),f===u?l++:(l>=5&&(a+=e.N1+(l-5)),u=f,l=1)}o>=5&&(a+=e.N1+(o-5)),l>=5&&(a+=e.N1+(l-5))}return a},t.getPenaltyN2=function(i){const s=i.size;let a=0;for(let o=0;o<s-1;o++)for(let l=0;l<s-1;l++){const d=i.get(o,l)+i.get(o,l+1)+i.get(o+1,l)+i.get(o+1,l+1);(d===4||d===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const s=i.size;let a=0,o=0,l=0;for(let d=0;d<s;d++){o=l=0;for(let u=0;u<s;u++)o=o<<1&2047|i.get(d,u),u>=10&&(o===1488||o===93)&&a++,l=l<<1&2047|i.get(u,d),u>=10&&(l===1488||l===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let l=0;l<a;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const a=s.size;for(let o=0;o<a;o++)for(let l=0;l<a;l++)s.isReserved(l,o)||s.xor(l,o,n(i,l,o))},t.getBestMask=function(i,s){const a=Object.keys(t.Patterns).length;let o=0,l=1/0;for(let d=0;d<a;d++){s(d),t.applyMask(d,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),u<l&&(l=u,o=d)}return o}})(om)),om}var oh={},w3;function I7(){if(w3)return oh;w3=1;const t=Q2(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return oh.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},oh.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},oh}var lm={},Bc={},v3;function gW(){if(v3)return Bc;v3=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Bc.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Bc.exp=function(r){return t[r]},Bc.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},Bc}var b3;function mW(){return b3||(b3=1,(function(t){const e=gW();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let a=0;a<r.length;a++)for(let o=0;o<i.length;o++)s[a+o]^=e.mul(r[a],i[o]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const a=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],a);let o=0;for(;o<s.length&&s[o]===0;)o++;s=s.slice(o)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(lm)),lm}var cm,x3;function yW(){if(x3)return cm;x3=1;const t=mW();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),a=this.degree-s.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(s,a),o}return s},cm=e,cm}var dm={},um={},hm={},C3;function S7(){return C3||(C3=1,hm.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),hm}var os={},_3;function A7(){if(_3)return os;_3=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;os.KANJI=new RegExp(n,"g"),os.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),os.BYTE=new RegExp(r,"g"),os.NUMERIC=new RegExp(t,"g"),os.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return os.testKanji=function(l){return i.test(l)},os.testNumeric=function(l){return s.test(l)},os.testAlphanumeric=function(l){return a.test(l)},os}var E3;function Xo(){return E3||(E3=1,(function(t){const e=S7(),n=A7();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,a){if(t.isValid(s))return s;try{return r(s)}catch{return a}}})(um)),um}var k3;function wW(){return k3||(k3=1,(function(t){const e=Qo(),n=I7(),r=Q2(),i=Xo(),s=S7(),a=7973,o=e.getBCHDigit(a);function l(p,f,g){for(let m=1;m<=40;m++)if(f<=t.getCapacity(m,g,p))return m}function d(p,f){return i.getCharCountIndicator(p,f)+4}function u(p,f){let g=0;return p.forEach(function(m){const w=d(m.mode,f);g+=w+m.getBitsLength()}),g}function h(p,f){for(let g=1;g<=40;g++)if(u(p,g)<=t.getCapacity(g,f,i.MIXED))return g}t.from=function(f,g){return s.isValid(f)?parseInt(f,10):g},t.getCapacity=function(f,g,m){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const w=e.getSymbolTotalCodewords(f),v=n.getTotalCodewordsCount(f,g),C=(w-v)*8;if(m===i.MIXED)return C;const _=C-d(m,f);switch(m){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(f,g){let m;const w=r.from(g,r.M);if(Array.isArray(f)){if(f.length>1)return h(f,w);if(f.length===0)return 1;m=f[0]}else m=f;return l(m.mode,m.getLength(),w)},t.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let g=f<<12;for(;e.getBCHDigit(g)-o>=0;)g^=a<<e.getBCHDigit(g)-o;return f<<12|g}})(dm)),dm}var pm={},$3;function vW(){if($3)return pm;$3=1;const t=Qo(),e=1335,n=21522,r=t.getBCHDigit(e);return pm.getEncodedBits=function(s,a){const o=s.bit<<3|a;let l=o<<10;for(;t.getBCHDigit(l)-r>=0;)l^=e<<t.getBCHDigit(l)-r;return(o<<10|l)^n},pm}var fm={},gm,I3;function bW(){if(I3)return gm;I3=1;const t=Xo();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,a;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),a=parseInt(s,10),r.put(a,10);const o=this.data.length-i;o>0&&(s=this.data.substr(i),a=parseInt(s,10),r.put(a,o*3+1))},gm=e,gm}var mm,S3;function xW(){if(S3)return mm;S3=1;const t=Xo(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let a=e.indexOf(this.data[s])*45;a+=e.indexOf(this.data[s+1]),i.put(a,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},mm=n,mm}var ym,A3;function CW(){if(A3)return ym;A3=1;const t=Xo();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},ym=e,ym}var wm,T3;function _W(){if(T3)return wm;T3=1;const t=Xo(),e=Qo();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},wm=n,wm}var vm={exports:{}},P3;function EW(){return P3||(P3=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},a={};a[r]=0;var o=e.PriorityQueue.make();o.push(r,0);for(var l,d,u,h,p,f,g,m,w;!o.empty();){l=o.pop(),d=l.value,h=l.cost,p=n[d]||{};for(u in p)p.hasOwnProperty(u)&&(f=p[u],g=h+f,m=a[u],w=typeof a[u]>"u",(w||m>g)&&(a[u]=g,o.push(u,g),s[u]=d))}if(typeof i<"u"&&typeof a[i]>"u"){var v=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(v)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(vm)),vm.exports}var D3;function kW(){return D3||(D3=1,(function(t){const e=Xo(),n=bW(),r=xW(),i=CW(),s=_W(),a=A7(),o=Qo(),l=EW();function d(v){return unescape(encodeURIComponent(v)).length}function u(v,C,_){const E=[];let x;for(;(x=v.exec(_))!==null;)E.push({data:x[0],index:x.index,mode:C,length:x[0].length});return E}function h(v){const C=u(a.NUMERIC,e.NUMERIC,v),_=u(a.ALPHANUMERIC,e.ALPHANUMERIC,v);let E,x;return o.isKanjiModeEnabled()?(E=u(a.BYTE,e.BYTE,v),x=u(a.KANJI,e.KANJI,v)):(E=u(a.BYTE_KANJI,e.BYTE,v),x=[]),C.concat(_,E,x).sort(function(k,S){return k.index-S.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function p(v,C){switch(C){case e.NUMERIC:return n.getBitsLength(v);case e.ALPHANUMERIC:return r.getBitsLength(v);case e.KANJI:return s.getBitsLength(v);case e.BYTE:return i.getBitsLength(v)}}function f(v){return v.reduce(function(C,_){const E=C.length-1>=0?C[C.length-1]:null;return E&&E.mode===_.mode?(C[C.length-1].data+=_.data,C):(C.push(_),C)},[])}function g(v){const C=[];for(let _=0;_<v.length;_++){const E=v[_];switch(E.mode){case e.NUMERIC:C.push([E,{data:E.data,mode:e.ALPHANUMERIC,length:E.length},{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.ALPHANUMERIC:C.push([E,{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.KANJI:C.push([E,{data:E.data,mode:e.BYTE,length:d(E.data)}]);break;case e.BYTE:C.push([{data:E.data,mode:e.BYTE,length:d(E.data)}])}}return C}function m(v,C){const _={},E={start:{}};let x=["start"];for(let b=0;b<v.length;b++){const k=v[b],S=[];for(let I=0;I<k.length;I++){const $=k[I],A=""+b+I;S.push(A),_[A]={node:$,lastCount:0},E[A]={};for(let N=0;N<x.length;N++){const O=x[N];_[O]&&_[O].node.mode===$.mode?(E[O][A]=p(_[O].lastCount+$.length,$.mode)-p(_[O].lastCount,$.mode),_[O].lastCount+=$.length):(_[O]&&(_[O].lastCount=$.length),E[O][A]=p($.length,$.mode)+4+e.getCharCountIndicator($.mode,C))}}x=S}for(let b=0;b<x.length;b++)E[x[b]].end=0;return{map:E,table:_}}function w(v,C){let _;const E=e.getBestModeForData(v);if(_=e.from(C,E),_!==e.BYTE&&_.bit<E.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(E));switch(_===e.KANJI&&!o.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(v);case e.ALPHANUMERIC:return new r(v);case e.KANJI:return new s(v);case e.BYTE:return new i(v)}}t.fromArray=function(C){return C.reduce(function(_,E){return typeof E=="string"?_.push(w(E,null)):E.data&&_.push(w(E.data,E.mode)),_},[])},t.fromString=function(C,_){const E=h(C,o.isKanjiModeEnabled()),x=g(E),b=m(x,_),k=l.find_path(b.map,"start","end"),S=[];for(let I=1;I<k.length-1;I++)S.push(b.table[k[I]].node);return t.fromArray(f(S))},t.rawSplit=function(C){return t.fromArray(h(C,o.isKanjiModeEnabled()))}})(fm)),fm}var N3;function $W(){if(N3)return tm;N3=1;const t=Qo(),e=Q2(),n=dW(),r=uW(),i=hW(),s=pW(),a=fW(),o=I7(),l=yW(),d=wW(),u=vW(),h=Xo(),p=kW();function f(b,k){const S=b.size,I=s.getPositions(k);for(let $=0;$<I.length;$++){const A=I[$][0],N=I[$][1];for(let O=-1;O<=7;O++)if(!(A+O<=-1||S<=A+O))for(let D=-1;D<=7;D++)N+D<=-1||S<=N+D||(O>=0&&O<=6&&(D===0||D===6)||D>=0&&D<=6&&(O===0||O===6)||O>=2&&O<=4&&D>=2&&D<=4?b.set(A+O,N+D,!0,!0):b.set(A+O,N+D,!1,!0))}}function g(b){const k=b.size;for(let S=8;S<k-8;S++){const I=S%2===0;b.set(S,6,I,!0),b.set(6,S,I,!0)}}function m(b,k){const S=i.getPositions(k);for(let I=0;I<S.length;I++){const $=S[I][0],A=S[I][1];for(let N=-2;N<=2;N++)for(let O=-2;O<=2;O++)N===-2||N===2||O===-2||O===2||N===0&&O===0?b.set($+N,A+O,!0,!0):b.set($+N,A+O,!1,!0)}}function w(b,k){const S=b.size,I=d.getEncodedBits(k);let $,A,N;for(let O=0;O<18;O++)$=Math.floor(O/3),A=O%3+S-8-3,N=(I>>O&1)===1,b.set($,A,N,!0),b.set(A,$,N,!0)}function v(b,k,S){const I=b.size,$=u.getEncodedBits(k,S);let A,N;for(A=0;A<15;A++)N=($>>A&1)===1,A<6?b.set(A,8,N,!0):A<8?b.set(A+1,8,N,!0):b.set(I-15+A,8,N,!0),A<8?b.set(8,I-A-1,N,!0):A<9?b.set(8,15-A-1+1,N,!0):b.set(8,15-A-1,N,!0);b.set(I-8,8,1,!0)}function C(b,k){const S=b.size;let I=-1,$=S-1,A=7,N=0;for(let O=S-1;O>0;O-=2)for(O===6&&O--;;){for(let D=0;D<2;D++)if(!b.isReserved($,O-D)){let M=!1;N<k.length&&(M=(k[N]>>>A&1)===1),b.set($,O-D,M),A--,A===-1&&(N++,A=7)}if($+=I,$<0||S<=$){$-=I,I=-I;break}}}function _(b,k,S){const I=new n;S.forEach(function(D){I.put(D.mode.bit,4),I.put(D.getLength(),h.getCharCountIndicator(D.mode,b)),D.write(I)});const $=t.getSymbolTotalCodewords(b),A=o.getTotalCodewordsCount(b,k),N=($-A)*8;for(I.getLengthInBits()+4<=N&&I.put(0,4);I.getLengthInBits()%8!==0;)I.putBit(0);const O=(N-I.getLengthInBits())/8;for(let D=0;D<O;D++)I.put(D%2?17:236,8);return E(I,b,k)}function E(b,k,S){const I=t.getSymbolTotalCodewords(k),$=o.getTotalCodewordsCount(k,S),A=I-$,N=o.getBlocksCount(k,S),O=I%N,D=N-O,M=Math.floor(I/N),B=Math.floor(A/N),U=B+1,L=M-B,T=new l(L);let j=0;const W=new Array(N),Z=new Array(N);let z=0;const ie=new Uint8Array(b.buffer);for(let he=0;he<N;he++){const xe=he<D?B:U;W[he]=ie.slice(j,j+xe),Z[he]=T.encode(W[he]),j+=xe,z=Math.max(z,xe)}const V=new Uint8Array(I);let ee=0,ae,te;for(ae=0;ae<z;ae++)for(te=0;te<N;te++)ae<W[te].length&&(V[ee++]=W[te][ae]);for(ae=0;ae<L;ae++)for(te=0;te<N;te++)V[ee++]=Z[te][ae];return V}function x(b,k,S,I){let $;if(Array.isArray(b))$=p.fromArray(b);else if(typeof b=="string"){let M=k;if(!M){const B=p.rawSplit(b);M=d.getBestVersionForData(B,S)}$=p.fromString(b,M||40)}else throw new Error("Invalid data");const A=d.getBestVersionForData($,S);if(!A)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=A;else if(k<A)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+A+`.
`);const N=_(k,S,$),O=t.getSymbolSize(k),D=new r(O);return f(D,k),g(D),m(D,k),v(D,S,0),k>=7&&w(D,k),C(D,N),isNaN(I)&&(I=a.getBestMask(D,v.bind(null,D,S))),a.applyMask(I,D),v(D,S,I),{modules:D,version:k,errorCorrectionLevel:S,maskPattern:I,segments:$}}return tm.create=function(k,S){if(typeof k>"u"||k==="")throw new Error("No input text");let I=e.M,$,A;return typeof S<"u"&&(I=e.from(S.errorCorrectionLevel,e.M),$=d.from(S.version),A=a.from(S.maskPattern),S.toSJISFunc&&t.setToSJISFunction(S.toSJISFunc)),x(k,$,I,A)},tm}var bm={},xm={},j3;function T7(){return j3||(j3=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const a=i.modules.size,o=i.modules.data,l=t.getScale(a,s),d=Math.floor((a+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let p=0;p<d;p++)for(let f=0;f<d;f++){let g=(p*d+f)*4,m=s.color.light;if(p>=u&&f>=u&&p<d-u&&f<d-u){const w=Math.floor((p-u)/l),v=Math.floor((f-u)/l);m=h[o[w*a+v]?1:0]}r[g++]=m.r,r[g++]=m.g,r[g++]=m.b,r[g]=m.a}}})(xm)),xm}var O3;function IW(){return O3||(O3=1,(function(t){const e=T7();function n(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,a,o){let l=o,d=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(d=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=d.getContext("2d"),p=h.createImageData(u,u);return e.qrToImageData(p.data,s,l),n(h,d,u),h.putImageData(p,0,0),d},t.renderToDataURL=function(s,a,o){let l=o;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const d=t.render(s,a,l),u=l.type||"image/png",h=l.rendererOpts||{};return d.toDataURL(u,h.quality)}})(bm)),bm}var Cm={},R3;function SW(){if(R3)return Cm;R3=1;const t=T7();function e(i,s){const a=i.a/255,o=s+'="'+i.hex+'"';return a<1?o+" "+s+'-opacity="'+a.toFixed(2).slice(1)+'"':o}function n(i,s,a){let o=i+s;return typeof a<"u"&&(o+=" "+a),o}function r(i,s,a){let o="",l=0,d=!1,u=0;for(let h=0;h<i.length;h++){const p=Math.floor(h%s),f=Math.floor(h/s);!p&&!d&&(d=!0),i[h]?(u++,h>0&&p>0&&i[h-1]||(o+=d?n("M",p+a,.5+f+a):n("m",l,0),l=0,d=!1),p+1<s&&i[h+1]||(o+=n("h",u),u=0)):l++}return o}return Cm.render=function(s,a,o){const l=t.getOptions(a),d=s.modules.size,u=s.modules.data,h=d+l.margin*2,p=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",f="<path "+e(l.color.dark,"stroke")+' d="'+r(u,d,l.margin)+'"/>',g='viewBox="0 0 '+h+" "+h+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+g+' shape-rendering="crispEdges">'+p+f+`</svg>
`;return typeof o=="function"&&o(null,w),w},Cm}var M3;function AW(){if(M3)return yl;M3=1;const t=cW(),e=$W(),n=IW(),r=SW();function i(s,a,o,l,d){const u=[].slice.call(arguments,1),h=u.length,p=typeof u[h-1]=="function";if(!p&&!t())throw new Error("Callback required as last argument");if(p){if(h<2)throw new Error("Too few arguments provided");h===2?(d=o,o=a,a=l=void 0):h===3&&(a.getContext&&typeof d>"u"?(d=l,l=void 0):(d=l,l=o,o=a,a=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(o=a,a=l=void 0):h===2&&!a.getContext&&(l=o,o=a,a=void 0),new Promise(function(f,g){try{const m=e.create(o,l);f(s(m,a,l))}catch(m){g(m)}})}try{const f=e.create(o,l);d(null,s(f,a,l))}catch(f){d(f)}}return yl.create=e.create,yl.toCanvas=i.bind(null,n.render),yl.toDataURL=i.bind(null,n.renderToDataURL),yl.toString=i.bind(null,function(s,a,o){return r.render(s,o)}),yl}var TW=AW();const PW=ha(TW);function iu(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function A0(t){return iu(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const P7="2.31.0";let Wc={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${P7}`};class Uo extends Error{constructor(e,n={}){var o;const r=(()=>{var l;return n.cause instanceof Uo?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof Uo&&n.cause.docsPath||n.docsPath,s=(o=Wc.getDocsUrl)==null?void 0:o.call(Wc,{...n,docsPath:i}),a=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Wc.version?[`Version: ${Wc.version}`]:[]].join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=P7}walk(e){return D7(this,e)}}function D7(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?D7(t.cause,e):e?null:t}class N7 extends Uo{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ac(t,{dir:e,size:n=32}={}){return typeof t=="string"?DW(t,{dir:e,size:n}):NW(t,{dir:e,size:n})}function DW(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new N7({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function NW(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new N7({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class jW extends Uo{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class OW extends Uo{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Tc(t,{size:e}){if(A0(t)>e)throw new OW({givenSize:A0(t),maxSize:e})}function T0(t,e={}){const{signed:n}=e;e.size&&Tc(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function RW(t,e={}){return Number(T0(t,e))}const MW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function P0(t,e={}){return typeof t=="number"||typeof t=="bigint"?O7(t,e):typeof t=="string"?UW(t,e):typeof t=="boolean"?LW(t,e):j7(t,e)}function LW(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Tc(n,{size:e.size}),Ac(n,{size:e.size})):n}function j7(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=MW[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Tc(r,{size:e.size}),Ac(r,{dir:"right",size:e.size})):r}function O7(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<a){const l=typeof t=="bigint"?"n":"";throw new jW({max:s?`${s}${l}`:void 0,min:`${a}${l}`,signed:n,size:r,value:`${t}${l}`})}const o=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Ac(o,{size:r}):o}const FW=new TextEncoder;function UW(t,e={}){const n=FW.encode(t);return j7(n,e)}const BW=new TextEncoder;function WW(t,e={}){return typeof t=="number"||typeof t=="bigint"?qW(t,e):typeof t=="boolean"?zW(t,e):iu(t)?R7(t,e):M7(t,e)}function zW(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Tc(n,{size:e.size}),Ac(n,{size:e.size})):n}const Ls={zero:48,nine:57,A:65,F:70,a:97,f:102};function L3(t){if(t>=Ls.zero&&t<=Ls.nine)return t-Ls.zero;if(t>=Ls.A&&t<=Ls.F)return t-(Ls.A-10);if(t>=Ls.a&&t<=Ls.f)return t-(Ls.a-10)}function R7(t,e={}){let n=t;e.size&&(Tc(n,{size:e.size}),n=Ac(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let a=0,o=0;a<i;a++){const l=L3(r.charCodeAt(o++)),d=L3(r.charCodeAt(o++));if(l===void 0||d===void 0)throw new Uo(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);s[a]=l*16+d}return s}function qW(t,e){const n=O7(t,e);return R7(n)}function M7(t,e={}){const n=BW.encode(t);return typeof e.size=="number"?(Tc(n,{size:e.size}),Ac(n,{dir:"right",size:e.size})):n}function L7(t,e){const n=e||"hex",r=WA(iu(t,{strict:!1})?WW(t):t);return n==="bytes"?r:P0(r)}class HW extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const _m=new HW(8192);function VW(t,e){if(_m.has(`${t}.${e}`))return _m.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=L7(M7(n),"bytes"),i=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(r[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const s=`0x${i.join("")}`;return _m.set(`${t}.${e}`,s),s}function KW(t){const e=L7(`0x${t.substring(4)}`).substring(26);return VW(`0x${e}`)}async function GW({hash:t,signature:e}){const n=iu(t)?t:P0(t),{secp256k1:r}=await za(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Ez);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:d,s:u,v:h,yParity:p}=e,f=Number(p??h),g=F3(f);return new r.Signature(T0(d),T0(u)).addRecoveryBit(g)}const a=iu(e)?e:P0(e);if(A0(a)!==65)throw new Error("invalid signature length");const o=RW(`0x${a.slice(130)}`),l=F3(o);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function F3(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function YW({hash:t,signature:e}){return KW(await GW({hash:t,signature:e}))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X2=BigInt(0),D0=BigInt(1);function Iu(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ew(t){if(!Iu(t))throw new Error("Uint8Array expected")}function su(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function lh(t){const e=t.toString(16);return e.length&1?"0"+e:e}function F7(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?X2:BigInt("0x"+t)}const U7=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ZW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function au(t){if(ew(t),U7)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=ZW[t[n]];return e}const Fs={_0:48,_9:57,A:65,F:70,a:97,f:102};function U3(t){if(t>=Fs._0&&t<=Fs._9)return t-Fs._0;if(t>=Fs.A&&t<=Fs.F)return t-(Fs.A-10);if(t>=Fs.a&&t<=Fs.f)return t-(Fs.a-10)}function bp(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(U7)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=U3(t.charCodeAt(s)),o=U3(t.charCodeAt(s+1));if(a===void 0||o===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=a*16+o}return r}function Do(t){return F7(au(t))}function B7(t){return ew(t),F7(au(Uint8Array.from(t).reverse()))}function Su(t,e){return bp(t.toString(16).padStart(e*2,"0"))}function W7(t,e){return Su(t,e).reverse()}function hi(t,e,n){let r;if(typeof e=="string")try{r=bp(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Iu(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function xp(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];ew(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Em=t=>typeof t=="bigint"&&X2<=t;function tw(t,e,n){return Em(t)&&Em(e)&&Em(n)&&e<=t&&t<n}function Ql(t,e,n,r){if(!tw(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function JW(t){let e;for(e=0;t>X2;t>>=D0,e+=1);return e}const kf=t=>(D0<<BigInt(t))-D0,km=t=>new Uint8Array(t),B3=t=>Uint8Array.from(t);function QW(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=km(t),i=km(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},o=(...h)=>n(i,r,...h),l=(h=km(0))=>{i=o(B3([0]),h),r=o(),h.length!==0&&(i=o(B3([1]),h),r=o())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<e;){r=o();const f=r.slice();p.push(f),h+=r.length}return xp(...p)};return(h,p)=>{a(),l(h);let f;for(;!(f=p(d()));)l();return a(),f}}const XW={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Iu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function $f(t,e,n={}){const r=(i,s,a)=>{const o=XW[s];if(typeof o!="function")throw new Error("invalid validator function");const l=t[i];if(!(a&&l===void 0)&&!o(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function W3(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jr=BigInt(0),wr=BigInt(1),Co=BigInt(2),ez=BigInt(3),z7=BigInt(4),q7=BigInt(5),H7=BigInt(8);function Ar(t,e){const n=t%e;return n>=jr?n:e+n}function ii(t,e,n){let r=t;for(;e-- >jr;)r*=r,r%=n;return r}function N0(t,e){if(t===jr)throw new Error("invert: expected non-zero number");if(e<=jr)throw new Error("invert: expected positive modulus, got "+e);let n=Ar(t,e),r=e,i=jr,s=wr;for(;n!==jr;){const o=r/n,l=r%n,d=i-s*o;r=n,n=l,i=s,s=d}if(r!==wr)throw new Error("invert: does not exist");return Ar(i,e)}function V7(t,e){const n=(t.ORDER+wr)/z7,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function tz(t,e){const n=(t.ORDER-q7)/H7,r=t.mul(e,Co),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,Co),i),o=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function nz(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-wr,n=0;for(;e%Co===jr;)e/=Co,n++;let r=Co;const i=nw(t);for(;z3(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return V7;let s=i.pow(r,e);const a=(e+wr)/Co;return function(l,d){if(l.is0(d))return d;if(z3(l,d)!==1)throw new Error("Cannot find square root");let u=n,h=l.mul(l.ONE,s),p=l.pow(d,e),f=l.pow(d,a);for(;!l.eql(p,l.ONE);){if(l.is0(p))return l.ZERO;let g=1,m=l.sqr(p);for(;!l.eql(m,l.ONE);)if(g++,m=l.sqr(m),g===u)throw new Error("Cannot find square root");const w=wr<<BigInt(u-g-1),v=l.pow(h,w);u=g,h=l.sqr(v),p=l.mul(p,h),f=l.mul(f,v)}return f}}function rz(t){return t%z7===ez?V7:t%H7===q7?tz:nz(t)}const iz=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sz(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=iz.reduce((r,i)=>(r[i]="function",r),e);return $f(t,n)}function az(t,e,n){if(n<jr)throw new Error("invalid exponent, negatives unsupported");if(n===jr)return t.ONE;if(n===wr)return e;let r=t.ONE,i=e;for(;n>jr;)n&wr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=wr;return r}function K7(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,o,l)=>t.is0(o)?a:(r[l]=a,t.mul(a,o)),t.ONE),s=t.inv(i);return e.reduceRight((a,o,l)=>t.is0(o)?a:(r[l]=t.mul(a,r[l]),t.mul(a,o)),s),r}function z3(t,e){const n=(t.ORDER-wr)/Co,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function G7(t,e){e!==void 0&&zA(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function nw(t,e,n=!1,r={}){if(t<=jr)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=G7(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:kf(i),ZERO:jr,ONE:wr,create:l=>Ar(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return jr<=l&&l<t},is0:l=>l===jr,isOdd:l=>(l&wr)===wr,neg:l=>Ar(-l,t),eql:(l,d)=>l===d,sqr:l=>Ar(l*l,t),add:(l,d)=>Ar(l+d,t),sub:(l,d)=>Ar(l-d,t),mul:(l,d)=>Ar(l*d,t),pow:(l,d)=>az(o,l,d),div:(l,d)=>Ar(l*N0(d,t),t),sqrN:l=>l*l,addN:(l,d)=>l+d,subN:(l,d)=>l-d,mulN:(l,d)=>l*d,inv:l=>N0(l,t),sqrt:r.sqrt||(l=>(a||(a=rz(t)),a(o,l))),toBytes:l=>n?W7(l,s):Su(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return n?B7(l):Do(l)},invertBatch:l=>K7(o,l),cmov:(l,d,u)=>u?d:l});return Object.freeze(o)}function Y7(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Z7(t){const e=Y7(t);return e+Math.ceil(e/2)}function oz(t,e,n=!1){const r=t.length,i=Y7(e),s=Z7(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?B7(t):Do(t),o=Ar(a,e-wr)+wr;return n?W7(o,i):Su(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const q3=BigInt(0),j0=BigInt(1);function $m(t,e){const n=e.negate();return t?n:e}function J7(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Im(t,e){J7(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=kf(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function H3(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let o=Number(t&i),l=t>>a;o>r&&(o-=s,l+=j0);const d=e*r,u=d+Math.abs(o)-1,h=o===0,p=o<0,f=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:p,isNegF:f,offsetF:d}}function lz(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function cz(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Sm=new WeakMap,Q7=new WeakMap;function Am(t){return Q7.get(t)||1}function dz(t,e){return{constTimeNegate:$m,hasPrecomputes(n){return Am(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>q3;)r&j0&&(i=i.add(s)),s=s.double(),r>>=j0;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Im(r,e),a=[];let o=n,l=o;for(let d=0;d<i;d++){l=o,a.push(l);for(let u=1;u<s;u++)l=l.add(o),a.push(l);o=l.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const o=Im(n,e);for(let l=0;l<o.windows;l++){const{nextN:d,offset:u,isZero:h,isNeg:p,isNegF:f,offsetF:g}=H3(i,l,o);i=d,h?a=a.add($m(f,r[g])):s=s.add($m(p,r[u]))}return{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=Im(n,e);for(let o=0;o<a.windows&&i!==q3;o++){const{nextN:l,offset:d,isZero:u,isNeg:h}=H3(i,o,a);if(i=l,!u){const p=r[d];s=s.add(h?p.negate():p)}}return s},getPrecomputes(n,r,i){let s=Sm.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Sm.set(r,i(s))),s},wNAFCached(n,r,i){const s=Am(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=Am(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){J7(r,e),Q7.set(n,r),Sm.delete(n)}}}function uz(t,e,n,r){lz(n,t),cz(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=JW(BigInt(i));let l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);const d=kf(l),u=new Array(Number(d)+1).fill(a),h=Math.floor((e.BITS-1)/l)*l;let p=a;for(let f=h;f>=0;f-=l){u.fill(a);for(let m=0;m<s;m++){const w=r[m],v=Number(w>>BigInt(f)&d);u[v]=u[v].add(n[m])}let g=a;for(let m=u.length-1,w=a;m>0;m--)w=w.add(u[m]),g=g.add(w);if(p=p.add(g),f!==0)for(let m=0;m<l;m++)p=p.double()}return p}function X7(t){return sz(t.Fp),$f(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...G7(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function V3(t){t.lowS!==void 0&&su("lowS",t.lowS),t.prehash!==void 0&&su("prehash",t.prehash)}function hz(t){const e=X7(t);$f(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class pz extends Error{constructor(e=""){super(e)}}const Zs={Err:pz,_tlv:{encode:(t,e)=>{const{Err:n}=Zs;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=lh(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?lh(i.length/2|128):"";return lh(t)+s+i+e},decode(t,e){const{Err:n}=Zs;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+l);if(d.length!==l)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of d)a=a<<8|u;if(r+=l,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=Zs;if(t<ea)throw new e("integer: negative integers are not allowed");let n=lh(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Zs;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Do(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Zs,i=hi("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l}=r.decode(2,s),{v:d,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=Zs,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function Tm(t,e){return au(Su(t,e))}const ea=BigInt(0),Bn=BigInt(1);BigInt(2);const Pm=BigInt(3),fz=BigInt(4);function gz(t){const e=hz(t),{Fp:n}=e,r=nw(e.n,e.nBitLength),i=e.toBytes||((_,E,x)=>{const b=E.toAffine();return xp(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),s=e.fromBytes||(_=>{const E=_.subarray(1),x=n.fromBytes(E.subarray(0,n.BYTES)),b=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x,y:b}});function a(_){const{a:E,b:x}=e,b=n.sqr(_),k=n.mul(b,_);return n.add(n.add(k,n.mul(_,E)),x)}function o(_,E){const x=n.sqr(E),b=a(_);return n.eql(x,b)}if(!o(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=n.mul(n.pow(e.a,Pm),fz),d=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(l,d)))throw new Error("bad curve params: a or b");function u(_){return tw(_,Bn,e.n)}function h(_){const{allowedPrivateKeyLengths:E,nByteLength:x,wrapPrivateKey:b,n:k}=e;if(E&&typeof _!="bigint"){if(Iu(_)&&(_=au(_)),typeof _!="string"||!E.includes(_.length))throw new Error("invalid private key");_=_.padStart(x*2,"0")}let S;try{S=typeof _=="bigint"?_:Do(hi("private key",_,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof _)}return b&&(S=Ar(S,k)),Ql("private key",S,Bn,k),S}function p(_){if(!(_ instanceof m))throw new Error("ProjectivePoint expected")}const f=W3((_,E)=>{const{px:x,py:b,pz:k}=_;if(n.eql(k,n.ONE))return{x,y:b};const S=_.is0();E==null&&(E=S?n.ONE:n.inv(k));const I=n.mul(x,E),$=n.mul(b,E),A=n.mul(k,E);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:I,y:$}}),g=W3(_=>{if(_.is0()){if(e.allowInfinityPoint&&!n.is0(_.py))return;throw new Error("bad point: ZERO")}const{x:E,y:x}=_.toAffine();if(!n.isValid(E)||!n.isValid(x))throw new Error("bad point: x or y not FE");if(!o(E,x))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m{constructor(E,x,b){if(E==null||!n.isValid(E))throw new Error("x required");if(x==null||!n.isValid(x)||n.is0(x))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required");this.px=E,this.py=x,this.pz=b,Object.freeze(this)}static fromAffine(E){const{x,y:b}=E||{};if(!E||!n.isValid(x)||!n.isValid(b))throw new Error("invalid affine point");if(E instanceof m)throw new Error("projective point not allowed");const k=S=>n.eql(S,n.ZERO);return k(x)&&k(b)?m.ZERO:new m(x,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const x=K7(n,E.map(b=>b.pz));return E.map((b,k)=>b.toAffine(x[k])).map(m.fromAffine)}static fromHex(E){const x=m.fromAffine(s(hi("pointHex",E)));return x.assertValidity(),x}static fromPrivateKey(E){return m.BASE.multiply(h(E))}static msm(E,x){return uz(m,r,E,x)}_setWindowSize(E){C.setWindowSize(this,E)}assertValidity(){g(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){p(E);const{px:x,py:b,pz:k}=this,{px:S,py:I,pz:$}=E,A=n.eql(n.mul(x,$),n.mul(S,k)),N=n.eql(n.mul(b,$),n.mul(I,k));return A&&N}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:x}=e,b=n.mul(x,Pm),{px:k,py:S,pz:I}=this;let $=n.ZERO,A=n.ZERO,N=n.ZERO,O=n.mul(k,k),D=n.mul(S,S),M=n.mul(I,I),B=n.mul(k,S);return B=n.add(B,B),N=n.mul(k,I),N=n.add(N,N),$=n.mul(E,N),A=n.mul(b,M),A=n.add($,A),$=n.sub(D,A),A=n.add(D,A),A=n.mul($,A),$=n.mul(B,$),N=n.mul(b,N),M=n.mul(E,M),B=n.sub(O,M),B=n.mul(E,B),B=n.add(B,N),N=n.add(O,O),O=n.add(N,O),O=n.add(O,M),O=n.mul(O,B),A=n.add(A,O),M=n.mul(S,I),M=n.add(M,M),O=n.mul(M,B),$=n.sub($,O),N=n.mul(M,D),N=n.add(N,N),N=n.add(N,N),new m($,A,N)}add(E){p(E);const{px:x,py:b,pz:k}=this,{px:S,py:I,pz:$}=E;let A=n.ZERO,N=n.ZERO,O=n.ZERO;const D=e.a,M=n.mul(e.b,Pm);let B=n.mul(x,S),U=n.mul(b,I),L=n.mul(k,$),T=n.add(x,b),j=n.add(S,I);T=n.mul(T,j),j=n.add(B,U),T=n.sub(T,j),j=n.add(x,k);let W=n.add(S,$);return j=n.mul(j,W),W=n.add(B,L),j=n.sub(j,W),W=n.add(b,k),A=n.add(I,$),W=n.mul(W,A),A=n.add(U,L),W=n.sub(W,A),O=n.mul(D,j),A=n.mul(M,L),O=n.add(A,O),A=n.sub(U,O),O=n.add(U,O),N=n.mul(A,O),U=n.add(B,B),U=n.add(U,B),L=n.mul(D,L),j=n.mul(M,j),U=n.add(U,L),L=n.sub(B,L),L=n.mul(D,L),j=n.add(j,L),B=n.mul(U,j),N=n.add(N,B),B=n.mul(W,j),A=n.mul(T,A),A=n.sub(A,B),B=n.mul(T,U),O=n.mul(W,O),O=n.add(O,B),new m(A,N,O)}subtract(E){return this.add(E.negate())}is0(){return this.equals(m.ZERO)}wNAF(E){return C.wNAFCached(this,E,m.normalizeZ)}multiplyUnsafe(E){const{endo:x,n:b}=e;Ql("scalar",E,ea,b);const k=m.ZERO;if(E===ea)return k;if(this.is0()||E===Bn)return this;if(!x||C.hasPrecomputes(this))return C.wNAFCachedUnsafe(this,E,m.normalizeZ);let{k1neg:S,k1:I,k2neg:$,k2:A}=x.splitScalar(E),N=k,O=k,D=this;for(;I>ea||A>ea;)I&Bn&&(N=N.add(D)),A&Bn&&(O=O.add(D)),D=D.double(),I>>=Bn,A>>=Bn;return S&&(N=N.negate()),$&&(O=O.negate()),O=new m(n.mul(O.px,x.beta),O.py,O.pz),N.add(O)}multiply(E){const{endo:x,n:b}=e;Ql("scalar",E,Bn,b);let k,S;if(x){const{k1neg:I,k1:$,k2neg:A,k2:N}=x.splitScalar(E);let{p:O,f:D}=this.wNAF($),{p:M,f:B}=this.wNAF(N);O=C.constTimeNegate(I,O),M=C.constTimeNegate(A,M),M=new m(n.mul(M.px,x.beta),M.py,M.pz),k=O.add(M),S=D.add(B)}else{const{p:I,f:$}=this.wNAF(E);k=I,S=$}return m.normalizeZ([k,S])[0]}multiplyAndAddUnsafe(E,x,b){const k=m.BASE,S=($,A)=>A===ea||A===Bn||!$.equals(k)?$.multiplyUnsafe(A):$.multiply(A),I=S(this,x).add(S(E,b));return I.is0()?void 0:I}toAffine(E){return f(this,E)}isTorsionFree(){const{h:E,isTorsionFree:x}=e;if(E===Bn)return!0;if(x)return x(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:x}=e;return E===Bn?this:x?x(m,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return su("isCompressed",E),this.assertValidity(),i(m,this,E)}toHex(E=!0){return su("isCompressed",E),au(this.toRawBytes(E))}}m.BASE=new m(e.Gx,e.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:v}=e,C=dz(m,w?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:h,weierstrassEquation:a,isWithinCurveOrder:u}}function mz(t){const e=X7(t);return $f(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function yz(t){const e=mz(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,a=n.BYTES+1,o=2*n.BYTES+1;function l(M){return Ar(M,r)}function d(M){return N0(M,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:p,isWithinCurveOrder:f}=gz({...e,toBytes(M,B,U){const L=B.toAffine(),T=n.toBytes(L.x),j=xp;return su("isCompressed",U),U?j(Uint8Array.from([B.hasEvenY()?2:3]),T):j(Uint8Array.from([4]),T,n.toBytes(L.y))},fromBytes(M){const B=M.length,U=M[0],L=M.subarray(1);if(B===a&&(U===2||U===3)){const T=Do(L);if(!tw(T,Bn,n.ORDER))throw new Error("Point is not on curve");const j=p(T);let W;try{W=n.sqrt(j)}catch(ie){const V=ie instanceof Error?": "+ie.message:"";throw new Error("Point is not on curve"+V)}const Z=(W&Bn)===Bn;return(U&1)===1!==Z&&(W=n.neg(W)),{x:T,y:W}}else if(B===o&&U===4){const T=n.fromBytes(L.subarray(0,n.BYTES)),j=n.fromBytes(L.subarray(n.BYTES,2*n.BYTES));return{x:T,y:j}}else{const T=a,j=o;throw new Error("invalid Point, expected length of "+T+", or uncompressed "+j+", got "+B)}}});function g(M){const B=r>>Bn;return M>B}function m(M){return g(M)?l(-M):M}const w=(M,B,U)=>Do(M.slice(B,U));class v{constructor(B,U,L){Ql("r",B,Bn,r),Ql("s",U,Bn,r),this.r=B,this.s=U,L!=null&&(this.recovery=L),Object.freeze(this)}static fromCompact(B){const U=i;return B=hi("compactSignature",B,U*2),new v(w(B,0,U),w(B,U,2*U))}static fromDER(B){const{r:U,s:L}=Zs.toSig(hi("DER",B));return new v(U,L)}assertValidity(){}addRecoveryBit(B){return new v(this.r,this.s,B)}recoverPublicKey(B){const{r:U,s:L,recovery:T}=this,j=k(hi("msgHash",B));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");const W=T===2||T===3?U+e.n:U;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=(T&1)===0?"02":"03",z=u.fromHex(Z+Tm(W,n.BYTES)),ie=d(W),V=l(-j*ie),ee=l(L*ie),ae=u.BASE.multiplyAndAddUnsafe(z,V,ee);if(!ae)throw new Error("point at infinify");return ae.assertValidity(),ae}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return bp(this.toDERHex())}toDERHex(){return Zs.hexFromSig(this)}toCompactRawBytes(){return bp(this.toCompactHex())}toCompactHex(){const B=i;return Tm(this.r,B)+Tm(this.s,B)}}const C={isValidPrivateKey(M){try{return h(M),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const M=Z7(e.n);return oz(e.randomBytes(M),e.n)},precompute(M=8,B=u.BASE){return B._setWindowSize(M),B.multiply(BigInt(3)),B}};function _(M,B=!0){return u.fromPrivateKey(M).toRawBytes(B)}function E(M){if(typeof M=="bigint")return!1;if(M instanceof u)return!0;const U=hi("key",M).length,L=n.BYTES,T=L+1,j=2*L+1;if(!(e.allowedPrivateKeyLengths||i===T))return U===T||U===j}function x(M,B,U=!0){if(E(M)===!0)throw new Error("first arg must be private key");if(E(B)===!1)throw new Error("second arg must be public key");return u.fromHex(B).multiply(h(M)).toRawBytes(U)}const b=e.bits2int||function(M){if(M.length>8192)throw new Error("input is too large");const B=Do(M),U=M.length*8-s;return U>0?B>>BigInt(U):B},k=e.bits2int_modN||function(M){return l(b(M))},S=kf(s);function I(M){return Ql("num < 2^"+s,M,ea,S),Su(M,i)}function $(M,B,U=A){if(["recovered","canonical"].some(he=>he in U))throw new Error("sign() legacy options not supported");const{hash:L,randomBytes:T}=e;let{lowS:j,prehash:W,extraEntropy:Z}=U;j==null&&(j=!0),M=hi("msgHash",M),V3(U),W&&(M=hi("prehashed msgHash",L(M)));const z=k(M),ie=h(B),V=[I(ie),I(z)];if(Z!=null&&Z!==!1){const he=Z===!0?T(n.BYTES):Z;V.push(hi("extraEntropy",he))}const ee=xp(...V),ae=z;function te(he){const xe=b(he);if(!f(xe))return;const ke=d(xe),Ue=u.BASE.multiply(xe).toAffine(),ge=l(Ue.x);if(ge===ea)return;const Ce=l(ke*l(ae+ge*ie));if(Ce===ea)return;let Ee=(Ue.x===ge?0:2)|Number(Ue.y&Bn),re=Ce;return j&&g(Ce)&&(re=m(Ce),Ee^=1),new v(ge,re,Ee)}return{seed:ee,k2sig:te}}const A={lowS:e.lowS,prehash:!1},N={lowS:e.lowS,prehash:!1};function O(M,B,U=A){const{seed:L,k2sig:T}=$(M,B,U),j=e;return QW(j.hash.outputLen,j.nByteLength,j.hmac)(L,T)}u.BASE._setWindowSize(8);function D(M,B,U,L=N){var Ee;const T=M;B=hi("msgHash",B),U=hi("publicKey",U);const{lowS:j,prehash:W,format:Z}=L;if(V3(L),"strict"in L)throw new Error("options.strict was renamed to lowS");if(Z!==void 0&&Z!=="compact"&&Z!=="der")throw new Error("format must be compact or der");const z=typeof T=="string"||Iu(T),ie=!z&&!Z&&typeof T=="object"&&T!==null&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!z&&!ie)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let V,ee;try{if(ie&&(V=new v(T.r,T.s)),z){try{Z!=="compact"&&(V=v.fromDER(T))}catch(re){if(!(re instanceof Zs.Err))throw re}!V&&Z!=="der"&&(V=v.fromCompact(T))}ee=u.fromHex(U)}catch{return!1}if(!V||j&&V.hasHighS())return!1;W&&(B=e.hash(B));const{r:ae,s:te}=V,he=k(B),xe=d(te),ke=l(he*xe),Ue=l(ae*xe),ge=(Ee=u.BASE.multiplyAndAddUnsafe(ee,ke,Ue))==null?void 0:Ee.toAffine();return ge?l(ge.x)===ae:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:x,sign:O,verify:D,ProjectivePoint:u,Signature:v,utils:C}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wz(t){return{hash:t,hmac:(e,...n)=>HA(t,e,VA(...n)),randomBytes:qA}}function vz(t,e){const n=r=>yz({...t,...wz(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e9=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),K3=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bz=BigInt(0),xz=BigInt(1),O0=BigInt(2),G3=(t,e)=>(t+e/O0)/e;function Cz(t){const e=e9,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),d=t*t*t%e,u=d*d*t%e,h=ii(u,n,e)*u%e,p=ii(h,n,e)*u%e,f=ii(p,O0,e)*d%e,g=ii(f,i,e)*f%e,m=ii(g,s,e)*g%e,w=ii(m,o,e)*m%e,v=ii(w,l,e)*w%e,C=ii(v,o,e)*m%e,_=ii(C,n,e)*u%e,E=ii(_,a,e)*g%e,x=ii(E,r,e)*d%e,b=ii(x,O0,e);if(!R0.eql(R0.sqr(b),t))throw new Error("Cannot find square root");return b}const R0=nw(e9,void 0,void 0,{sqrt:Cz}),_z=vz({a:bz,b:BigInt(7),Fp:R0,n:K3,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=K3,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-xz*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),o=G3(s*t,e),l=G3(-r*t,e);let d=Ar(t-o*n-l*i,e),u=Ar(-o*r-l*s,e);const h=d>a,p=u>a;if(h&&(d=e-d),p&&(u=e-u),d>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:d,k2neg:p,k2:u}}}},KA),Ez=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:_z},Symbol.toStringTag,{value:"Module"}));function rw(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function t9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?rw(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Cd(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=t9(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return rw(n)}function kz(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var o=t.length,l=t.charAt(0),d=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,v=0,C=g.length;v!==C&&g[v]===0;)v++,m++;for(var _=(C-v)*u+1>>>0,E=new Uint8Array(_);v!==C;){for(var x=g[v],b=0,k=_-1;(x!==0||b<w)&&k!==-1;k--,b++)x+=256*E[k]>>>0,E[k]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");w=b,v++}for(var S=_-w;S!==_&&E[S]===0;)S++;for(var I=l.repeat(m);S<_;++S)I+=t.charAt(E[S]);return I}function p(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,v=0;g[m]===l;)w++,m++;for(var C=(g.length-m)*d+1>>>0,_=new Uint8Array(C);g[m];){var E=n[g.charCodeAt(m)];if(E===255)return;for(var x=0,b=C-1;(E!==0||x<v)&&b!==-1;b--,x++)E+=o*_[b]>>>0,_[b]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");v=x,m++}if(g[m]!==" "){for(var k=C-v;k!==C&&_[k]===0;)k++;for(var S=new Uint8Array(w+(C-k)),I=w;k!==C;)S[I++]=_[k++];return S}}}function f(g){var m=p(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:f}}var $z=kz,Iz=$z;const Sz=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Az=t=>new TextEncoder().encode(t),Tz=t=>new TextDecoder().decode(t);let Pz=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Dz=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return n9(this,e)}},Nz=class{constructor(e){this.decoders=e}or(e){return n9(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const n9=(t,e)=>new Nz({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let jz=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Pz(e,n,r),this.decoder=new Dz(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const If=({name:t,prefix:e,encode:n,decode:r})=>new jz(t,e,n,r),Au=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Iz(n,e);return If({prefix:t,name:e,encode:r,decode:s=>Sz(i(s))})},Oz=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let o=0,l=0,d=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,o+=n,o>=8&&(o-=8,a[d++]=255&l>>o)}if(o>=n||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a},Rz=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],a+=8;a>n;)a-=n,s+=e[i&o>>a];if(a&&(s+=e[i&o<<n-a]),r)for(;s.length*n&7;)s+="=";return s},Qn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>If({prefix:e,name:t,encode(i){return Rz(i,r,n)},decode(i){return Oz(i,r,n,t)}}),Mz=If({prefix:"\0",name:"identity",encode:t=>Tz(t),decode:t=>Az(t)}),Lz=Object.freeze(Object.defineProperty({__proto__:null,identity:Mz},Symbol.toStringTag,{value:"Module"})),Fz=Qn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Uz=Object.freeze(Object.defineProperty({__proto__:null,base2:Fz},Symbol.toStringTag,{value:"Module"})),Bz=Qn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Wz=Object.freeze(Object.defineProperty({__proto__:null,base8:Bz},Symbol.toStringTag,{value:"Module"})),zz=Au({prefix:"9",name:"base10",alphabet:"0123456789"}),qz=Object.freeze(Object.defineProperty({__proto__:null,base10:zz},Symbol.toStringTag,{value:"Module"})),Hz=Qn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Vz=Qn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Kz=Object.freeze(Object.defineProperty({__proto__:null,base16:Hz,base16upper:Vz},Symbol.toStringTag,{value:"Module"})),Gz=Qn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Yz=Qn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Zz=Qn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Jz=Qn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qz=Qn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Xz=Qn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eq=Qn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tq=Qn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nq=Qn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),rq=Object.freeze(Object.defineProperty({__proto__:null,base32:Gz,base32hex:Qz,base32hexpad:eq,base32hexpadupper:tq,base32hexupper:Xz,base32pad:Zz,base32padupper:Jz,base32upper:Yz,base32z:nq},Symbol.toStringTag,{value:"Module"})),iq=Au({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sq=Au({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),aq=Object.freeze(Object.defineProperty({__proto__:null,base36:iq,base36upper:sq},Symbol.toStringTag,{value:"Module"})),oq=Au({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lq=Au({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),cq=Object.freeze(Object.defineProperty({__proto__:null,base58btc:oq,base58flickr:lq},Symbol.toStringTag,{value:"Module"})),dq=Qn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),uq=Qn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hq=Qn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),pq=Qn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),fq=Object.freeze(Object.defineProperty({__proto__:null,base64:dq,base64pad:uq,base64url:hq,base64urlpad:pq},Symbol.toStringTag,{value:"Module"})),r9=Array.from(""),gq=r9.reduce((t,e,n)=>(t[n]=e,t),[]),mq=r9.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function yq(t){return t.reduce((e,n)=>(e+=gq[n],e),"")}function wq(t){const e=[];for(const n of t){const r=mq[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const vq=If({prefix:"",name:"base256emoji",encode:yq,decode:wq}),bq=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:vq},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Y3={...Lz,...Uz,...Wz,...qz,...Kz,...rq,...aq,...cq,...fq,...bq};function i9(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const Z3=i9("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Dm=i9("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=t9(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),s9={utf8:Z3,"utf-8":Z3,hex:Y3.base16,latin1:Dm,ascii:Dm,binary:Dm,...Y3};function vi(t,e="utf8"){const n=s9[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?rw(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Xr(t,e="utf8"){const n=s9[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var xq={};const Cq=":";function No(t){const[e,n]=t.split(Cq);return{namespace:e,reference:n}}function J3(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function a9(t,e){return t.includes(":")?[t]:e.chains||[]}var _q=Object.defineProperty,Eq=Object.defineProperties,kq=Object.getOwnPropertyDescriptors,Q3=Object.getOwnPropertySymbols,$q=Object.prototype.hasOwnProperty,Iq=Object.prototype.propertyIsEnumerable,M0=(t,e,n)=>e in t?_q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X3=(t,e)=>{for(var n in e||(e={}))$q.call(e,n)&&M0(t,n,e[n]);if(Q3)for(var n of Q3(e))Iq.call(e,n)&&M0(t,n,e[n]);return t},Sq=(t,e)=>Eq(t,kq(e)),e5=(t,e,n)=>M0(t,typeof e!="symbol"?e+"":e,n);const Aq="ReactNative",Qr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Tq="js";function Cp(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Xa(){return!oa.getDocument()&&!!oa.getNavigator()&&navigator.product===Aq}function Pq(){return Xa()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Dq(){return Xa()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Pc(){return!Cp()&&!!oa.getNavigator()&&!!oa.getDocument()}function Tu(){return Xa()?Qr.reactNative:Cp()?Qr.node:Pc()?Qr.browser:Qr.unknown}function t5(){var t;try{return Xa()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Nq(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function jq(t){var e,n;const r=o9();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Sq(X3(X3({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function o9(){return rT.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Oq(){if(Tu()===Qr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=sT();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Rq(){var t;const e=Tu();return e===Qr.browser?[e,((t=oa.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function l9(t,e,n){const r=Oq(),i=Rq();return[[t,e].join("-"),[Tq,n].join("-"),r,i].join("/")}function Mq({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:a,bundleId:o,packageName:l}){const d=n.split("?"),u=l9(t,e,r),h={auth:i,ua:u,projectId:s,useOnCloseEvent:a,packageName:l||void 0,bundleId:o||void 0},p=Nq(d[1]||"",h);return d[0]+"?"+p}function _o(t,e){return t.filter(n=>e.includes(n)).length===t.length}function L0(t){return Object.fromEntries(t.entries())}function F0(t){return new Map(Object.entries(t))}function ho(t=Pe.FIVE_MINUTES,e){const n=Pe.toMiliseconds(t||Pe.FIVE_MINUTES);let r,i,s,a;return{resolve:o=>{s&&r&&(clearTimeout(s),r(o),a=Promise.resolve(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,l)=>{if(a)return o(a);s=setTimeout(()=>{const d=new Error(e);a=Promise.reject(d),l(d)},n),r=o,i=l})}}function vs(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const a=await t;r(a)}catch(a){i(a)}clearTimeout(s)})}function c9(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Lq(t){return c9("topic",t)}function Fq(t){return c9("id",t)}function d9(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function On(t,e){return Pe.fromMiliseconds(Date.now()+Pe.toMiliseconds(t))}function Aa(t){return Date.now()>=Pe.toMiliseconds(t)}function Rt(t,e){return`${t}${e?`:${e}`:""}`}function xs(t=[],e=[]){return[...new Set([...t,...e])]}async function Uq({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const a=Bq(s,t,e),o=Tu();if(o===Qr.browser){if(!((r=oa.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Wq(a)}else o===Qr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(i){console.error(i)}}function Bq(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Vq(r,!0)}`}else i=`${i}/wc?${r}`;return i}function Wq(t){let e="_self";Hq()?e="_top":(qq()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function zq(t,e){let n="";try{if(Pc()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function n5(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function r5(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function iw(){return typeof process<"u"&&xq.IS_VITEST==="true"}function qq(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Hq(){try{return window.self!==window.top}catch{return!1}}function Vq(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function u9(t){return Buffer.from(t,"base64").toString("utf-8")}function Kq(t){return new Promise(e=>setTimeout(e,t))}let Gq=class{constructor({limit:e}){e5(this,"limit"),e5(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const ch=BigInt(2**32-1),i5=BigInt(32);function h9(t,e=!1){return e?{h:Number(t&ch),l:Number(t>>i5&ch)}:{h:Number(t>>i5&ch)|0,l:Number(t&ch)|0}}function p9(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:a,l:o}=h9(t[s],e);[r[s],i[s]]=[a,o]}return[r,i]}const s5=(t,e,n)=>t>>>n,a5=(t,e,n)=>t<<32-n|e>>>n,Ta=(t,e,n)=>t>>>n|e<<32-n,Pa=(t,e,n)=>t<<32-n|e>>>n,hd=(t,e,n)=>t<<64-n|e>>>n-32,pd=(t,e,n)=>t>>>n-32|e<<64-n,Yq=(t,e)=>e,Zq=(t,e)=>t,Jq=(t,e,n)=>t<<n|e>>>32-n,Qq=(t,e,n)=>e<<n|t>>>32-n,Xq=(t,e,n)=>e<<n-32|t>>>64-n,eH=(t,e,n)=>t<<n-32|e>>>64-n;function Li(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const sw=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),aw=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,tH=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),nH=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,rH=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),iH=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,wl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function ow(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function ca(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function _i(t,...e){if(!ow(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function lw(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ca(t.outputLen),ca(t.blockLen)}function Ga(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cw(t,e){_i(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function ou(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ei(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Nm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ls(t,e){return t<<32-e|t>>>e}const f9=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function g9(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const qs=f9?t=>t:t=>g9(t);function sH(t){for(let e=0;e<t.length;e++)t[e]=g9(t[e]);return t}const Da=f9?t=>t:sH,m9=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",aH=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function lu(t){if(_i(t),m9)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=aH[t[n]];return e}const Us={_0:48,_9:57,A:65,F:70,a:97,f:102};function o5(t){if(t>=Us._0&&t<=Us._9)return t-Us._0;if(t>=Us.A&&t<=Us.F)return t-(Us.A-10);if(t>=Us.a&&t<=Us.f)return t-(Us.a-10)}function dw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(m9)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const a=o5(t.charCodeAt(s)),o=o5(t.charCodeAt(s+1));if(a===void 0||o===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=a*16+o}return r}function oH(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Vi(t){return typeof t=="string"&&(t=oH(t)),_i(t),t}function Eo(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];_i(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Sf=class{};function Pu(t){const e=r=>t().update(Vi(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function lH(t){const e=(r,i)=>t(i).update(Vi(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function Dc(t=32){if(wl&&typeof wl.getRandomValues=="function")return wl.getRandomValues(new Uint8Array(t));if(wl&&typeof wl.randomBytes=="function")return Uint8Array.from(wl.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const cH=BigInt(0),zc=BigInt(1),dH=BigInt(2),uH=BigInt(7),hH=BigInt(256),pH=BigInt(113),y9=[],w9=[],v9=[];for(let t=0,e=zc,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],y9.push(2*(5*r+n)),w9.push((t+1)*(t+2)/2%64);let i=cH;for(let s=0;s<7;s++)e=(e<<zc^(e>>uH)*pH)%hH,e&dH&&(i^=zc<<(zc<<BigInt(s))-zc);v9.push(i)}const b9=p9(v9,!0),fH=b9[0],gH=b9[1],l5=(t,e,n)=>n>32?Xq(t,e,n):Jq(t,e,n),c5=(t,e,n)=>n>32?eH(t,e,n):Qq(t,e,n);function mH(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,l=(a+2)%10,d=n[l],u=n[l+1],h=l5(d,u,1)^n[o],p=c5(d,u,1)^n[o+1];for(let f=0;f<50;f+=10)t[a+f]^=h,t[a+f+1]^=p}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=w9[a],l=l5(i,s,o),d=c5(i,s,o),u=y9[a];i=t[u],s=t[u+1],t[u]=l,t[u+1]=d}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=fH[r],t[1]^=gH[r]}Ei(n)}let yH=class x9 extends Sf{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,ca(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=ou(this.state)}clone(){return this._cloneInto()}keccak(){Da(this.state32),mH(this.state32,this.rounds),Da(this.state32),this.posOut=0,this.pos=0}update(e){Ga(this),e=Vi(e),_i(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ga(this,!1),_i(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ca(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(cw(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ei(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new x9(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const wH=(t,e,n)=>Pu(()=>new yH(e,t,n)),vH=wH(1,136,256/8);function bH(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),l=r?4:0,d=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+d,o,r)}function xH(t,e,n){return t&e^~t&n}function CH(t,e,n){return t&e^t&n^e&n}let C9=class extends Sf{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=Nm(this.buffer)}update(e){Ga(this),e=Vi(e),_i(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const l=Nm(e);for(;i<=s-a;a+=i)this.process(l,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ga(this),cw(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,Ei(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(r,0),a=0);for(let h=a;h<i;h++)n[h]=0;bH(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=Nm(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,u=this.get();if(d>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<d;h++)o.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=o,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const ba=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),rr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),_H=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xa=new Uint32Array(64);let EH=class extends C9{constructor(e=32){super(64,e,8,!1),this.A=ba[0]|0,this.B=ba[1]|0,this.C=ba[2]|0,this.D=ba[3]|0,this.E=ba[4]|0,this.F=ba[5]|0,this.G=ba[6]|0,this.H=ba[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:l}=this;return[e,n,r,i,s,a,o,l]}set(e,n,r,i,s,a,o,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=l|0}process(e,n){for(let h=0;h<16;h++,n+=4)xa[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=xa[h-15],f=xa[h-2],g=ls(p,7)^ls(p,18)^p>>>3,m=ls(f,17)^ls(f,19)^f>>>10;xa[h]=m+xa[h-7]+g+xa[h-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:l,G:d,H:u}=this;for(let h=0;h<64;h++){const p=ls(o,6)^ls(o,11)^ls(o,25),f=u+p+xH(o,l,d)+_H[h]+xa[h]|0,g=(ls(r,2)^ls(r,13)^ls(r,22))+CH(r,i,s)|0;u=d,d=l,l=o,o=a+f|0,a=s,s=i,i=r,r=f+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,d=d+this.G|0,u=u+this.H|0,this.set(r,i,s,a,o,l,d,u)}roundClean(){Ei(xa)}destroy(){this.set(0,0,0,0,0,0,0,0),Ei(this.buffer)}};const _9=p9(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),kH=_9[0],$H=_9[1],Ca=new Uint32Array(80),_a=new Uint32Array(80);let uw=class extends C9{constructor(e=64){super(128,e,16,!1),this.Ah=rr[0]|0,this.Al=rr[1]|0,this.Bh=rr[2]|0,this.Bl=rr[3]|0,this.Ch=rr[4]|0,this.Cl=rr[5]|0,this.Dh=rr[6]|0,this.Dl=rr[7]|0,this.Eh=rr[8]|0,this.El=rr[9]|0,this.Fh=rr[10]|0,this.Fl=rr[11]|0,this.Gh=rr[12]|0,this.Gl=rr[13]|0,this.Hh=rr[14]|0,this.Hl=rr[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:o,Dl:l,Eh:d,El:u,Fh:h,Fl:p,Gh:f,Gl:g,Hh:m,Hl:w}=this;return[e,n,r,i,s,a,o,l,d,u,h,p,f,g,m,w]}set(e,n,r,i,s,a,o,l,d,u,h,p,f,g,m,w){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=l|0,this.Eh=d|0,this.El=u|0,this.Fh=h|0,this.Fl=p|0,this.Gh=f|0,this.Gl=g|0,this.Hh=m|0,this.Hl=w|0}process(e,n){for(let _=0;_<16;_++,n+=4)Ca[_]=e.getUint32(n),_a[_]=e.getUint32(n+=4);for(let _=16;_<80;_++){const E=Ca[_-15]|0,x=_a[_-15]|0,b=Ta(E,x,1)^Ta(E,x,8)^s5(E,x,7),k=Pa(E,x,1)^Pa(E,x,8)^a5(E,x,7),S=Ca[_-2]|0,I=_a[_-2]|0,$=Ta(S,I,19)^hd(S,I,61)^s5(S,I,6),A=Pa(S,I,19)^pd(S,I,61)^a5(S,I,6),N=tH(k,A,_a[_-7],_a[_-16]),O=nH(N,b,$,Ca[_-7],Ca[_-16]);Ca[_]=O|0,_a[_]=N|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:o,Cl:l,Dh:d,Dl:u,Eh:h,El:p,Fh:f,Fl:g,Gh:m,Gl:w,Hh:v,Hl:C}=this;for(let _=0;_<80;_++){const E=Ta(h,p,14)^Ta(h,p,18)^hd(h,p,41),x=Pa(h,p,14)^Pa(h,p,18)^pd(h,p,41),b=h&f^~h&m,k=p&g^~p&w,S=rH(C,x,k,$H[_],_a[_]),I=iH(S,v,E,b,kH[_],Ca[_]),$=S|0,A=Ta(r,i,28)^hd(r,i,34)^hd(r,i,39),N=Pa(r,i,28)^pd(r,i,34)^pd(r,i,39),O=r&s^r&o^s&o,D=i&a^i&l^a&l;v=m|0,C=w|0,m=f|0,w=g|0,f=h|0,g=p|0,{h,l:p}=Li(d|0,u|0,I|0,$|0),d=o|0,u=l|0,o=s|0,l=a|0,s=r|0,a=i|0;const M=sw($,N,D);r=aw(M,I,A,O),i=M|0}({h:r,l:i}=Li(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Li(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l}=Li(this.Ch|0,this.Cl|0,o|0,l|0),{h:d,l:u}=Li(this.Dh|0,this.Dl|0,d|0,u|0),{h,l:p}=Li(this.Eh|0,this.El|0,h|0,p|0),{h:f,l:g}=Li(this.Fh|0,this.Fl|0,f|0,g|0),{h:m,l:w}=Li(this.Gh|0,this.Gl|0,m|0,w|0),{h:v,l:C}=Li(this.Hh|0,this.Hl|0,v|0,C|0),this.set(r,i,s,a,o,l,d,u,h,p,f,g,m,w,v,C)}roundClean(){Ei(Ca,_a)}destroy(){Ei(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},IH=class extends uw{constructor(){super(48),this.Ah=nr[0]|0,this.Al=nr[1]|0,this.Bh=nr[2]|0,this.Bl=nr[3]|0,this.Ch=nr[4]|0,this.Cl=nr[5]|0,this.Dh=nr[6]|0,this.Dl=nr[7]|0,this.Eh=nr[8]|0,this.El=nr[9]|0,this.Fh=nr[10]|0,this.Fl=nr[11]|0,this.Gh=nr[12]|0,this.Gl=nr[13]|0,this.Hh=nr[14]|0,this.Hl=nr[15]|0}};const ir=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let SH=class extends uw{constructor(){super(32),this.Ah=ir[0]|0,this.Al=ir[1]|0,this.Bh=ir[2]|0,this.Bl=ir[3]|0,this.Ch=ir[4]|0,this.Cl=ir[5]|0,this.Dh=ir[6]|0,this.Dl=ir[7]|0,this.Eh=ir[8]|0,this.El=ir[9]|0,this.Fh=ir[10]|0,this.Fl=ir[11]|0,this.Gh=ir[12]|0,this.Gl=ir[13]|0,this.Hh=ir[14]|0,this.Hl=ir[15]|0}};const Af=Pu(()=>new EH),AH=Pu(()=>new uw),TH=Pu(()=>new IH),PH=Pu(()=>new SH),DH=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Dn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Oe=new Uint32Array(32);function Ea(t,e,n,r,i,s){const a=i[s],o=i[s+1];let l=Oe[2*t],d=Oe[2*t+1],u=Oe[2*e],h=Oe[2*e+1],p=Oe[2*n],f=Oe[2*n+1],g=Oe[2*r],m=Oe[2*r+1],w=sw(l,u,a);d=aw(w,d,h,o),l=w|0,{Dh:m,Dl:g}={Dh:m^d,Dl:g^l},{Dh:m,Dl:g}={Dh:Yq(m,g),Dl:Zq(m)},{h:f,l:p}=Li(f,p,m,g),{Bh:h,Bl:u}={Bh:h^f,Bl:u^p},{Bh:h,Bl:u}={Bh:Ta(h,u,24),Bl:Pa(h,u,24)},Oe[2*t]=l,Oe[2*t+1]=d,Oe[2*e]=u,Oe[2*e+1]=h,Oe[2*n]=p,Oe[2*n+1]=f,Oe[2*r]=g,Oe[2*r+1]=m}function ka(t,e,n,r,i,s){const a=i[s],o=i[s+1];let l=Oe[2*t],d=Oe[2*t+1],u=Oe[2*e],h=Oe[2*e+1],p=Oe[2*n],f=Oe[2*n+1],g=Oe[2*r],m=Oe[2*r+1],w=sw(l,u,a);d=aw(w,d,h,o),l=w|0,{Dh:m,Dl:g}={Dh:m^d,Dl:g^l},{Dh:m,Dl:g}={Dh:Ta(m,g,16),Dl:Pa(m,g,16)},{h:f,l:p}=Li(f,p,m,g),{Bh:h,Bl:u}={Bh:h^f,Bl:u^p},{Bh:h,Bl:u}={Bh:hd(h,u,63),Bl:pd(h,u,63)},Oe[2*t]=l,Oe[2*t+1]=d,Oe[2*e]=u,Oe[2*e+1]=h,Oe[2*n]=p,Oe[2*n+1]=f,Oe[2*r]=g,Oe[2*r+1]=m}function NH(t,e={},n,r,i){if(ca(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:a,personalization:o}=e;if(s!==void 0&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(a!==void 0&&a.length!==r)throw new Error("salt must be undefined or "+r);if(o!==void 0&&o.length!==i)throw new Error("personalization must be undefined or "+i)}let jH=class extends Sf{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ca(e),ca(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=ou(this.buffer)}update(e){Ga(this),e=Vi(e),_i(e);const{blockLen:n,buffer:r,buffer32:i}=this,s=e.length,a=e.byteOffset,o=e.buffer;for(let l=0;l<s;){this.pos===n&&(Da(i),this.compress(i,0,!1),Da(i),this.pos=0);const d=Math.min(n-this.pos,s-l),u=a+l;if(d===n&&!(u%4)&&l+d<s){const h=new Uint32Array(o,u,Math.floor((s-l)/4));Da(h);for(let p=0;l+n<s;p+=i.length,l+=n)this.length+=n,this.compress(h,p,!1);Da(h);continue}r.set(e.subarray(l,l+d),this.pos),this.pos+=d,this.length+=d,l+=d}return this}digestInto(e){Ga(this),cw(e,this);const{pos:n,buffer32:r}=this;this.finished=!0,Ei(this.buffer.subarray(n)),Da(r),this.compress(r,0,!0),Da(r);const i=ou(e);this.get().forEach((s,a)=>i[a]=qs(s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){const{buffer:n,length:r,finished:i,destroyed:s,outputLen:a,pos:o}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(n),e.destroyed=s,e.finished=i,e.length=r,e.pos=o,e.outputLen=a,e}clone(){return this._cloneInto()}},OH=class extends jH{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=Dn[0]|0,this.v0h=Dn[1]|0,this.v1l=Dn[2]|0,this.v1h=Dn[3]|0,this.v2l=Dn[4]|0,this.v2h=Dn[5]|0,this.v3l=Dn[6]|0,this.v3h=Dn[7]|0,this.v4l=Dn[8]|0,this.v4h=Dn[9]|0,this.v5l=Dn[10]|0,this.v5h=Dn[11]|0,this.v6l=Dn[12]|0,this.v6h=Dn[13]|0,this.v7l=Dn[14]|0,this.v7h=Dn[15]|0,NH(n,e,64,16,16);let{key:r,personalization:i,salt:s}=e,a=0;if(r!==void 0&&(r=Vi(r),a=r.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=Vi(s);const o=ou(s);this.v4l^=qs(o[0]),this.v4h^=qs(o[1]),this.v5l^=qs(o[2]),this.v5h^=qs(o[3])}if(i!==void 0){i=Vi(i);const o=ou(i);this.v6l^=qs(o[0]),this.v6h^=qs(o[1]),this.v7l^=qs(o[2]),this.v7h^=qs(o[3])}if(r!==void 0){const o=new Uint8Array(this.blockLen);o.set(r),this.update(o)}}get(){let{v0l:e,v0h:n,v1l:r,v1h:i,v2l:s,v2h:a,v3l:o,v3h:l,v4l:d,v4h:u,v5l:h,v5h:p,v6l:f,v6h:g,v7l:m,v7h:w}=this;return[e,n,r,i,s,a,o,l,d,u,h,p,f,g,m,w]}set(e,n,r,i,s,a,o,l,d,u,h,p,f,g,m,w){this.v0l=e|0,this.v0h=n|0,this.v1l=r|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=o|0,this.v3h=l|0,this.v4l=d|0,this.v4h=u|0,this.v5l=h|0,this.v5h=p|0,this.v6l=f|0,this.v6h=g|0,this.v7l=m|0,this.v7h=w|0}compress(e,n,r){this.get().forEach((l,d)=>Oe[d]=l),Oe.set(Dn,16);let{h:i,l:s}=h9(BigInt(this.length));Oe[24]=Dn[8]^s,Oe[25]=Dn[9]^i,r&&(Oe[28]=~Oe[28],Oe[29]=~Oe[29]);let a=0;const o=DH;for(let l=0;l<12;l++)Ea(0,4,8,12,e,n+2*o[a++]),ka(0,4,8,12,e,n+2*o[a++]),Ea(1,5,9,13,e,n+2*o[a++]),ka(1,5,9,13,e,n+2*o[a++]),Ea(2,6,10,14,e,n+2*o[a++]),ka(2,6,10,14,e,n+2*o[a++]),Ea(3,7,11,15,e,n+2*o[a++]),ka(3,7,11,15,e,n+2*o[a++]),Ea(0,5,10,15,e,n+2*o[a++]),ka(0,5,10,15,e,n+2*o[a++]),Ea(1,6,11,12,e,n+2*o[a++]),ka(1,6,11,12,e,n+2*o[a++]),Ea(2,7,8,13,e,n+2*o[a++]),ka(2,7,8,13,e,n+2*o[a++]),Ea(3,4,9,14,e,n+2*o[a++]),ka(3,4,9,14,e,n+2*o[a++]);this.v0l^=Oe[0]^Oe[16],this.v0h^=Oe[1]^Oe[17],this.v1l^=Oe[2]^Oe[18],this.v1h^=Oe[3]^Oe[19],this.v2l^=Oe[4]^Oe[20],this.v2h^=Oe[5]^Oe[21],this.v3l^=Oe[6]^Oe[22],this.v3h^=Oe[7]^Oe[23],this.v4l^=Oe[8]^Oe[24],this.v4h^=Oe[9]^Oe[25],this.v5l^=Oe[10]^Oe[26],this.v5h^=Oe[11]^Oe[27],this.v6l^=Oe[12]^Oe[28],this.v6h^=Oe[13]^Oe[29],this.v7l^=Oe[14]^Oe[30],this.v7h^=Oe[15]^Oe[31],Ei(Oe)}destroy(){this.destroyed=!0,Ei(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const RH=lH(t=>new OH(t)),MH="https://rpc.walletconnect.org/v1";function E9(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(vH(n)).toString("hex")}async function LH(t,e,n,r,i,s){switch(n.t){case"eip191":return await FH(t,e,n.s);case"eip1271":return await UH(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function FH(t,e,n){return(await YW({hash:E9(e),signature:n})).toLowerCase()===t.toLowerCase()}async function UH(t,e,n,r,i,s){const a=No(r);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const o="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",d=n.substring(2),u=(d.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:E9(e)).substring(2),p=o+h+l+u+d,f=await fetch(`${s||MH}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:BH(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:p},"latest"]})}),{result:g}=await f.json();return g?g.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function BH(){return Date.now()+Math.floor(Math.random()*1e3)}function WH(t){const e=atob(t),n=new Uint8Array(e.length);for(let a=0;a<e.length;a++)n[a]=e.charCodeAt(a);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return Cu.encode(s)}function zH(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),r=new Uint8Array(n.length+e.length);r.set(n),r.set(e,n.length);const i=RH(r,{dkLen:32});return Cu.encode(i)}function d5(t){const e=new Uint8Array(Af(qH(t)));return Cu.encode(e)}function qH(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function u5(t){const e=Buffer.from(t,"base64"),n=aT(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=oT(n),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(r)]),a=PH(s);return lT.encode(a).replace(/=+$/,"")}function jm(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function HH(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),r=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(jm(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(jm(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(jm(r.length)),i.push(r);const s=Buffer.concat(i),a=Af(s);return Buffer.from(a).toString("hex").toUpperCase()}var VH=Object.defineProperty,KH=Object.defineProperties,GH=Object.getOwnPropertyDescriptors,h5=Object.getOwnPropertySymbols,YH=Object.prototype.hasOwnProperty,ZH=Object.prototype.propertyIsEnumerable,p5=(t,e,n)=>e in t?VH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JH=(t,e)=>{for(var n in e||(e={}))YH.call(e,n)&&p5(t,n,e[n]);if(h5)for(var n of h5(e))ZH.call(e,n)&&p5(t,n,e[n]);return t},QH=(t,e)=>KH(t,GH(e));const XH="did:pkh:",hw=t=>t==null?void 0:t.split(":"),eV=t=>{const e=t&&hw(t);if(e)return t.includes(XH)?e[3]:e[1]},U0=t=>{const e=t&&hw(t);if(e)return e[2]+":"+e[3]},_p=t=>{const e=t&&hw(t);if(e)return e.pop()};async function f5(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=k9(i,i.iss),a=_p(i.iss);return await LH(a,s,r,U0(i.iss),n)}const k9=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=_p(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,o=`Chain ID: ${eV(e)}`,l=`Nonce: ${t.nonce}`,d=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,p=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,g=Wh(t.resources);if(g){const m=cu(g);i=cV(i,m)}return[n,r,"",i,"",s,a,o,l,d,u,h,p,f].filter(m=>m!=null).join(`
`)};function tV(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function nV(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Bo(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function rV(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:iV(e,n,r)}}}function iV(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function $9(t){return Bo(t),`urn:recap:${tV(t).replace(/=/g,"")}`}function cu(t){const e=nV(t.replace("urn:recap:",""));return Bo(e),e}function sV(t,e,n){const r=rV(t,e,n);return $9(r)}function aV(t){return t&&t.includes("urn:recap:")}function oV(t,e){const n=cu(t),r=cu(e),i=lV(n,r);return $9(i)}function lV(t,e){Bo(t),Bo(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,a;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((o,l)=>o.localeCompare(l)).forEach(o=>{var l,d;r.att[i]=QH(JH({},r.att[i]),{[o]:((l=t.att[i])==null?void 0:l[o])||((d=e.att[i])==null?void 0:d[o])})})}),r}function cV(t="",e){Bo(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(o=>{const l=Object.keys(e.att[o]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));l.sort((h,p)=>h.action.localeCompare(p.action));const d={};l.forEach(h=>{d[h.ability]||(d[h.ability]=[]),d[h.ability].push(h.action)});const u=Object.keys(d).map(h=>(i++,`(${i}) '${h}': '${d[h].join("', '")}' for '${o}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),a=`${n}${s}`;return`${t?t+" ":""}${a}`}function g5(t){var e;const n=cu(t);Bo(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function m5(t){const e=cu(t);Bo(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function Wh(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return aV(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function I9(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function B0(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function Om(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Tr(t,...e){if(!I9(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function y5(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function dV(t,e){Tr(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Va(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function gc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function uV(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const hV=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function pV(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function W0(t){if(typeof t=="string")t=pV(t);else if(I9(t))t=z0(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function fV(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function gV(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const mV=(t,e)=>{function n(r,...i){if(Tr(r),!hV)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const d=i[0];if(!d)throw new Error("nonce / iv required");t.varSizeNonce?Tr(d):Tr(d,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Tr(i[1]);const a=e(r,...i),o=(d,u)=>{if(u!==void 0){if(d!==2)throw new Error("cipher output not supported");Tr(u)}};let l=!1;return{encrypt(d,u){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Tr(d),o(a.encrypt.length,u),a.encrypt(d,u)},decrypt(d,u){if(Tr(d),s&&d.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return o(a.decrypt.length,u),a.decrypt(d,u)}}}return Object.assign(n,t),n};function w5(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!wV(e))throw new Error("invalid output, must be aligned");return e}function v5(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s);t.setUint32(e+4,a,r),t.setUint32(e+0,o,r)}function yV(t,e,n){B0(n);const r=new Uint8Array(16),i=uV(r);return v5(i,0,BigInt(e),n),v5(i,8,BigInt(t),n),r}function wV(t){return t.byteOffset%4===0}function z0(t){return Uint8Array.from(t)}const S9=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),vV=S9("expand 16-byte k"),bV=S9("expand 32-byte k"),xV=Va(vV),CV=Va(bV);function Tt(t,e){return t<<e|t>>>32-e}function q0(t){return t.byteOffset%4===0}const dh=64,_V=16,A9=2**32-1,b5=new Uint32Array;function EV(t,e,n,r,i,s,a,o){const l=i.length,d=new Uint8Array(dh),u=Va(d),h=q0(i)&&q0(s),p=h?Va(i):b5,f=h?Va(s):b5;for(let g=0;g<l;a++){if(t(e,n,r,u,a,o),a>=A9)throw new Error("arx: counter overflow");const m=Math.min(dh,l-g);if(h&&m===dh){const w=g/4;if(g%4!==0)throw new Error("arx: invalid block position");for(let v=0,C;v<_V;v++)C=w+v,f[C]=p[C]^u[v];g+=dh;continue}for(let w=0,v;w<m;w++)v=g+w,s[v]=i[v]^d[w];g+=m}}function kV(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:a}=fV({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Om(i),Om(a),B0(s),B0(n),(o,l,d,u,h=0)=>{Tr(o),Tr(l),Tr(d);const p=d.length;if(u===void 0&&(u=new Uint8Array(p)),Tr(u),Om(h),h<0||h>=A9)throw new Error("arx: counter overflow");if(u.length<p)throw new Error(`arx: output (${u.length}) is shorter than data (${p})`);const f=[];let g=o.length,m,w;if(g===32)f.push(m=z0(o)),w=CV;else if(g===16&&n)m=new Uint8Array(32),m.set(o),m.set(o,16),w=xV,f.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${g}`);q0(l)||f.push(l=z0(l));const v=Va(m);if(r){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,v,Va(l.subarray(0,16)),v),l=l.subarray(16)}const C=16-i;if(C!==l.length)throw new Error(`arx: nonce must be ${C} or 16 bytes`);if(C!==12){const E=new Uint8Array(12);E.set(l,s?0:12-l.length),l=E,f.push(l)}const _=Va(l);return EV(t,w,v,_,d,u,h,a),gc(...f),u}}const qn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let $V=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=W0(e),Tr(e,32);const n=qn(e,0),r=qn(e,2),i=qn(e,4),s=qn(e,6),a=qn(e,8),o=qn(e,10),l=qn(e,12),d=qn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|l<<5)&8065,this.r[8]=(l>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let u=0;u<8;u++)this.pad[u]=qn(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:a}=this,o=a[0],l=a[1],d=a[2],u=a[3],h=a[4],p=a[5],f=a[6],g=a[7],m=a[8],w=a[9],v=qn(e,n+0),C=qn(e,n+2),_=qn(e,n+4),E=qn(e,n+6),x=qn(e,n+8),b=qn(e,n+10),k=qn(e,n+12),S=qn(e,n+14);let I=s[0]+(v&8191),$=s[1]+((v>>>13|C<<3)&8191),A=s[2]+((C>>>10|_<<6)&8191),N=s[3]+((_>>>7|E<<9)&8191),O=s[4]+((E>>>4|x<<12)&8191),D=s[5]+(x>>>1&8191),M=s[6]+((x>>>14|b<<2)&8191),B=s[7]+((b>>>11|k<<5)&8191),U=s[8]+((k>>>8|S<<8)&8191),L=s[9]+(S>>>5|i),T=0,j=T+I*o+$*(5*w)+A*(5*m)+N*(5*g)+O*(5*f);T=j>>>13,j&=8191,j+=D*(5*p)+M*(5*h)+B*(5*u)+U*(5*d)+L*(5*l),T+=j>>>13,j&=8191;let W=T+I*l+$*o+A*(5*w)+N*(5*m)+O*(5*g);T=W>>>13,W&=8191,W+=D*(5*f)+M*(5*p)+B*(5*h)+U*(5*u)+L*(5*d),T+=W>>>13,W&=8191;let Z=T+I*d+$*l+A*o+N*(5*w)+O*(5*m);T=Z>>>13,Z&=8191,Z+=D*(5*g)+M*(5*f)+B*(5*p)+U*(5*h)+L*(5*u),T+=Z>>>13,Z&=8191;let z=T+I*u+$*d+A*l+N*o+O*(5*w);T=z>>>13,z&=8191,z+=D*(5*m)+M*(5*g)+B*(5*f)+U*(5*p)+L*(5*h),T+=z>>>13,z&=8191;let ie=T+I*h+$*u+A*d+N*l+O*o;T=ie>>>13,ie&=8191,ie+=D*(5*w)+M*(5*m)+B*(5*g)+U*(5*f)+L*(5*p),T+=ie>>>13,ie&=8191;let V=T+I*p+$*h+A*u+N*d+O*l;T=V>>>13,V&=8191,V+=D*o+M*(5*w)+B*(5*m)+U*(5*g)+L*(5*f),T+=V>>>13,V&=8191;let ee=T+I*f+$*p+A*h+N*u+O*d;T=ee>>>13,ee&=8191,ee+=D*l+M*o+B*(5*w)+U*(5*m)+L*(5*g),T+=ee>>>13,ee&=8191;let ae=T+I*g+$*f+A*p+N*h+O*u;T=ae>>>13,ae&=8191,ae+=D*d+M*l+B*o+U*(5*w)+L*(5*m),T+=ae>>>13,ae&=8191;let te=T+I*m+$*g+A*f+N*p+O*h;T=te>>>13,te&=8191,te+=D*u+M*d+B*l+U*o+L*(5*w),T+=te>>>13,te&=8191;let he=T+I*w+$*m+A*g+N*f+O*p;T=he>>>13,he&=8191,he+=D*h+M*u+B*d+U*l+L*o,T+=he>>>13,he&=8191,T=(T<<2)+T|0,T=T+j|0,j=T&8191,T=T>>>13,W+=T,s[0]=j,s[1]=W,s[2]=Z,s[3]=z,s[4]=ie,s[5]=V,s[6]=ee,s[7]=ae,s[8]=te,s[9]=he}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=i,i=e[o]>>>13,e[o]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let o=1;o<10;o++)r[o]=e[o]+i,i=r[o]>>>13,r[o]&=8191;r[9]-=8192;let s=(i^1)-1;for(let o=0;o<10;o++)r[o]&=s;s=~s;for(let o=0;o<10;o++)e[o]=e[o]&s|r[o];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+n[0];e[0]=a&65535;for(let o=1;o<8;o++)a=(e[o]+n[o]|0)+(a>>>16)|0,e[o]=a&65535;gc(r)}update(e){y5(this),e=W0(e),Tr(e);const{buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);if(a===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){gc(this.h,this.r,this.buffer,this.pad)}digestInto(e){y5(this),dV(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let a=0;a<8;a++)e[s++]=r[a]>>>0,e[s++]=r[a]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function IV(t){const e=(r,i)=>t(i).update(W0(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const SV=IV(t=>new $V(t));function AV(t,e,n,r,i,s=20){let a=t[0],o=t[1],l=t[2],d=t[3],u=e[0],h=e[1],p=e[2],f=e[3],g=e[4],m=e[5],w=e[6],v=e[7],C=i,_=n[0],E=n[1],x=n[2],b=a,k=o,S=l,I=d,$=u,A=h,N=p,O=f,D=g,M=m,B=w,U=v,L=C,T=_,j=E,W=x;for(let z=0;z<s;z+=2)b=b+$|0,L=Tt(L^b,16),D=D+L|0,$=Tt($^D,12),b=b+$|0,L=Tt(L^b,8),D=D+L|0,$=Tt($^D,7),k=k+A|0,T=Tt(T^k,16),M=M+T|0,A=Tt(A^M,12),k=k+A|0,T=Tt(T^k,8),M=M+T|0,A=Tt(A^M,7),S=S+N|0,j=Tt(j^S,16),B=B+j|0,N=Tt(N^B,12),S=S+N|0,j=Tt(j^S,8),B=B+j|0,N=Tt(N^B,7),I=I+O|0,W=Tt(W^I,16),U=U+W|0,O=Tt(O^U,12),I=I+O|0,W=Tt(W^I,8),U=U+W|0,O=Tt(O^U,7),b=b+A|0,W=Tt(W^b,16),B=B+W|0,A=Tt(A^B,12),b=b+A|0,W=Tt(W^b,8),B=B+W|0,A=Tt(A^B,7),k=k+N|0,L=Tt(L^k,16),U=U+L|0,N=Tt(N^U,12),k=k+N|0,L=Tt(L^k,8),U=U+L|0,N=Tt(N^U,7),S=S+O|0,T=Tt(T^S,16),D=D+T|0,O=Tt(O^D,12),S=S+O|0,T=Tt(T^S,8),D=D+T|0,O=Tt(O^D,7),I=I+$|0,j=Tt(j^I,16),M=M+j|0,$=Tt($^M,12),I=I+$|0,j=Tt(j^I,8),M=M+j|0,$=Tt($^M,7);let Z=0;r[Z++]=a+b|0,r[Z++]=o+k|0,r[Z++]=l+S|0,r[Z++]=d+I|0,r[Z++]=u+$|0,r[Z++]=h+A|0,r[Z++]=p+N|0,r[Z++]=f+O|0,r[Z++]=g+D|0,r[Z++]=m+M|0,r[Z++]=w+B|0,r[Z++]=v+U|0,r[Z++]=C+L|0,r[Z++]=_+T|0,r[Z++]=E+j|0,r[Z++]=x+W|0}const TV=kV(AV,{counterRight:!1,counterLength:4,allowShortKeys:!1}),PV=new Uint8Array(16),x5=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(PV.subarray(n))},DV=new Uint8Array(32);function C5(t,e,n,r,i){const s=t(e,n,DV),a=SV.create(s);i&&x5(a,i),x5(a,r);const o=yV(r.length,i?i.length:0,!0);a.update(o);const l=a.digest();return gc(s,o),l}const NV=t=>(e,n,r)=>({encrypt(i,s){const a=i.length;s=w5(a+16,s,!1),s.set(i);const o=s.subarray(0,-16);t(e,n,o,o,1);const l=C5(t,e,n,o,r);return s.set(l,a),gc(l),s},decrypt(i,s){s=w5(i.length-16,s,!1);const a=i.subarray(0,-16),o=i.subarray(-16),l=C5(t,e,n,a,r);if(!gV(o,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),gc(l),s}}),T9=mV({blockSize:64,nonceLength:12,tagLength:16},NV(TV));let P9=class extends Sf{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,lw(e);const r=Vi(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Ei(s)}update(e){return Ga(this),this.iHash.update(e),this}digestInto(e){Ga(this),_i(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Tf=(t,e,n)=>new P9(t,e).update(n).digest();Tf.create=(t,e)=>new P9(t,e);function jV(t,e,n){return lw(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Tf(t,Vi(n),Vi(e))}const Rm=Uint8Array.from([0]),_5=Uint8Array.of();function OV(t,e,n,r=32){lw(t),ca(r);const i=t.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);n===void 0&&(n=_5);const a=new Uint8Array(s*i),o=Tf.create(t,e),l=o._cloneInto(),d=new Uint8Array(o.outputLen);for(let u=0;u<s;u++)Rm[0]=u+1,l.update(u===0?_5:d).update(n).update(Rm).digestInto(d),a.set(d,i*u),o._cloneInto(l);return o.destroy(),l.destroy(),Ei(d,Rm),a.slice(0,r)}const RV=(t,e,n,r,i)=>OV(t,jV(t,e,n),r,i),Pf=Af,pw=BigInt(0),H0=BigInt(1);function Ep(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function uh(t){const e=t.toString(16);return e.length&1?"0"+e:e}function D9(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?pw:BigInt("0x"+t)}function Df(t){return D9(lu(t))}function kp(t){return _i(t),D9(lu(Uint8Array.from(t).reverse()))}function fw(t,e){return dw(t.toString(16).padStart(e*2,"0"))}function gw(t,e){return fw(t,e).reverse()}function Sr(t,e,n){let r;if(typeof e=="string")try{r=dw(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(ow(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}const Mm=t=>typeof t=="bigint"&&pw<=t;function MV(t,e,n){return Mm(t)&&Mm(e)&&Mm(n)&&e<=t&&t<n}function V0(t,e,n,r){if(!MV(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function LV(t){let e;for(e=0;t>pw;t>>=H0,e+=1);return e}const Nf=t=>(H0<<BigInt(t))-H0;function FV(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),i=p=>Uint8Array.of(p);let s=r(t),a=r(t),o=0;const l=()=>{s.fill(1),a.fill(0),o=0},d=(...p)=>n(a,s,...p),u=(p=r(0))=>{a=d(i(0),p),s=d(),p.length!==0&&(a=d(i(1),p),s=d())},h=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const f=[];for(;p<e;){s=d();const g=s.slice();f.push(g),p+=s.length}return Eo(...f)};return(p,f)=>{l(),u(p);let g;for(;!(g=f(h()));)u();return l(),g}}function jf(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,a){const o=t[i];if(a&&o===void 0)return;const l=typeof o;if(l!==s||o===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function E5(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const Or=BigInt(0),vr=BigInt(1),ko=BigInt(2),UV=BigInt(3),N9=BigInt(4),j9=BigInt(5),O9=BigInt(8);function fi(t,e){const n=t%e;return n>=Or?n:e+n}function Ri(t,e,n){let r=t;for(;e-- >Or;)r*=r,r%=n;return r}function k5(t,e){if(t===Or)throw new Error("invert: expected non-zero number");if(e<=Or)throw new Error("invert: expected positive modulus, got "+e);let n=fi(t,e),r=e,i=Or,s=vr;for(;n!==Or;){const a=r/n,o=r%n,l=i-s*a;r=n,n=o,i=s,s=l}if(r!==vr)throw new Error("invert: does not exist");return fi(i,e)}function R9(t,e){const n=(t.ORDER+vr)/N9,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function BV(t,e){const n=(t.ORDER-j9)/O9,r=t.mul(e,ko),i=t.pow(r,n),s=t.mul(e,i),a=t.mul(t.mul(s,ko),i),o=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function WV(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-vr,n=0;for(;e%ko===Or;)e/=ko,n++;let r=ko;const i=Nc(t);for(;$5(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return R9;let s=i.pow(r,e);const a=(e+vr)/ko;return function(o,l){if(o.is0(l))return l;if($5(o,l)!==1)throw new Error("Cannot find square root");let d=n,u=o.mul(o.ONE,s),h=o.pow(l,e),p=o.pow(l,a);for(;!o.eql(h,o.ONE);){if(o.is0(h))return o.ZERO;let f=1,g=o.sqr(h);for(;!o.eql(g,o.ONE);)if(f++,g=o.sqr(g),f===d)throw new Error("Cannot find square root");const m=vr<<BigInt(d-f-1),w=o.pow(u,m);d=f,u=o.sqr(w),h=o.mul(h,u),p=o.mul(p,w)}return p}}function zV(t){return t%N9===UV?R9:t%O9===j9?BV:WV(t)}const qV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function HV(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=qV.reduce((r,i)=>(r[i]="function",r),e);return jf(t,n),t}function VV(t,e,n){if(n<Or)throw new Error("invalid exponent, negatives unsupported");if(n===Or)return t.ONE;if(n===vr)return e;let r=t.ONE,i=e;for(;n>Or;)n&vr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=vr;return r}function M9(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((a,o,l)=>t.is0(o)?a:(r[l]=a,t.mul(a,o)),t.ONE),s=t.inv(i);return e.reduceRight((a,o,l)=>t.is0(o)?a:(r[l]=t.mul(a,r[l]),t.mul(a,o)),s),r}function $5(t,e){const n=(t.ORDER-vr)/ko,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),a=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function KV(t,e){e!==void 0&&ca(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Nc(t,e,n=!1,r={}){if(t<=Or)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:a,nByteLength:o}=KV(t,i);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const d=Object.freeze({ORDER:t,isLE:n,BITS:a,BYTES:o,MASK:Nf(a),ZERO:Or,ONE:vr,create:u=>fi(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Or<=u&&u<t},is0:u=>u===Or,isValidNot0:u=>!d.is0(u)&&d.isValid(u),isOdd:u=>(u&vr)===vr,neg:u=>fi(-u,t),eql:(u,h)=>u===h,sqr:u=>fi(u*u,t),add:(u,h)=>fi(u+h,t),sub:(u,h)=>fi(u-h,t),mul:(u,h)=>fi(u*h,t),pow:(u,h)=>VV(d,u,h),div:(u,h)=>fi(u*k5(h,t),t),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>k5(u,t),sqrt:s||(u=>(l||(l=zV(t)),l(d,u))),toBytes:u=>n?gw(u,o):fw(u,o),fromBytes:u=>{if(u.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+u.length);return n?kp(u):Df(u)},invertBatch:u=>M9(d,u),cmov:(u,h,p)=>p?h:u});return Object.freeze(d)}function L9(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function F9(t){const e=L9(t);return e+Math.ceil(e/2)}function GV(t,e,n=!1){const r=t.length,i=L9(e),s=F9(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const a=n?kp(t):Df(t),o=fi(a,e-vr)+vr;return n?gw(o,i):fw(o,i)}const mc=BigInt(0),$o=BigInt(1);function _d(t,e){const n=e.negate();return t?n:e}function YV(t,e,n){const r=s=>s.pz,i=M9(t.Fp,n.map(r));return n.map((s,a)=>s.toAffine(i[a])).map(t.fromAffine)}function U9(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Lm(t,e){U9(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Nf(t),a=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:a}}function I5(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:a}=n;let o=Number(t&i),l=t>>a;o>r&&(o-=s,l+=$o);const d=e*r,u=d+Math.abs(o)-1,h=o===0,p=o<0,f=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:p,isNegF:f,offsetF:d}}function ZV(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function JV(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Fm=new WeakMap,B9=new WeakMap;function Um(t){return B9.get(t)||1}function S5(t){if(t!==mc)throw new Error("invalid wNAF")}function QV(t,e){return{constTimeNegate:_d,hasPrecomputes(n){return Um(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>mc;)r&$o&&(i=i.add(s)),s=s.double(),r>>=$o;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Lm(r,e),a=[];let o=n,l=o;for(let d=0;d<i;d++){l=o,a.push(l);for(let u=1;u<s;u++)l=l.add(o),a.push(l);o=l.double()}return a},wNAF(n,r,i){let s=t.ZERO,a=t.BASE;const o=Lm(n,e);for(let l=0;l<o.windows;l++){const{nextN:d,offset:u,isZero:h,isNeg:p,isNegF:f,offsetF:g}=I5(i,l,o);i=d,h?a=a.add(_d(f,r[g])):s=s.add(_d(p,r[u]))}return S5(i),{p:s,f:a}},wNAFUnsafe(n,r,i,s=t.ZERO){const a=Lm(n,e);for(let o=0;o<a.windows&&i!==mc;o++){const{nextN:l,offset:d,isZero:u,isNeg:h}=I5(i,o,a);if(i=l,!u){const p=r[d];s=s.add(h?p.negate():p)}}return S5(i),s},getPrecomputes(n,r,i){let s=Fm.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof i=="function"&&(s=i(s)),Fm.set(r,s))),s},wNAFCached(n,r,i){const s=Um(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const a=Um(n);return a===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(a,this.getPrecomputes(a,n,i),r,s)},setWindowSize(n,r){U9(r,e),B9.set(n,r),Fm.delete(n)}}}function XV(t,e,n,r){let i=e,s=t.ZERO,a=t.ZERO;for(;n>mc||r>mc;)n&$o&&(s=s.add(i)),r&$o&&(a=a.add(i)),i=i.double(),n>>=$o,r>>=$o;return{p1:s,p2:a}}function eK(t,e,n,r){ZV(n,t),JV(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=LV(BigInt(i));let l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);const d=Nf(l),u=new Array(Number(d)+1).fill(a),h=Math.floor((e.BITS-1)/l)*l;let p=a;for(let f=h;f>=0;f-=l){u.fill(a);for(let m=0;m<s;m++){const w=r[m],v=Number(w>>BigInt(f)&d);u[v]=u[v].add(n[m])}let g=a;for(let m=u.length-1,w=a;m>0;m--)w=w.add(u[m]),g=g.add(w);if(p=p.add(g),f!==0)for(let m=0;m<l;m++)p=p.double()}return p}function A5(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return HV(e),e}else return Nc(t)}function tK(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const o=e[a];if(!(typeof o=="bigint"&&o>mc))throw new Error(`CURVE.${a} must be positive bigint`)}const r=A5(e.p,n.Fp),i=A5(e.n,n.Fn),s=["Gx","Gy","a","b"];for(const a of s)if(!r.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const qc=BigInt(0),vl=BigInt(1),hh=BigInt(2);function nK(t){return jf(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function rK(t){const e=nK(t),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:a}=e,o=r==="x25519";if(!o&&r!=="x448")throw new Error("invalid type");const l=a||Dc,d=o?255:448,u=o?32:56,h=BigInt(o?9:5),p=BigInt(o?121665:39081),f=o?hh**BigInt(254):hh**BigInt(447),g=o?BigInt(8)*hh**BigInt(251)-vl:BigInt(4)*hh**BigInt(445)-vl,m=f+g+vl,w=I=>fi(I,n),v=C(h);function C(I){return gw(w(I),u)}function _(I){const $=Sr("u coordinate",I,u);return o&&($[31]&=127),w(kp($))}function E(I){return kp(i(Sr("scalar",I,u)))}function x(I,$){const A=S(_($),E(I));if(A===qc)throw new Error("invalid private or public key received");return C(A)}function b(I){return x(I,v)}function k(I,$,A){const N=w(I*($-A));return $=w($-N),A=w(A+N),{x_2:$,x_3:A}}function S(I,$){V0("u",I,qc,n),V0("scalar",$,f,m);const A=$,N=I;let O=vl,D=qc,M=I,B=vl,U=qc;for(let T=BigInt(d-1);T>=qc;T--){const j=A>>T&vl;U^=j,{x_2:O,x_3:M}=k(U,O,M),{x_2:D,x_3:B}=k(U,D,B),U=j;const W=O+D,Z=w(W*W),z=O-D,ie=w(z*z),V=Z-ie,ee=M+B,ae=M-B,te=w(ae*W),he=w(ee*z),xe=te+he,ke=te-he;M=w(xe*xe),B=w(N*w(ke*ke)),O=w(Z*ie),D=w(V*(Z+w(p*V)))}({x_2:O,x_3:M}=k(U,O,M)),{x_2:D,x_3:B}=k(U,D,B);const L=s(D);return w(O*L)}return{scalarMult:x,scalarMultBase:b,getSharedSecret:(I,$)=>x(I,$),getPublicKey:I=>b(I),utils:{randomPrivateKey:()=>l(u)},GuBytes:v.slice()}}BigInt(0);const iK=BigInt(1),T5=BigInt(2),sK=BigInt(3),aK=BigInt(5);BigInt(8);const W9={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function oK(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=W9.p,a=t*t%s*t%s,o=Ri(a,T5,s)*a%s,l=Ri(o,iK,s)*t%s,d=Ri(l,aK,s)*l%s,u=Ri(d,e,s)*d%s,h=Ri(u,n,s)*u%s,p=Ri(h,r,s)*h%s,f=Ri(p,i,s)*p%s,g=Ri(f,i,s)*p%s,m=Ri(g,e,s)*d%s;return{pow_p_5_8:Ri(m,T5,s)*t%s,b2:a}}function lK(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const K0=(()=>{const t=W9.p;return rK({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:r}=oK(e);return fi(Ri(n,sK,t)*r,t)},adjustScalarBytes:lK})})();function P5(t){t.lowS!==void 0&&Ep("lowS",t.lowS),t.prehash!==void 0&&Ep("prehash",t.prehash)}let cK=class extends Error{constructor(e=""){super(e)}};const Js={Err:cK,_tlv:{encode:(t,e)=>{const{Err:n}=Js;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=uh(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?uh(i.length/2|128):"";return uh(t)+s+i+e},decode(t,e){const{Err:n}=Js;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let a=0;if(!s)a=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const d=e.subarray(r,r+l);if(d.length!==l)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of d)a=a<<8|u;if(r+=l,a<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+a);if(o.length!==a)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+a)}}},_int:{encode(t){const{Err:e}=Js;if(t<Ed)throw new e("integer: negative integers are not allowed");let n=uh(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Js;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Df(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Js,i=Sr("signature",t),{v:s,l:a}=r.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l}=r.decode(2,s),{v:d,l:u}=r.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(d)}},hexFromSig(t){const{_tlv:e,_int:n}=Js,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Ed=BigInt(0),kd=BigInt(1),dK=BigInt(2),ph=BigInt(3),uK=BigInt(4);function hK(t,e,n){function r(i){const s=t.sqr(i),a=t.mul(s,i);return t.add(t.add(a,t.mul(i,e)),n)}return r}function z9(t,e,n){const{BYTES:r}=t;function i(s){let a;if(typeof s=="bigint")a=s;else{let o=Sr("private key",s);if(e){if(!e.includes(o.length*2))throw new Error("invalid private key");const l=new Uint8Array(r);l.set(o,l.length-o.length),o=l}try{a=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(a=t.create(a)),!t.isValidNot0(a))throw new Error("invalid private key: out of range [1..N-1]");return a}return i}function pK(t,e={}){const{Fp:n,Fn:r}=tK("weierstrass",t,e),{h:i,n:s}=t;jf(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:a}=e;if(a&&(!n.is0(t.a)||typeof a.beta!="bigint"||typeof a.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function o(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(S,I,$){const{x:A,y:N}=I.toAffine(),O=n.toBytes(A);if(Ep("isCompressed",$),$){o();const D=!n.isOdd(N);return Eo(q9(D),O)}else return Eo(Uint8Array.of(4),O,n.toBytes(N))}function d(S){_i(S);const I=n.BYTES,$=I+1,A=2*I+1,N=S.length,O=S[0],D=S.subarray(1);if(N===$&&(O===2||O===3)){const M=n.fromBytes(D);if(!n.isValid(M))throw new Error("bad point: is not on curve, wrong x");const B=p(M);let U;try{U=n.sqrt(B)}catch(T){const j=T instanceof Error?": "+T.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}o();const L=n.isOdd(U);return(O&1)===1!==L&&(U=n.neg(U)),{x:M,y:U}}else if(N===A&&O===4){const M=n.fromBytes(D.subarray(I*0,I*1)),B=n.fromBytes(D.subarray(I*1,I*2));if(!f(M,B))throw new Error("bad point: is not on curve");return{x:M,y:B}}else throw new Error(`bad point: got length ${N}, expected compressed=${$} or uncompressed=${A}`)}const u=e.toBytes||l,h=e.fromBytes||d,p=hK(n,t.a,t.b);function f(S,I){const $=n.sqr(I),A=p(S);return n.eql($,A)}if(!f(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const g=n.mul(n.pow(t.a,ph),uK),m=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(g,m)))throw new Error("bad curve params: a or b");function w(S,I,$=!1){if(!n.isValid(I)||$&&n.is0(I))throw new Error(`bad point coordinate ${S}`);return I}function v(S){if(!(S instanceof x))throw new Error("ProjectivePoint expected")}const C=E5((S,I)=>{const{px:$,py:A,pz:N}=S;if(n.eql(N,n.ONE))return{x:$,y:A};const O=S.is0();I==null&&(I=O?n.ONE:n.inv(N));const D=n.mul($,I),M=n.mul(A,I),B=n.mul(N,I);if(O)return{x:n.ZERO,y:n.ZERO};if(!n.eql(B,n.ONE))throw new Error("invZ was invalid");return{x:D,y:M}}),_=E5(S=>{if(S.is0()){if(e.allowInfinityPoint&&!n.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:I,y:$}=S.toAffine();if(!n.isValid(I)||!n.isValid($))throw new Error("bad point: x or y not field elements");if(!f(I,$))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function E(S,I,$,A,N){return $=new x(n.mul($.px,S),$.py,$.pz),I=_d(A,I),$=_d(N,$),I.add($)}class x{constructor(I,$,A){this.px=w("x",I),this.py=w("y",$,!0),this.pz=w("z",A),Object.freeze(this)}static fromAffine(I){const{x:$,y:A}=I||{};if(!I||!n.isValid($)||!n.isValid(A))throw new Error("invalid affine point");if(I instanceof x)throw new Error("projective point not allowed");return n.is0($)&&n.is0(A)?x.ZERO:new x($,A,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){return YV(x,"pz",I)}static fromBytes(I){return _i(I),x.fromHex(I)}static fromHex(I){const $=x.fromAffine(h(Sr("pointHex",I)));return $.assertValidity(),$}static fromPrivateKey(I){const $=z9(r,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return x.BASE.multiply($(I))}static msm(I,$){return eK(x,r,I,$)}precompute(I=8,$=!0){return k.setWindowSize(this,I),$||this.multiply(ph),this}_setWindowSize(I){this.precompute(I)}assertValidity(){_(this)}hasEvenY(){const{y:I}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(I)}equals(I){v(I);const{px:$,py:A,pz:N}=this,{px:O,py:D,pz:M}=I,B=n.eql(n.mul($,M),n.mul(O,N)),U=n.eql(n.mul(A,M),n.mul(D,N));return B&&U}negate(){return new x(this.px,n.neg(this.py),this.pz)}double(){const{a:I,b:$}=t,A=n.mul($,ph),{px:N,py:O,pz:D}=this;let M=n.ZERO,B=n.ZERO,U=n.ZERO,L=n.mul(N,N),T=n.mul(O,O),j=n.mul(D,D),W=n.mul(N,O);return W=n.add(W,W),U=n.mul(N,D),U=n.add(U,U),M=n.mul(I,U),B=n.mul(A,j),B=n.add(M,B),M=n.sub(T,B),B=n.add(T,B),B=n.mul(M,B),M=n.mul(W,M),U=n.mul(A,U),j=n.mul(I,j),W=n.sub(L,j),W=n.mul(I,W),W=n.add(W,U),U=n.add(L,L),L=n.add(U,L),L=n.add(L,j),L=n.mul(L,W),B=n.add(B,L),j=n.mul(O,D),j=n.add(j,j),L=n.mul(j,W),M=n.sub(M,L),U=n.mul(j,T),U=n.add(U,U),U=n.add(U,U),new x(M,B,U)}add(I){v(I);const{px:$,py:A,pz:N}=this,{px:O,py:D,pz:M}=I;let B=n.ZERO,U=n.ZERO,L=n.ZERO;const T=t.a,j=n.mul(t.b,ph);let W=n.mul($,O),Z=n.mul(A,D),z=n.mul(N,M),ie=n.add($,A),V=n.add(O,D);ie=n.mul(ie,V),V=n.add(W,Z),ie=n.sub(ie,V),V=n.add($,N);let ee=n.add(O,M);return V=n.mul(V,ee),ee=n.add(W,z),V=n.sub(V,ee),ee=n.add(A,N),B=n.add(D,M),ee=n.mul(ee,B),B=n.add(Z,z),ee=n.sub(ee,B),L=n.mul(T,V),B=n.mul(j,z),L=n.add(B,L),B=n.sub(Z,L),L=n.add(Z,L),U=n.mul(B,L),Z=n.add(W,W),Z=n.add(Z,W),z=n.mul(T,z),V=n.mul(j,V),Z=n.add(Z,z),z=n.sub(W,z),z=n.mul(T,z),V=n.add(V,z),W=n.mul(Z,V),U=n.add(U,W),W=n.mul(ee,V),B=n.mul(ie,B),B=n.sub(B,W),W=n.mul(ie,Z),L=n.mul(ee,L),L=n.add(L,W),new x(B,U,L)}subtract(I){return this.add(I.negate())}is0(){return this.equals(x.ZERO)}multiply(I){const{endo:$}=e;if(!r.isValidNot0(I))throw new Error("invalid scalar: out of range");let A,N;const O=D=>k.wNAFCached(this,D,x.normalizeZ);if($){const{k1neg:D,k1:M,k2neg:B,k2:U}=$.splitScalar(I),{p:L,f:T}=O(M),{p:j,f:W}=O(U);N=T.add(W),A=E($.beta,L,j,D,B)}else{const{p:D,f:M}=O(I);A=D,N=M}return x.normalizeZ([A,N])[0]}multiplyUnsafe(I){const{endo:$}=e,A=this;if(!r.isValid(I))throw new Error("invalid scalar: out of range");if(I===Ed||A.is0())return x.ZERO;if(I===kd)return A;if(k.hasPrecomputes(this))return this.multiply(I);if($){const{k1neg:N,k1:O,k2neg:D,k2:M}=$.splitScalar(I),{p1:B,p2:U}=XV(x,A,O,M);return E($.beta,B,U,N,D)}else return k.wNAFCachedUnsafe(A,I)}multiplyAndAddUnsafe(I,$,A){const N=this.multiplyUnsafe($).add(I.multiplyUnsafe(A));return N.is0()?void 0:N}toAffine(I){return C(this,I)}isTorsionFree(){const{isTorsionFree:I}=e;return i===kd?!0:I?I(x,this):k.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:I}=e;return i===kd?this:I?I(x,this):this.multiplyUnsafe(i)}toBytes(I=!0){return Ep("isCompressed",I),this.assertValidity(),u(x,this,I)}toRawBytes(I=!0){return this.toBytes(I)}toHex(I=!0){return lu(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}x.BASE=new x(t.Gx,t.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO),x.Fp=n,x.Fn=r;const b=r.BITS,k=QV(x,e.endo?Math.ceil(b/2):b);return x}function q9(t){return Uint8Array.of(t?2:3)}function fK(t,e,n={}){jf(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=e.randomBytes||Dc,i=e.hmac||((A,...N)=>Tf(e.hash,A,Eo(...N))),{Fp:s,Fn:a}=t,{ORDER:o,BITS:l}=a;function d(A){const N=o>>kd;return A>N}function u(A){return d(A)?a.neg(A):A}function h(A,N){if(!a.isValidNot0(N))throw new Error(`invalid signature ${A}: out of range 1..CURVE.n`)}class p{constructor(N,O,D){h("r",N),h("s",O),this.r=N,this.s=O,D!=null&&(this.recovery=D),Object.freeze(this)}static fromCompact(N){const O=a.BYTES,D=Sr("compactSignature",N,O*2);return new p(a.fromBytes(D.subarray(0,O)),a.fromBytes(D.subarray(O,O*2)))}static fromDER(N){const{r:O,s:D}=Js.toSig(Sr("DER",N));return new p(O,D)}assertValidity(){}addRecoveryBit(N){return new p(this.r,this.s,N)}recoverPublicKey(N){const O=s.ORDER,{r:D,s:M,recovery:B}=this;if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");if(o*dK<O&&B>1)throw new Error("recovery id is ambiguous for h>1 curve");const U=B===2||B===3?D+o:D;if(!s.isValid(U))throw new Error("recovery id 2 or 3 invalid");const L=s.toBytes(U),T=t.fromHex(Eo(q9((B&1)===0),L)),j=a.inv(U),W=_(Sr("msgHash",N)),Z=a.create(-W*j),z=a.create(M*j),ie=t.BASE.multiplyUnsafe(Z).add(T.multiplyUnsafe(z));if(ie.is0())throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,a.neg(this.s),this.recovery):this}toBytes(N){if(N==="compact")return Eo(a.toBytes(this.r),a.toBytes(this.s));if(N==="der")return dw(Js.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return lu(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return lu(this.toBytes("compact"))}}const f=z9(a,n.allowedPrivateKeyLengths,n.wrapPrivateKey),g={isValidPrivateKey(A){try{return f(A),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const A=o;return GV(r(F9(A)),A)},precompute(A=8,N=t.BASE){return N.precompute(A,!1)}};function m(A,N=!0){return t.fromPrivateKey(A).toBytes(N)}function w(A){if(typeof A=="bigint")return!1;if(A instanceof t)return!0;const N=Sr("key",A).length,O=s.BYTES,D=O+1,M=2*O+1;if(!(n.allowedPrivateKeyLengths||a.BYTES===D))return N===D||N===M}function v(A,N,O=!0){if(w(A)===!0)throw new Error("first arg must be private key");if(w(N)===!1)throw new Error("second arg must be public key");return t.fromHex(N).multiply(f(A)).toBytes(O)}const C=e.bits2int||function(A){if(A.length>8192)throw new Error("input is too large");const N=Df(A),O=A.length*8-l;return O>0?N>>BigInt(O):N},_=e.bits2int_modN||function(A){return a.create(C(A))},E=Nf(l);function x(A){return V0("num < 2^"+l,A,Ed,E),a.toBytes(A)}function b(A,N,O=k){if(["recovered","canonical"].some(ie=>ie in O))throw new Error("sign() legacy options not supported");const{hash:D}=e;let{lowS:M,prehash:B,extraEntropy:U}=O;M==null&&(M=!0),A=Sr("msgHash",A),P5(O),B&&(A=Sr("prehashed msgHash",D(A)));const L=_(A),T=f(N),j=[x(T),x(L)];if(U!=null&&U!==!1){const ie=U===!0?r(s.BYTES):U;j.push(Sr("extraEntropy",ie))}const W=Eo(...j),Z=L;function z(ie){const V=C(ie);if(!a.isValidNot0(V))return;const ee=a.inv(V),ae=t.BASE.multiply(V).toAffine(),te=a.create(ae.x);if(te===Ed)return;const he=a.create(ee*a.create(Z+te*T));if(he===Ed)return;let xe=(ae.x===te?0:2)|Number(ae.y&kd),ke=he;return M&&d(he)&&(ke=u(he),xe^=1),new p(te,ke,xe)}return{seed:W,k2sig:z}}const k={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};function I(A,N,O=k){const{seed:D,k2sig:M}=b(A,N,O);return FV(e.hash.outputLen,a.BYTES,i)(D,M)}t.BASE.precompute(8);function $(A,N,O,D=S){const M=A;N=Sr("msgHash",N),O=Sr("publicKey",O),P5(D);const{lowS:B,prehash:U,format:L}=D;if("strict"in D)throw new Error("options.strict was renamed to lowS");if(L!==void 0&&!["compact","der","js"].includes(L))throw new Error('format must be "compact", "der" or "js"');const T=typeof M=="string"||ow(M),j=!T&&!L&&typeof M=="object"&&M!==null&&typeof M.r=="bigint"&&typeof M.s=="bigint";if(!T&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,Z;try{if(j)if(L===void 0||L==="js")W=new p(M.r,M.s);else throw new Error("invalid format");if(T){try{L!=="compact"&&(W=p.fromDER(M))}catch(xe){if(!(xe instanceof Js.Err))throw xe}!W&&L!=="der"&&(W=p.fromCompact(M))}Z=t.fromHex(O)}catch{return!1}if(!W||B&&W.hasHighS())return!1;U&&(N=e.hash(N));const{r:z,s:ie}=W,V=_(N),ee=a.inv(ie),ae=a.create(V*ee),te=a.create(z*ee),he=t.BASE.multiplyUnsafe(ae).add(Z.multiplyUnsafe(te));return he.is0()?!1:a.create(he.x)===z}return Object.freeze({getPublicKey:m,getSharedSecret:v,sign:I,verify:$,utils:g,Point:t,Signature:p})}function gK(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=Nc(e.n,t.nBitLength),i={Fp:n,Fn:r,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function mK(t){const{CURVE:e,curveOpts:n}=gK(t),r={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:r}}function yK(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function wK(t){const{CURVE:e,curveOpts:n,ecdsaOpts:r}=mK(t),i=pK(e,n),s=fK(i,r,n);return yK(t,s)}function G0(t,e){const n=r=>wK({...t,hash:r});return{...n(e),create:n}}const H9={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},V9={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},K9={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},vK=Nc(H9.p),bK=Nc(V9.p),xK=Nc(K9.p),CK=G0({...H9,Fp:vK,lowS:!1},Af);G0({...V9,Fp:bK,lowS:!1},TH),G0({...K9,Fp:xK,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},AH);const _K=CK,G9="base10",br="base16",Pr="base64pad",Ma="base64url",Du="utf8",Y9=0,ia=1,Nu=2,EK=0,D5=1,$d=12,mw=32;function kK(){const t=K0.utils.randomPrivateKey(),e=K0.getPublicKey(t);return{privateKey:Xr(t,br),publicKey:Xr(e,br)}}function Y0(){const t=Dc(mw);return Xr(t,br)}function $K(t,e){const n=K0.getSharedSecret(vi(t,br),vi(e,br)),r=RV(Pf,n,void 0,void 0,mw);return Xr(r,br)}function zh(t){const e=Pf(vi(t,br));return Xr(e,br)}function pi(t){const e=Pf(vi(t,Du));return Xr(e,br)}function Z9(t){return vi(`${t}`,G9)}function Wo(t){return Number(Xr(t,G9))}function J9(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Q9(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function IK(t){const e=Z9(typeof t.type<"u"?t.type:Y9);if(Wo(e)===ia&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?vi(t.senderPublicKey,br):void 0,r=typeof t.iv<"u"?vi(t.iv,br):Dc($d),i=vi(t.symKey,br),s=T9(i,r).encrypt(vi(t.message,Du)),a=X9({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Ma?J9(a):a}function SK(t){const e=vi(t.symKey,br),{sealed:n,iv:r}=du({encoded:t.encoded,encoding:t.encoding}),i=T9(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Xr(i,Du)}function AK(t,e){const n=Z9(Nu),r=Dc($d),i=vi(t,Du),s=X9({type:n,sealed:i,iv:r});return e===Ma?J9(s):s}function TK(t,e){const{sealed:n}=du({encoded:t,encoding:e});return Xr(n,Du)}function X9(t){if(Wo(t.type)===Nu)return Xr(Cd([t.type,t.sealed]),Pr);if(Wo(t.type)===ia){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Xr(Cd([t.type,t.senderPublicKey,t.iv,t.sealed]),Pr)}return Xr(Cd([t.type,t.iv,t.sealed]),Pr)}function du(t){const e=(t.encoding||Pr)===Ma?Q9(t.encoded):t.encoded,n=vi(e,Pr),r=n.slice(EK,D5),i=D5;if(Wo(r)===ia){const l=i+mw,d=l+$d,u=n.slice(i,l),h=n.slice(l,d),p=n.slice(d);return{type:r,sealed:p,iv:h,senderPublicKey:u}}if(Wo(r)===Nu){const l=n.slice(i),d=Dc($d);return{type:r,sealed:l,iv:d}}const s=i+$d,a=n.slice(i,s),o=n.slice(s);return{type:r,sealed:o,iv:a}}function PK(t,e){const n=du({encoded:t,encoding:e==null?void 0:e.encoding});return e_({type:Wo(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Xr(n.senderPublicKey,br):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function e_(t){const e=(t==null?void 0:t.type)||Y9;if(e===ia){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function N5(t){return t.type===ia&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function j5(t){return t.type===Nu}function DK(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Cd([new Uint8Array([4]),e,n])}function NK(t,e){const[n,r,i]=t.split("."),s=Buffer.from(Q9(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const a=s.slice(0,32),o=s.slice(32,64),l=`${n}.${r}`,d=Pf(l),u=DK(e);if(!_K.verify(Cd([a,o]),d,u))throw new Error("Invalid signature");return e0(t).payload}const jK="irn";function $p(t){return(t==null?void 0:t.relay)||{protocol:jK}}function Bl(t){const e=iT[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function OK(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),a=t[i];n[s]=a}}),n}function O5(t){if(!t.includes("wc:")){const d=u9(t);d!=null&&d.includes("wc:")&&(t=d)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",a=new URLSearchParams(s),o={};a.forEach((d,u)=>{o[u]=d});const l=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:r,topic:RK(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:OK(o),methods:l,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function RK(t){return t.startsWith("//")?t.substring(2):t}function MK(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,a=n+e+s;t[s]&&(r[a]=t[s])}),r}function R5(t){const e=new URLSearchParams,n=MK(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function fh(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var LK=Object.defineProperty,FK=Object.defineProperties,UK=Object.getOwnPropertyDescriptors,M5=Object.getOwnPropertySymbols,BK=Object.prototype.hasOwnProperty,WK=Object.prototype.propertyIsEnumerable,L5=(t,e,n)=>e in t?LK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zK=(t,e)=>{for(var n in e||(e={}))BK.call(e,n)&&L5(t,n,e[n]);if(M5)for(var n of M5(e))WK.call(e,n)&&L5(t,n,e[n]);return t},qK=(t,e)=>FK(t,UK(e));function jc(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function HK(t){const e=[];return Object.values(t).forEach(n=>{e.push(...jc(n.accounts))}),e}function VK(t,e){const n=[];return Object.values(t).forEach(r=>{jc(r.accounts).includes(e)&&n.push(...r.methods)}),n}function KK(t,e){const n=[];return Object.values(t).forEach(r=>{jc(r.accounts).includes(e)&&n.push(...r.events)}),n}function Of(t){return t.includes(":")}function Wl(t){return Of(t)?t.split(":")[0]:t}function F5(t){var e,n,r;const i={};if(!Cs(t))return i;for(const[s,a]of Object.entries(t)){const o=Of(s)?[s]:a.chains,l=a.methods||[],d=a.events||[],u=Wl(s);i[u]=qK(zK({},i[u]),{chains:xs(o,(e=i[u])==null?void 0:e.chains),methods:xs(l,(n=i[u])==null?void 0:n.methods),events:xs(d,(r=i[u])==null?void 0:r.events)})}return i}function GK(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function U5(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=GK(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=xs(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function YK(t,e){var n,r,i,s,a,o;const l=F5(t),d=F5(e),u={},h=Object.keys(l).concat(Object.keys(d));for(const p of h)u[p]={chains:xs((n=l[p])==null?void 0:n.chains,(r=d[p])==null?void 0:r.chains),methods:xs((i=l[p])==null?void 0:i.methods,(s=d[p])==null?void 0:s.methods),events:xs((a=l[p])==null?void 0:a.events,(o=d[p])==null?void 0:o.events)};return u}const ZK={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},JK={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function $e(t,e){const{message:n,code:r}=JK[t];return{message:e?`${n} ${e}`:n,code:r}}function nn(t,e){const{message:n,code:r}=ZK[t];return{message:e?`${n} ${e}`:n,code:r}}function bi(t,e){return!!Array.isArray(t)}function Cs(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Rn(t){return typeof t>"u"}function Sn(t,e){return e&&Rn(t)?!0:typeof t=="string"&&!!t.trim().length}function yw(t,e){return e&&Rn(t)?!0:typeof t=="number"&&!isNaN(t)}function QK(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return _o(i,r)?(r.forEach(a=>{const{accounts:o,methods:l,events:d}=t.namespaces[a],u=jc(o),h=n[a];(!_o(a9(a,h),u)||!_o(h.methods,l)||!_o(h.events,d))&&(s=!1)}),s):!1}function Ip(t){return Sn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function XK(t){if(Sn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&Ip(n)}}return!1}function eG(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Sn(t,!1)){if(e(t))return!0;const n=u9(t);return e(n)}}catch{}return!1}function tG(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function nG(t){return t==null?void 0:t.topic}function rG(t,e){let n=null;return Sn(t==null?void 0:t.publicKey,!1)||(n=$e("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function B5(t){let e=!0;return bi(t)?t.length&&(e=t.every(n=>Sn(n,!1))):e=!1,e}function iG(t,e,n){let r=null;return bi(e)&&e.length?e.forEach(i=>{r||Ip(i)||(r=nn("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):Ip(t)||(r=nn("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function sG(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const a=iG(i,a9(i,s),`${e} ${n}`);a&&(r=a)}),r}function aG(t,e){let n=null;return bi(t)?t.forEach(r=>{n||XK(r)||(n=nn("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=nn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function oG(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=aG(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function lG(t,e){let n=null;return B5(t==null?void 0:t.methods)?B5(t==null?void 0:t.events)||(n=nn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=nn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function t_(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=lG(r,`${e}, namespace`);i&&(n=i)}),n}function cG(t,e,n){let r=null;if(t&&Cs(t)){const i=t_(t,e);i&&(r=i);const s=sG(t,e,n);s&&(r=s)}else r=$e("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Bm(t,e){let n=null;if(t&&Cs(t)){const r=t_(t,e);r&&(n=r);const i=oG(t,e);i&&(n=i)}else n=$e("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function n_(t){return Sn(t.protocol,!0)}function dG(t,e){let n=!1;return t?t&&bi(t)&&t.length&&t.forEach(r=>{n=n_(r)}):n=!0,n}function uG(t){return typeof t=="number"}function Ir(t){return typeof t<"u"&&typeof t!==null}function hG(t){return!(!t||typeof t!="object"||!t.code||!yw(t.code,!1)||!t.message||!Sn(t.message,!1))}function pG(t){return!(Rn(t)||!Sn(t.method,!1))}function fG(t){return!(Rn(t)||Rn(t.result)&&Rn(t.error)||!yw(t.id,!1)||!Sn(t.jsonrpc,!1))}function gG(t){return!(Rn(t)||!Sn(t.name,!1))}function W5(t,e){return!(!Ip(e)||!HK(t).includes(e))}function mG(t,e,n){return Sn(n,!1)?VK(t,e).includes(n):!1}function yG(t,e,n){return Sn(n,!1)?KK(t,e).includes(n):!1}function z5(t,e,n){let r=null;const i=wG(t),s=vG(e),a=Object.keys(i),o=Object.keys(s),l=q5(Object.keys(t)),d=q5(Object.keys(e)),u=l.filter(h=>!d.includes(h));return u.length&&(r=$e("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),_o(a,o)||(r=$e("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||r)return;const p=jc(e[h].accounts);p.includes(h)||(r=$e("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${p.toString()}`))}),a.forEach(h=>{r||(_o(i[h].methods,s[h].methods)?_o(i[h].events,s[h].events)||(r=$e("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=$e("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function wG(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function q5(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function vG(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=jc(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function bG(t,e){return yw(t,!1)&&t<=e.max&&t>=e.min}function H5(){const t=Tu();return new Promise(e=>{switch(t){case Qr.browser:e(xG());break;case Qr.reactNative:e(CG());break;case Qr.node:e(_G());break;default:e(!0)}})}function xG(){return Pc()&&(navigator==null?void 0:navigator.onLine)}async function CG(){if(Xa()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function _G(){return!0}function EG(t){switch(Tu()){case Qr.browser:kG(t);break;case Qr.reactNative:$G(t);break}}function kG(t){!Xa()&&Pc()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function $G(t){Xa()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function IG(){var t;return Pc()&&oa.getDocument()?((t=oa.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const Wm={};let Hc=class{static get(e){return Wm[e]}static set(e,n){Wm[e]=n}static delete(e){delete Wm[e]}};function SG(t){const e=Cu.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function AG({publicKey:t,signature:e,payload:n}){var r;const i=Z0(n.method),s=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),a=DG(n.address),o=n.era==="00"?new Uint8Array([0]):Z0(n.era);if(o.length!==1&&o.length!==2)throw new Error("Invalid era length");const l=parseInt(n.nonce,16),d=new Uint8Array([l&255,l>>8&255]),u=BigInt(`0x${PG(n.tip)}`),h=jG(u),p=new Uint8Array([0,...t,a,...e,...o,...d,...h,...i]),f=NG(p.length+1);return new Uint8Array([...f,s,...p])}function TG(t){const e=Z0(t),n=cT.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function Z0(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function PG(t){return t.startsWith("0x")?t.slice(2):t}function DG(t){const e=Cu.decode(t)[0];return e===42?0:e===60?2:1}function NG(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function jG(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function OG(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=SG(t.transaction.address),r=AG({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(r).toString("hex");return TG(i)}var zm,V5;function RG(){if(V5)return zm;V5=1;const t=w2();zm=i;const e=x().console||{},n={mapHttpRequest:g,mapHttpResponse:g,wrapRequestSerializer:m,wrapResponseSerializer:m,wrapErrorSerializer:m,req:g,res:g,err:p};function r(b,k){return Array.isArray(b)?b.filter(function(I){return I!=="!stdSerializers.err"}):b===!0?Object.keys(k):!1}function i(b){b=b||{},b.browser=b.browser||{};const k=b.browser.transmit;if(k&&typeof k.send!="function")throw Error("pino: transmit option must have a send function");const S=b.browser.write||e;b.browser.write&&(b.browser.asObject=!0);const I=b.serializers||{},$=r(b.browser.serialize,I);let A=b.browser.serialize;Array.isArray(b.browser.serialize)&&b.browser.serialize.indexOf("!stdSerializers.err")>-1&&(A=!1);const N=["error","fatal","warn","info","debug","trace"];typeof S=="function"&&(S.error=S.fatal=S.warn=S.info=S.debug=S.trace=S),b.enabled===!1&&(b.level="silent");const O=b.level||"info",D=Object.create(S);D.log||(D.log=w),Object.defineProperty(D,"levelVal",{get:B}),Object.defineProperty(D,"level",{get:U,set:L});const M={transmit:k,serialize:$,asObject:b.browser.asObject,levels:N,timestamp:f(b)};D.levels=i.levels,D.level=O,D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=w,D.serializers=I,D._serialize=$,D._stdErrSerialize=A,D.child=T,k&&(D._logEvent=h());function B(){return this.level==="silent"?1/0:this.levels.values[this.level]}function U(){return this._level}function L(j){if(j!=="silent"&&!this.levels.values[j])throw Error("unknown level "+j);this._level=j,s(M,D,"error","log"),s(M,D,"fatal","error"),s(M,D,"warn","error"),s(M,D,"info","log"),s(M,D,"debug","log"),s(M,D,"trace","log")}function T(j,W){if(!j)throw new Error("missing bindings for child Pino");W=W||{},$&&j.serializers&&(W.serializers=j.serializers);const Z=W.serializers;if($&&Z){var z=Object.assign({},I,Z),ie=b.browser.serialize===!0?Object.keys(z):$;delete j.serializers,l([j],ie,z,this._stdErrSerialize)}function V(ee){this._childLevel=(ee._childLevel|0)+1,this.error=d(ee,j,"error"),this.fatal=d(ee,j,"fatal"),this.warn=d(ee,j,"warn"),this.info=d(ee,j,"info"),this.debug=d(ee,j,"debug"),this.trace=d(ee,j,"trace"),z&&(this.serializers=z,this._serialize=ie),k&&(this._logEvent=h([].concat(ee._logEvent.bindings,j)))}return V.prototype=this,new V(this)}return D}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:C,unixTime:_,isoTime:E});function s(b,k,S,I){const $=Object.getPrototypeOf(k);k[S]=k.levelVal>k.levels.values[S]?w:$[S]?$[S]:e[S]||e[I]||w,a(b,k,S)}function a(b,k,S){!b.transmit&&k[S]===w||(k[S]=(function(I){return function(){const A=b.timestamp(),N=new Array(arguments.length),O=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var D=0;D<N.length;D++)N[D]=arguments[D];if(b.serialize&&!b.asObject&&l(N,this._serialize,this.serializers,this._stdErrSerialize),b.asObject?I.call(O,o(this,S,N,A)):I.apply(O,N),b.transmit){const M=b.transmit.level||k.level,B=i.levels.values[M],U=i.levels.values[S];if(U<B)return;u(this,{ts:A,methodLevel:S,methodValue:U,transmitValue:i.levels.values[b.transmit.level||k.level],send:b.transmit.send,val:k.levelVal},N)}}})(k[S]))}function o(b,k,S,I){b._serialize&&l(S,b._serialize,b.serializers,b._stdErrSerialize);const $=S.slice();let A=$[0];const N={};I&&(N.time=I),N.level=i.levels.values[k];let O=(b._childLevel|0)+1;if(O<1&&(O=1),A!==null&&typeof A=="object"){for(;O--&&typeof $[0]=="object";)Object.assign(N,$.shift());A=$.length?t($.shift(),$):void 0}else typeof A=="string"&&(A=t($.shift(),$));return A!==void 0&&(N.msg=A),N}function l(b,k,S,I){for(const $ in b)if(I&&b[$]instanceof Error)b[$]=i.stdSerializers.err(b[$]);else if(typeof b[$]=="object"&&!Array.isArray(b[$]))for(const A in b[$])k&&k.indexOf(A)>-1&&A in S&&(b[$][A]=S[A](b[$][A]))}function d(b,k,S){return function(){const I=new Array(1+arguments.length);I[0]=k;for(var $=1;$<I.length;$++)I[$]=arguments[$-1];return b[S].apply(this,I)}}function u(b,k,S){const I=k.send,$=k.ts,A=k.methodLevel,N=k.methodValue,O=k.val,D=b._logEvent.bindings;l(S,b._serialize||Object.keys(b.serializers),b.serializers,b._stdErrSerialize===void 0?!0:b._stdErrSerialize),b._logEvent.ts=$,b._logEvent.messages=S.filter(function(M){return D.indexOf(M)===-1}),b._logEvent.level.label=A,b._logEvent.level.value=N,I(A,b._logEvent,O),b._logEvent=h(D)}function h(b){return{ts:0,messages:[],bindings:b||[],level:{label:"",value:0}}}function p(b){const k={type:b.constructor.name,msg:b.message,stack:b.stack};for(const S in b)k[S]===void 0&&(k[S]=b[S]);return k}function f(b){return typeof b.timestamp=="function"?b.timestamp:b.timestamp===!1?v:C}function g(){return{}}function m(b){return b}function w(){}function v(){return!1}function C(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function E(){return new Date(Date.now()).toISOString()}function x(){function b(k){return typeof k<"u"&&k}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return b(self)||b(window)||b(this)||{}}}return zm}var Ml=RG();const ww=ha(Ml),MG={level:"info"},ju="custom_context",vw=1e3*1024;let LG=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},K5=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new LG(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},r_=class{constructor(e,n=vw){this.level=e??"error",this.levelValue=Ml.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new K5(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Ml.levels.values.error?console.error(e):n===Ml.levels.values.warn?console.warn(e):n===Ml.levels.values.debug?console.debug(e):n===Ml.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(t0({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new K5(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(t0({extraMetadata:e})),new Blob(n,{type:"application/json"})}},FG=class{constructor(e,n=vw){this.baseChunkLogger=new r_(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},UG=class{constructor(e,n=vw){this.baseChunkLogger=new r_(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var BG=Object.defineProperty,WG=Object.defineProperties,zG=Object.getOwnPropertyDescriptors,G5=Object.getOwnPropertySymbols,qG=Object.prototype.hasOwnProperty,HG=Object.prototype.propertyIsEnumerable,Y5=(t,e,n)=>e in t?BG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sp=(t,e)=>{for(var n in e||(e={}))qG.call(e,n)&&Y5(t,n,e[n]);if(G5)for(var n of G5(e))HG.call(e,n)&&Y5(t,n,e[n]);return t},Ap=(t,e)=>WG(t,zG(e));function i_(t){return Ap(Sp({},t),{level:(t==null?void 0:t.level)||MG.level})}function VG(t,e=ju){return t[e]||""}function KG(t,e,n=ju){return t[n]=e,t}function ri(t,e=ju){let n="";return typeof t.bindings>"u"?n=VG(t,e):n=t.bindings().context||"",n}function GG(t,e,n=ju){const r=ri(t,n);return r.trim()?`${r}/${e}`:e}function Rr(t,e,n=ju){const r=GG(t,e,n),i=t.child({context:r});return KG(i,r,n)}function YG(t){var e,n;const r=new FG((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ww(Ap(Sp({},t.opts),{level:"trace",browser:Ap(Sp({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function ZG(t){var e;const n=new UG((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ww(Ap(Sp({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function JG(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?YG(t):ZG(t)}var QG=Object.defineProperty,XG=(t,e,n)=>e in t?QG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z5=(t,e,n)=>XG(t,typeof e!="symbol"?e+"":e,n);let eY=class extends Ec{constructor(e){super(),this.opts=e,Z5(this,"protocol","wc"),Z5(this,"version",2)}};var tY=Object.defineProperty,nY=(t,e,n)=>e in t?tY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rY=(t,e,n)=>nY(t,e+"",n);let iY=class extends Ec{constructor(e,n){super(),this.core=e,this.logger=n,rY(this,"records",new Map)}},sY=class{constructor(e,n){this.logger=e,this.core=n}},aY=class extends Ec{constructor(e,n){super(),this.relayer=e,this.logger=n}},oY=class extends Ec{constructor(e){super()}},lY=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},cY=class extends Ec{constructor(e,n){super(),this.relayer=e,this.logger=n}},dY=class extends Ec{constructor(e,n){super(),this.core=e,this.logger=n}},uY=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},hY=class{constructor(e,n){this.projectId=e,this.logger=n}},pY=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var fY=Object.defineProperty,gY=(t,e,n)=>e in t?fY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J5=(t,e,n)=>gY(t,typeof e!="symbol"?e+"":e,n);let mY=class{constructor(e){this.opts=e,J5(this,"protocol","wc"),J5(this,"version",2)}},yY=class{constructor(e){this.client=e}};function wY(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function vY(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?wY(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function bY(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var o=t.length,l=t.charAt(0),d=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,v=0,C=g.length;v!==C&&g[v]===0;)v++,m++;for(var _=(C-v)*u+1>>>0,E=new Uint8Array(_);v!==C;){for(var x=g[v],b=0,k=_-1;(x!==0||b<w)&&k!==-1;k--,b++)x+=256*E[k]>>>0,E[k]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");w=b,v++}for(var S=_-w;S!==_&&E[S]===0;)S++;for(var I=l.repeat(m);S<_;++S)I+=t.charAt(E[S]);return I}function p(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,v=0;g[m]===l;)w++,m++;for(var C=(g.length-m)*d+1>>>0,_=new Uint8Array(C);g[m];){var E=n[g.charCodeAt(m)];if(E===255)return;for(var x=0,b=C-1;(E!==0||x<v)&&b!==-1;b--,x++)E+=o*_[b]>>>0,_[b]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");v=x,m++}if(g[m]!==" "){for(var k=C-v;k!==C&&_[k]===0;)k++;for(var S=new Uint8Array(w+(C-k)),I=w;k!==C;)S[I++]=_[k++];return S}}}function f(g){var m=p(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:f}}var xY=bY,CY=xY;const _Y=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},EY=t=>new TextEncoder().encode(t),kY=t=>new TextDecoder().decode(t);class $Y{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class IY{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return s_(this,e)}}class SY{constructor(e){this.decoders=e}or(e){return s_(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const s_=(t,e)=>new SY({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class AY{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new $Y(e,n,r),this.decoder=new IY(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Rf=({name:t,prefix:e,encode:n,decode:r})=>new AY(t,e,n,r),Ou=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=CY(n,e);return Rf({prefix:t,name:e,encode:r,decode:s=>_Y(i(s))})},TY=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let o=0,l=0,d=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,o+=n,o>=8&&(o-=8,a[d++]=255&l>>o)}if(o>=n||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a},PY=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],a+=8;a>n;)a-=n,s+=e[i&o>>a];if(a&&(s+=e[i&o<<n-a]),r)for(;s.length*n&7;)s+="=";return s},Xn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Rf({prefix:e,name:t,encode(i){return PY(i,r,n)},decode(i){return TY(i,r,n,t)}}),DY=Rf({prefix:"\0",name:"identity",encode:t=>kY(t),decode:t=>EY(t)}),NY=Object.freeze(Object.defineProperty({__proto__:null,identity:DY},Symbol.toStringTag,{value:"Module"})),jY=Xn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),OY=Object.freeze(Object.defineProperty({__proto__:null,base2:jY},Symbol.toStringTag,{value:"Module"})),RY=Xn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),MY=Object.freeze(Object.defineProperty({__proto__:null,base8:RY},Symbol.toStringTag,{value:"Module"})),LY=Ou({prefix:"9",name:"base10",alphabet:"0123456789"}),FY=Object.freeze(Object.defineProperty({__proto__:null,base10:LY},Symbol.toStringTag,{value:"Module"})),UY=Xn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),BY=Xn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),WY=Object.freeze(Object.defineProperty({__proto__:null,base16:UY,base16upper:BY},Symbol.toStringTag,{value:"Module"})),zY=Xn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),qY=Xn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),HY=Xn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),VY=Xn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),KY=Xn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),GY=Xn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),YY=Xn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ZY=Xn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),JY=Xn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),QY=Object.freeze(Object.defineProperty({__proto__:null,base32:zY,base32hex:KY,base32hexpad:YY,base32hexpadupper:ZY,base32hexupper:GY,base32pad:HY,base32padupper:VY,base32upper:qY,base32z:JY},Symbol.toStringTag,{value:"Module"})),XY=Ou({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),eZ=Ou({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),tZ=Object.freeze(Object.defineProperty({__proto__:null,base36:XY,base36upper:eZ},Symbol.toStringTag,{value:"Module"})),nZ=Ou({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),rZ=Ou({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),iZ=Object.freeze(Object.defineProperty({__proto__:null,base58btc:nZ,base58flickr:rZ},Symbol.toStringTag,{value:"Module"})),sZ=Xn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),aZ=Xn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),oZ=Xn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),lZ=Xn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),cZ=Object.freeze(Object.defineProperty({__proto__:null,base64:sZ,base64pad:aZ,base64url:oZ,base64urlpad:lZ},Symbol.toStringTag,{value:"Module"})),a_=Array.from(""),dZ=a_.reduce((t,e,n)=>(t[n]=e,t),[]),uZ=a_.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function hZ(t){return t.reduce((e,n)=>(e+=dZ[n],e),"")}function pZ(t){const e=[];for(const n of t){const r=uZ[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const fZ=Rf({prefix:"",name:"base256emoji",encode:hZ,decode:pZ}),gZ=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:fZ},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const Q5={...NY,...OY,...MY,...FY,...WY,...QY,...tZ,...iZ,...cZ,...gZ};function o_(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const X5=o_("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),qm=o_("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=vY(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),mZ={utf8:X5,"utf-8":X5,hex:Q5.base16,latin1:qm,ascii:qm,binary:qm,...Q5};function yZ(t,e="utf8"){const n=mZ[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}var wZ={};const l_="wc",c_=2,J0="core",As=`${l_}@2:${J0}:`,vZ={logger:"error"},bZ={database:":memory:"},xZ="crypto",e4="client_ed25519_seed",CZ=Pe.ONE_DAY,_Z="keychain",EZ="0.3",kZ="messages",$Z="0.3",IZ=Pe.SIX_HOURS,SZ="publisher",d_="irn",AZ="error",u_="wss://relay.walletconnect.org",TZ="relayer",vn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},PZ="_subscription",si={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},DZ=.1,Q0="2.21.7",tn={link_mode:"link_mode",relay:"relay"},qh={inbound:"inbound",outbound:"outbound"},NZ="0.3",jZ="WALLETCONNECT_CLIENT_ID",t4="WALLETCONNECT_LINK_MODE_APPS",Kr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},OZ="subscription",RZ="0.3",MZ="pairing",LZ="0.3",Vc={wc_pairingDelete:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Pe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Pe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:0},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:0}}},go={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ni={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},FZ="history",UZ="0.3",BZ="expirer",ui={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},WZ="0.3",zZ="verify-api",qZ="https://verify.walletconnect.com",h_="https://verify.walletconnect.org",Id=h_,HZ=`${Id}/v3`,VZ=[qZ,h_],KZ="echo",GZ="https://echo.walletconnect.com",fs={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Hs={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},$a={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Kc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},co={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Gc={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},YZ=.1,ZZ="event-client",JZ=86400,QZ="https://pulse.walletconnect.org/batch";function XZ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(n[a]!==255)throw new TypeError(s+" is ambiguous");n[a]=i}var o=t.length,l=t.charAt(0),d=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";for(var m=0,w=0,v=0,C=g.length;v!==C&&g[v]===0;)v++,m++;for(var _=(C-v)*u+1>>>0,E=new Uint8Array(_);v!==C;){for(var x=g[v],b=0,k=_-1;(x!==0||b<w)&&k!==-1;k--,b++)x+=256*E[k]>>>0,E[k]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");w=b,v++}for(var S=_-w;S!==_&&E[S]===0;)S++;for(var I=l.repeat(m);S<_;++S)I+=t.charAt(E[S]);return I}function p(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;var m=0;if(g[m]!==" "){for(var w=0,v=0;g[m]===l;)w++,m++;for(var C=(g.length-m)*d+1>>>0,_=new Uint8Array(C);g[m];){var E=n[g.charCodeAt(m)];if(E===255)return;for(var x=0,b=C-1;(E!==0||x<v)&&b!==-1;b--,x++)E+=o*_[b]>>>0,_[b]=E%256>>>0,E=E/256>>>0;if(E!==0)throw new Error("Non-zero carry");v=x,m++}if(g[m]!==" "){for(var k=C-v;k!==C&&_[k]===0;)k++;for(var S=new Uint8Array(w+(C-k)),I=w;k!==C;)S[I++]=_[k++];return S}}}function f(g){var m=p(g);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:f}}var eJ=XZ,tJ=eJ;const p_=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},nJ=t=>new TextEncoder().encode(t),rJ=t=>new TextDecoder().decode(t);let iJ=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},sJ=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return f_(this,e)}},aJ=class{constructor(e){this.decoders=e}or(e){return f_(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const f_=(t,e)=>new aJ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let oJ=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new iJ(e,n,r),this.decoder=new sJ(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Mf=({name:t,prefix:e,encode:n,decode:r})=>new oJ(t,e,n,r),Ru=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=tJ(n,e);return Mf({prefix:t,name:e,encode:r,decode:s=>p_(i(s))})},lJ=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*n/8|0);let o=0,l=0,d=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);l=l<<n|h,o+=n,o>=8&&(o-=8,a[d++]=255&l>>o)}if(o>=n||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a},cJ=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",a=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],a+=8;a>n;)a-=n,s+=e[i&o>>a];if(a&&(s+=e[i&o<<n-a]),r)for(;s.length*n&7;)s+="=";return s},er=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Mf({prefix:e,name:t,encode(i){return cJ(i,r,n)},decode(i){return lJ(i,r,n,t)}}),dJ=Mf({prefix:"\0",name:"identity",encode:t=>rJ(t),decode:t=>nJ(t)});var uJ=Object.freeze({__proto__:null,identity:dJ});const hJ=er({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var pJ=Object.freeze({__proto__:null,base2:hJ});const fJ=er({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var gJ=Object.freeze({__proto__:null,base8:fJ});const mJ=Ru({prefix:"9",name:"base10",alphabet:"0123456789"});var yJ=Object.freeze({__proto__:null,base10:mJ});const wJ=er({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vJ=er({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var bJ=Object.freeze({__proto__:null,base16:wJ,base16upper:vJ});const xJ=er({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),CJ=er({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_J=er({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),EJ=er({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kJ=er({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$J=er({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),IJ=er({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),SJ=er({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),AJ=er({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var TJ=Object.freeze({__proto__:null,base32:xJ,base32upper:CJ,base32pad:_J,base32padupper:EJ,base32hex:kJ,base32hexupper:$J,base32hexpad:IJ,base32hexpadupper:SJ,base32z:AJ});const PJ=Ru({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),DJ=Ru({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var NJ=Object.freeze({__proto__:null,base36:PJ,base36upper:DJ});const jJ=Ru({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),OJ=Ru({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var RJ=Object.freeze({__proto__:null,base58btc:jJ,base58flickr:OJ});const MJ=er({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),LJ=er({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),FJ=er({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),UJ=er({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var BJ=Object.freeze({__proto__:null,base64:MJ,base64pad:LJ,base64url:FJ,base64urlpad:UJ});const g_=Array.from(""),WJ=g_.reduce((t,e,n)=>(t[n]=e,t),[]),zJ=g_.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function qJ(t){return t.reduce((e,n)=>(e+=WJ[n],e),"")}function HJ(t){const e=[];for(const n of t){const r=zJ[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const VJ=Mf({prefix:"",name:"base256emoji",encode:qJ,decode:HJ});var KJ=Object.freeze({__proto__:null,base256emoji:VJ}),GJ=m_,n4=128,YJ=-128,ZJ=Math.pow(2,31);function m_(t,e,n){e=e||[],n=n||0;for(var r=n;t>=ZJ;)e[n++]=t&255|n4,t/=128;for(;t&YJ;)e[n++]=t&255|n4,t>>>=7;return e[n]=t|0,m_.bytes=n-r+1,e}var JJ=X0,QJ=128,r4=127;function X0(t,r){var n=0,r=r||0,i=0,s=r,a,o=t.length;do{if(s>=o)throw X0.bytes=0,new RangeError("Could not decode varint");a=t[s++],n+=i<28?(a&r4)<<i:(a&r4)*Math.pow(2,i),i+=7}while(a>=QJ);return X0.bytes=s-r,n}var XJ=Math.pow(2,7),eQ=Math.pow(2,14),tQ=Math.pow(2,21),nQ=Math.pow(2,28),rQ=Math.pow(2,35),iQ=Math.pow(2,42),sQ=Math.pow(2,49),aQ=Math.pow(2,56),oQ=Math.pow(2,63),lQ=function(t){return t<XJ?1:t<eQ?2:t<tQ?3:t<nQ?4:t<rQ?5:t<iQ?6:t<sQ?7:t<aQ?8:t<oQ?9:10},cQ={encode:GJ,decode:JJ,encodingLength:lQ},y_=cQ;const i4=(t,e,n=0)=>(y_.encode(t,e,n),e),s4=t=>y_.encodingLength(t),ey=(t,e)=>{const n=e.byteLength,r=s4(t),i=r+s4(n),s=new Uint8Array(i+n);return i4(t,s,0),i4(n,s,r),s.set(e,i),new dQ(t,n,e,s)};let dQ=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const w_=({name:t,code:e,encode:n})=>new uQ(t,e,n);let uQ=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?ey(this.code,n):n.then(r=>ey(this.code,r))}else throw Error("Unknown type, must be binary type")}};const v_=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),hQ=w_({name:"sha2-256",code:18,encode:v_("SHA-256")}),pQ=w_({name:"sha2-512",code:19,encode:v_("SHA-512")});var fQ=Object.freeze({__proto__:null,sha256:hQ,sha512:pQ});const b_=0,gQ="identity",x_=p_,mQ=t=>ey(b_,x_(t)),yQ={code:b_,name:gQ,encode:x_,digest:mQ};var wQ=Object.freeze({__proto__:null,identity:yQ});new TextEncoder,new TextDecoder;const a4={...uJ,...pJ,...gJ,...yJ,...bJ,...TJ,...NJ,...RJ,...BJ,...KJ};({...fQ,...wQ});function C_(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function vQ(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?C_(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function __(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const o4=__("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Hm=__("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=vQ(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),bQ={utf8:o4,"utf-8":o4,hex:a4.base16,latin1:Hm,ascii:Hm,binary:Hm,...a4};function xQ(t,e="utf8"){const n=bQ[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?C_(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var CQ=Object.defineProperty,_Q=(t,e,n)=>e in t?CQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cs=(t,e,n)=>_Q(t,typeof e!="symbol"?e+"":e,n);let EQ=class{constructor(e,n){this.core=e,this.logger=n,cs(this,"keychain",new Map),cs(this,"name",_Z),cs(this,"version",EZ),cs(this,"initialized",!1),cs(this,"storagePrefix",As),cs(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),cs(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),cs(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),cs(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=$e("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),cs(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Rr(n,this.name)}get context(){return ri(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,L0(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?F0(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var kQ=Object.defineProperty,$Q=(t,e,n)=>e in t?kQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hn=(t,e,n)=>$Q(t,typeof e!="symbol"?e+"":e,n);let IQ=class{constructor(e,n,r){this.core=e,this.logger=n,Hn(this,"name",xZ),Hn(this,"keychain"),Hn(this,"randomSessionIdentifier",Y0()),Hn(this,"initialized",!1),Hn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Hn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Hn(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=Lv(i);return pT(s.publicKey)}),Hn(this,"generateKeyPair",()=>{this.isInitialized();const i=kK();return this.setPrivateKey(i.publicKey,i.privateKey)}),Hn(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),a=Lv(s),o=this.randomSessionIdentifier;return await fT(o,i,CZ,a)}),Hn(this,"generateSharedKey",(i,s,a)=>{this.isInitialized();const o=this.getPrivateKey(i),l=$K(o,s);return this.setSymKey(l,a)}),Hn(this,"setSymKey",async(i,s)=>{this.isInitialized();const a=s||zh(i);return await this.keychain.set(a,i),a}),Hn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Hn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Hn(this,"encode",async(i,s,a)=>{this.isInitialized();const o=e_(a),l=t0(s);if(j5(o))return AK(l,a==null?void 0:a.encoding);if(N5(o)){const p=o.senderPublicKey,f=o.receiverPublicKey;i=await this.generateSharedKey(p,f)}const d=this.getSymKey(i),{type:u,senderPublicKey:h}=o;return IK({type:u,symKey:d,message:l,senderPublicKey:h,encoding:a==null?void 0:a.encoding})}),Hn(this,"decode",async(i,s,a)=>{this.isInitialized();const o=PK(s,a);if(j5(o)){const l=TK(s,a==null?void 0:a.encoding);return Fv(l)}if(N5(o)){const l=o.receiverPublicKey,d=o.senderPublicKey;i=await this.generateSharedKey(l,d)}try{const l=this.getSymKey(i),d=SK({symKey:l,encoded:s,encoding:a==null?void 0:a.encoding});return Fv(d)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),Hn(this,"getPayloadType",(i,s=Pr)=>{const a=du({encoded:i,encoding:s});return Wo(a.type)}),Hn(this,"getPayloadSenderPublicKey",(i,s=Pr)=>{const a=du({encoded:i,encoding:s});return a.senderPublicKey?yZ(a.senderPublicKey,br):void 0}),this.core=e,this.logger=Rr(n,this.name),this.keychain=r||new EQ(this.core,this.logger)}get context(){return ri(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(e4)}catch{e=Y0(),await this.keychain.set(e4,e)}return xQ(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var SQ=Object.defineProperty,AQ=Object.defineProperties,TQ=Object.getOwnPropertyDescriptors,l4=Object.getOwnPropertySymbols,PQ=Object.prototype.hasOwnProperty,DQ=Object.prototype.propertyIsEnumerable,ty=(t,e,n)=>e in t?SQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NQ=(t,e)=>{for(var n in e||(e={}))PQ.call(e,n)&&ty(t,n,e[n]);if(l4)for(var n of l4(e))DQ.call(e,n)&&ty(t,n,e[n]);return t},jQ=(t,e)=>AQ(t,TQ(e)),zr=(t,e,n)=>ty(t,typeof e!="symbol"?e+"":e,n);let OQ=class extends sY{constructor(e,n){super(e,n),this.logger=e,this.core=n,zr(this,"messages",new Map),zr(this,"messagesWithoutClientAck",new Map),zr(this,"name",kZ),zr(this,"version",$Z),zr(this,"initialized",!1),zr(this,"storagePrefix",As),zr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),zr(this,"set",async(r,i,s)=>{this.isInitialized();const a=pi(i);let o=this.messages.get(r);if(typeof o>"u"&&(o={}),typeof o[a]<"u")return a;if(o[a]=i,this.messages.set(r,o),s===qh.inbound){const l=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,jQ(NQ({},l),{[a]:i}))}return await this.persist(),a}),zr(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),zr(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const a=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(a)}return i}),zr(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),a=pi(i);return typeof s[a]<"u"}),zr(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const a=pi(i);delete s[a],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),zr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Rr(e,this.name),this.core=n}get context(){return ri(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,L0(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,L0(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?F0(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?F0(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var RQ=Object.defineProperty,MQ=Object.defineProperties,LQ=Object.getOwnPropertyDescriptors,c4=Object.getOwnPropertySymbols,FQ=Object.prototype.hasOwnProperty,UQ=Object.prototype.propertyIsEnumerable,ny=(t,e,n)=>e in t?RQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bl=(t,e)=>{for(var n in e||(e={}))FQ.call(e,n)&&ny(t,n,e[n]);if(c4)for(var n of c4(e))UQ.call(e,n)&&ny(t,n,e[n]);return t},d4=(t,e)=>MQ(t,LQ(e)),ai=(t,e,n)=>ny(t,typeof e!="symbol"?e+"":e,n);let BQ=class extends aY{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,ai(this,"events",new Qa.EventEmitter),ai(this,"name",SZ),ai(this,"queue",new Map),ai(this,"publishTimeout",Pe.toMiliseconds(Pe.ONE_MINUTE)),ai(this,"initialPublishTimeout",Pe.toMiliseconds(Pe.ONE_SECOND*15)),ai(this,"needsTransportRestart",!1),ai(this,"publish",async(r,i,s)=>{var a,o,l,d,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const h=(s==null?void 0:s.ttl)||IZ,p=(s==null?void 0:s.prompt)||!1,f=(s==null?void 0:s.tag)||0,g=(s==null?void 0:s.id)||bo().toString(),m=Bl($p().protocol),w={id:g,method:(s==null?void 0:s.publishMethod)||m.publish,params:bl({topic:r,message:i,ttl:h,prompt:p,tag:f,attestation:s==null?void 0:s.attestation},(s==null?void 0:s.tvf)&&{tvf:s.tvf})},v=`Failed to publish payload, please try again. id:${g} tag:${f}`;try{Rn((a=w.params)==null?void 0:a.prompt)&&((o=w.params)==null||delete o.prompt),Rn((l=w.params)==null?void 0:l.tag)&&((d=w.params)==null||delete d.tag);const C=new Promise(async _=>{const E=({id:b})=>{var k;((k=w.id)==null?void 0:k.toString())===b.toString()&&(this.removeRequestFromQueue(b),this.relayer.events.removeListener(vn.publish,E),_())};this.relayer.events.on(vn.publish,E);const x=vs(new Promise((b,k)=>{this.rpcPublish(w,s).then(b).catch(S=>{this.logger.warn(S,S==null?void 0:S.message),k(S)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${f}`);try{await x,this.events.removeListener(vn.publish,E)}catch(b){this.queue.set(g,{request:w,opts:s,attempt:1}),this.logger.warn(b,b==null?void 0:b.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:r,message:i,opts:s}}),await vs(C,this.publishTimeout,v)}catch(C){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(C),(u=s==null?void 0:s.internal)!=null&&u.throwOnFailedPublish)throw C}finally{this.queue.delete(g)}}),ai(this,"publishCustom",async r=>{var i,s,a,o,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:r});const{payload:d,opts:u={}}=r,{attestation:h,tvf:p,publishMethod:f,prompt:g,tag:m,ttl:w=Pe.FIVE_MINUTES}=u,v=u.id||bo().toString(),C=Bl($p().protocol),_=f||C.publish,E={id:v,method:_,params:bl(d4(bl({},d),{ttl:w,prompt:g,tag:m,attestation:h}),p)},x=`Failed to publish custom payload, please try again. id:${v} tag:${m}`;try{Rn((i=E.params)==null?void 0:i.prompt)&&((s=E.params)==null||delete s.prompt),Rn((a=E.params)==null?void 0:a.tag)&&((o=E.params)==null||delete o.tag);const b=new Promise(async k=>{const S=({id:$})=>{var A;((A=E.id)==null?void 0:A.toString())===$.toString()&&(this.removeRequestFromQueue($),this.relayer.events.removeListener(vn.publish,S),k())};this.relayer.events.on(vn.publish,S);const I=vs(new Promise(($,A)=>{this.rpcPublish(E,u).then($).catch(N=>{this.logger.warn(N,N==null?void 0:N.message),A(N)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${_} id:${v} tag:${m}`);try{await I,this.events.removeListener(vn.publish,S)}catch($){this.queue.set(v,{request:E,opts:u,attempt:1}),this.logger.warn($,$==null?void 0:$.message)}});this.logger.trace({type:"method",method:"publish",params:{id:v,payload:d,opts:u}}),await vs(b,this.publishTimeout,x)}catch(b){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(b),(l=u==null?void 0:u.internal)!=null&&l.throwOnFailedPublish)throw b}finally{this.queue.delete(v)}}),ai(this,"on",(r,i)=>{this.events.on(r,i)}),ai(this,"once",(r,i)=>{this.events.once(r,i)}),ai(this,"off",(r,i)=>{this.events.off(r,i)}),ai(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Rr(n,this.name),this.registerEventListeners()}get context(){return ri(this.logger)}async rpcPublish(e,n){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(vn.publish,bl(bl({},e),n)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{var r;const i=e.attempt+1;this.queue.set(n,d4(bl({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(r=e.request.params)==null?void 0:r.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(kc.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(vn.connection_stalled);return}this.checkQueue()}),this.relayer.on(vn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var WQ=Object.defineProperty,zQ=(t,e,n)=>e in t?WQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xl=(t,e,n)=>zQ(t,typeof e!="symbol"?e+"":e,n);let qQ=class{constructor(){xl(this,"map",new Map),xl(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),xl(this,"get",e=>this.map.get(e)||[]),xl(this,"exists",(e,n)=>this.get(e).includes(n)),xl(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),xl(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var HQ=Object.defineProperty,VQ=Object.defineProperties,KQ=Object.getOwnPropertyDescriptors,u4=Object.getOwnPropertySymbols,GQ=Object.prototype.hasOwnProperty,YQ=Object.prototype.propertyIsEnumerable,ry=(t,e,n)=>e in t?HQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yc=(t,e)=>{for(var n in e||(e={}))GQ.call(e,n)&&ry(t,n,e[n]);if(u4)for(var n of u4(e))YQ.call(e,n)&&ry(t,n,e[n]);return t},Vm=(t,e)=>VQ(t,KQ(e)),qt=(t,e,n)=>ry(t,typeof e!="symbol"?e+"":e,n);let ZQ=class extends cY{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,qt(this,"subscriptions",new Map),qt(this,"topicMap",new qQ),qt(this,"events",new Qa.EventEmitter),qt(this,"name",OZ),qt(this,"version",RZ),qt(this,"pending",new Map),qt(this,"cached",[]),qt(this,"initialized",!1),qt(this,"storagePrefix",As),qt(this,"subscribeTimeout",Pe.toMiliseconds(Pe.ONE_MINUTE)),qt(this,"initialSubscribeTimeout",Pe.toMiliseconds(Pe.ONE_SECOND*15)),qt(this,"clientId"),qt(this,"batchSubscribeTopicsLimit",500),qt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),qt(this,"subscribe",async(r,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const a=$p(i),o={topic:r,relay:a,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(r,o);const l=await this.rpcSubscribe(r,a,i);return typeof l=="string"&&(this.onSubscribe(l,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),l}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),qt(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),qt(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),qt(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),qt(this,"on",(r,i)=>{this.events.on(r,i)}),qt(this,"once",(r,i)=>{this.events.once(r,i)}),qt(this,"off",(r,i)=>{this.events.off(r,i)}),qt(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),qt(this,"start",async()=>{await this.onConnect()}),qt(this,"stop",async()=>{await this.onDisconnect()}),qt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),qt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),qt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(kc.pulse,async()=>{await this.checkPending()}),this.events.on(Kr.created,async r=>{const i=Kr.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Kr.deleted,async r=>{const i=Kr.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Rr(n,this.name),this.clientId=""}get context(){return ri(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=$p(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=nn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i,s;const a=await this.getSubscriptionId(e);if((i=r==null?void 0:r.internal)!=null&&i.skipSubscribe)return a;(!r||(r==null?void 0:r.transportType)===tn.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const o={method:Bl(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const l=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{if((r==null?void 0:r.transportType)===tn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(h=>this.logger.warn(h))},Pe.toMiliseconds(Pe.ONE_SECOND)),a;const d=new Promise(async h=>{const p=f=>{f.topic===e&&(this.events.removeListener(Kr.created,p),h(f.id))};this.events.on(Kr.created,p);try{const f=await vs(new Promise((g,m)=>{this.relayer.request(o).catch(w=>{this.logger.warn(w,w==null?void 0:w.message),m(w)}).then(g)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Kr.created,p),h(f)}catch{}}),u=await vs(d,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return u?a:null}catch(d){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vn.connection_stalled),l)throw d}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:Bl(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await vs(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(vn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:Bl(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await vs(new Promise((s,a)=>{this.relayer.request(r).catch(o=>{this.logger.warn(o),a(o)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(vn.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:Bl(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,Vm(Yc({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Yc({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Yc({},n)),this.topicMap.set(n.topic,e),this.events.emit(Kr.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=$e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Kr.deleted,Vm(Yc({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Kr.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Kr.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(n=>{var r;return n.topic===((r=this.subscriptions.get(n.id))==null?void 0:r.topic)})){const{message:n}=$e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>Vm(Yc({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Kq(Pe.toMiliseconds(Pe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return pi(e+await this.getClientId())}};var JQ=Object.defineProperty,h4=Object.getOwnPropertySymbols,QQ=Object.prototype.hasOwnProperty,XQ=Object.prototype.propertyIsEnumerable,iy=(t,e,n)=>e in t?JQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p4=(t,e)=>{for(var n in e||(e={}))QQ.call(e,n)&&iy(t,n,e[n]);if(h4)for(var n of h4(e))XQ.call(e,n)&&iy(t,n,e[n]);return t},Pt=(t,e,n)=>iy(t,typeof e!="symbol"?e+"":e,n);let eX=class extends oY{constructor(e){super(e),Pt(this,"protocol","wc"),Pt(this,"version",2),Pt(this,"core"),Pt(this,"logger"),Pt(this,"events",new Qa.EventEmitter),Pt(this,"provider"),Pt(this,"messages"),Pt(this,"subscriber"),Pt(this,"publisher"),Pt(this,"name",TZ),Pt(this,"transportExplicitlyClosed",!1),Pt(this,"initialized",!1),Pt(this,"connectionAttemptInProgress",!1),Pt(this,"relayUrl"),Pt(this,"projectId"),Pt(this,"packageName"),Pt(this,"bundleId"),Pt(this,"hasExperiencedNetworkDisruption",!1),Pt(this,"pingTimeout"),Pt(this,"heartBeatTimeout",Pe.toMiliseconds(Pe.THIRTY_SECONDS+Pe.FIVE_SECONDS)),Pt(this,"reconnectTimeout"),Pt(this,"connectPromise"),Pt(this,"reconnectInProgress",!1),Pt(this,"requestsInFlight",[]),Pt(this,"connectTimeout",Pe.toMiliseconds(Pe.ONE_SECOND*15)),Pt(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||bo().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const a=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(a);const o=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==a),o}catch(a){throw this.logger.debug(`Failed to Publish Request: ${s}`),a}}),Pt(this,"resetPingTimeout",()=>{Cp()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),Pt(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Pt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(vn.connect)}),Pt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Pt(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(vn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Pt(this,"registerProviderListeners",()=>{this.provider.on(si.payload,this.onPayloadHandler),this.provider.on(si.connect,this.onConnectHandler),this.provider.on(si.disconnect,this.onDisconnectHandler),this.provider.on(si.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Rr(e.logger,this.name):ww(i_({level:e.logger||AZ})),this.messages=new OQ(this.logger,e.core),this.subscriber=new ZQ(this,this.logger),this.publisher=new BQ(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||u_,Pq()?this.packageName=t5():Dq()&&(this.bundleId=t5()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return ri(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:tn.relay},qh.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const a=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let o=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const d=u=>{u.topic===e&&(this.subscriber.off(Kr.created,d),l())};return await Promise.all([new Promise(u=>{l=u,this.subscriber.on(Kr.created,d)}),new Promise(async(u,h)=>{o=await this.subscriber.subscribe(e,p4({internal:{throwOnFailedPublish:a}},n)).catch(p=>{a&&h(p)})||o,u()})]),o}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await vs(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await H5())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=On(Pe.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(vn.message,e),await this.recordMessageEvent(e,qh.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(si.disconnect,s),await vs(new Promise((a,o)=>{this.provider.connect().then(a).catch(o)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}).finally(()=>{this.provider.off(si.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,o)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(si.disconnect,l),await this.subscriber.start().then(a).catch(o).finally(()=>{this.provider.off(si.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,Pe.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(Cp())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a==null?void 0:a.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ii(new hT(Mq({sdkVersion:Q0,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),v2(e)){if(!e.method.endsWith(PZ))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:a}=n.data,o={topic:r,message:i,publishedAt:s,transportType:tn.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(p4({type:"event",event:n.id},o)),this.events.emit(n.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else b2(e)&&this.events.emit(vn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,qh.inbound),this.events.emit(vn.message,e))}async acknowledgePayload(e){const n=Fd(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(si.payload,this.onPayloadHandler),this.provider.off(si.connect,this.onConnectHandler),this.provider.off(si.disconnect,this.onDisconnectHandler),this.provider.off(si.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await H5();EG(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(kc.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&IG())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(vn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},Pe.toMiliseconds(DZ)))))}isInitialized(){if(!this.initialized){const{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function tX(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function f4(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function g4(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const nX="[object RegExp]",rX="[object String]",iX="[object Number]",sX="[object Boolean]",m4="[object Arguments]",aX="[object Symbol]",oX="[object Date]",lX="[object Map]",cX="[object Set]",dX="[object Array]",uX="[object Function]",hX="[object ArrayBuffer]",Km="[object Object]",pX="[object Error]",fX="[object DataView]",gX="[object Uint8Array]",mX="[object Uint8ClampedArray]",yX="[object Uint16Array]",wX="[object Uint32Array]",vX="[object BigUint64Array]",bX="[object Int8Array]",xX="[object Int16Array]",CX="[object Int32Array]",_X="[object BigInt64Array]",EX="[object Float32Array]",kX="[object Float64Array]";function $X(){}function y4(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function IX(t,e,n){return fd(t,e,void 0,void 0,void 0,void 0,n)}function fd(t,e,n,r,i,s,a){const o=a(t,e,n,r,i,s);if(o!==void 0)return o;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Sd(t,e,s,a)}return Sd(t,e,s,a)}function Sd(t,e,n,r){if(Object.is(t,e))return!0;let i=g4(t),s=g4(e);if(i===m4&&(i=Km),s===m4&&(s=Km),i!==s)return!1;switch(i){case rX:return t.toString()===e.toString();case iX:{const l=t.valueOf(),d=e.valueOf();return tX(l,d)}case sX:case oX:case aX:return Object.is(t.valueOf(),e.valueOf());case nX:return t.source===e.source&&t.flags===e.flags;case uX:return t===e}n=n??new Map;const a=n.get(t),o=n.get(e);if(a!=null&&o!=null)return a===e;n.set(t,e),n.set(e,t);try{switch(i){case lX:{if(t.size!==e.size)return!1;for(const[l,d]of t.entries())if(!e.has(l)||!fd(d,e.get(l),l,t,e,n,r))return!1;return!0}case cX:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),d=Array.from(e.values());for(let u=0;u<l.length;u++){const h=l[u],p=d.findIndex(f=>fd(h,f,void 0,t,e,n,r));if(p===-1)return!1;d.splice(p,1)}return!0}case dX:case gX:case mX:case yX:case wX:case vX:case bX:case xX:case CX:case _X:case EX:case kX:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!fd(t[l],e[l],l,t,e,n,r))return!1;return!0}case hX:return t.byteLength!==e.byteLength?!1:Sd(new Uint8Array(t),new Uint8Array(e),n,r);case fX:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Sd(new Uint8Array(t),new Uint8Array(e),n,r);case pX:return t.name===e.name&&t.message===e.message;case Km:{if(!(Sd(t.constructor,e.constructor,n,r)||y4(t)&&y4(e)))return!1;const l=[...Object.keys(t),...f4(t)],d=[...Object.keys(e),...f4(e)];if(l.length!==d.length)return!1;for(let u=0;u<l.length;u++){const h=l[u],p=t[h];if(!Object.hasOwn(e,h))return!1;const f=e[h];if(!fd(p,f,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function SX(t,e){return IX(t,e,$X)}var AX=Object.defineProperty,w4=Object.getOwnPropertySymbols,TX=Object.prototype.hasOwnProperty,PX=Object.prototype.propertyIsEnumerable,sy=(t,e,n)=>e in t?AX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,v4=(t,e)=>{for(var n in e||(e={}))TX.call(e,n)&&sy(t,n,e[n]);if(w4)for(var n of w4(e))PX.call(e,n)&&sy(t,n,e[n]);return t},$r=(t,e,n)=>sy(t,typeof e!="symbol"?e+"":e,n);let el=class extends lY{constructor(e,n,r,i=As,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,$r(this,"map",new Map),$r(this,"version",NZ),$r(this,"cached",[]),$r(this,"initialized",!1),$r(this,"getKey"),$r(this,"storagePrefix",As),$r(this,"recentlyDeleted",[]),$r(this,"recentlyDeletedLimit",200),$r(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!Rn(a)?this.map.set(this.getKey(a),a):tG(a)?this.map.set(a.id,a):nG(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),$r(this,"set",async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())}),$r(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),$r(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(l=>SX(o[l],a[l]))):this.values)),$r(this,"update",async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const l=v4(v4({},this.getData(a)),o);this.map.set(a,l),await this.persist()}),$r(this,"delete",async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=Rr(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return ri(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=$e("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=$e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=$e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var DX=Object.defineProperty,NX=(t,e,n)=>e in t?DX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ct=(t,e,n)=>NX(t,typeof e!="symbol"?e+"":e,n);let jX=class{constructor(e,n){this.core=e,this.logger=n,Ct(this,"name",MZ),Ct(this,"version",LZ),Ct(this,"events",new x2),Ct(this,"pairings"),Ct(this,"initialized",!1),Ct(this,"storagePrefix",As),Ct(this,"ignoredPayloadTypes",[ia]),Ct(this,"registeredMethods",[]),Ct(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Ct(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Ct(this,"create",async r=>{this.isInitialized();const i=Y0(),s=await this.core.crypto.setSymKey(i),a=On(Pe.FIVE_MINUTES),o={protocol:d_},l={topic:s,expiry:a,relay:o,active:!1,methods:r==null?void 0:r.methods},d=R5({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:o,expiryTimestamp:a,methods:r==null?void 0:r.methods});return this.events.emit(go.create,l),this.core.expirer.set(s,a),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType,internal:r==null?void 0:r.internal}),{topic:s,uri:d}}),Ct(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[fs.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:a,relay:o,expiryTimestamp:l,methods:d}=O5(r.uri);i.props.properties.topic=s,i.addTrace(fs.pairing_uri_validation_success),i.addTrace(fs.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(fs.existing_pairing),u.active)throw i.setError(Hs.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(fs.pairing_not_expired)}const h=l||On(Pe.FIVE_MINUTES),p={topic:s,relay:o,expiry:h,active:!1,methods:d};this.core.expirer.set(s,h),await this.pairings.set(s,p),i.addTrace(fs.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(go.create,p),i.addTrace(fs.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(a,s),i.addTrace(fs.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Hs.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:o})}catch(f){throw i.setError(Hs.subscribe_pairing_topic_failure),f}return i.addTrace(fs.subscribe_pairing_topic_success),p}),Ct(this,"activate",async({topic:r})=>{this.isInitialized();const i=On(Pe.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Ct(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:o,reject:l}=ho();this.events.once(Rt("pairing_ping",s),({error:d})=>{d?l(d):o()}),await a()}}),Ct(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Ct(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Ct(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Ct(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",nn("USER_DISCONNECTED")),await this.deletePairing(i))}),Ct(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:a,methods:o}=r,l=this.core.crypto.keychain.get(i);return R5({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:s,expiryTimestamp:a,methods:o})}),Ct(this,"sendRequest",async(r,i,s)=>{const a=Ks(i,s),o=await this.core.crypto.encode(r,a),l=Vc[i].req;return this.core.history.set(r,a),this.core.relayer.publish(r,o,l),a.id}),Ct(this,"sendResult",async(r,i,s)=>{const a=Fd(r,s),o=await this.core.crypto.encode(i,a),l=(await this.core.history.get(i,r)).request.method,d=Vc[l].res;await this.core.relayer.publish(i,o,d),await this.core.history.resolve(a)}),Ct(this,"sendError",async(r,i,s)=>{const a=qx(r,s),o=await this.core.crypto.encode(i,a),l=(await this.core.history.get(i,r)).request.method,d=Vc[l]?Vc[l].res:Vc.unregistered_method.res;await this.core.relayer.publish(i,o,d),await this.core.history.resolve(a)}),Ct(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,nn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Ct(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>Aa(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Ct(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Ct(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,a=(await this.core.history.get(i,s.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(a)}}),Ct(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(go.ping,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Ct(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{zs(i)?this.events.emit(Rt("pairing_ping",s),{}):ms(i)&&this.events.emit(Rt("pairing_ping",s),{error:i.error})},500)}),Ct(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(go.delete,{id:s,topic:r})}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Ct(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;const o=nn("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,r,o),this.logger.error(o)}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Ct(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(nn("WC_METHOD_UNSUPPORTED",r))}),Ct(this,"isValidPair",(r,i)=>{var s;if(!Ir(r)){const{message:o}=$e("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Hs.malformed_pairing_uri),new Error(o)}if(!eG(r.uri)){const{message:o}=$e("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Hs.malformed_pairing_uri),new Error(o)}const a=O5(r==null?void 0:r.uri);if(!((s=a==null?void 0:a.relay)!=null&&s.protocol)){const{message:o}=$e("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Hs.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=$e("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Hs.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&Pe.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){i.setError(Hs.pairing_expired);const{message:o}=$e("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}}),Ct(this,"isValidPing",async r=>{if(!Ir(r)){const{message:s}=$e("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Ct(this,"isValidDisconnect",async r=>{if(!Ir(r)){const{message:s}=$e("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Ct(this,"isValidPairingTopic",async r=>{if(!Sn(r,!1)){const{message:i}=$e("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=$e("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(Aa(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=$e("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Rr(n,this.name),this.pairings=new el(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ri(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(vn.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==tn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);v2(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):b2(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(ui.expired,async e=>{const{topic:n}=d9(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(go.expire,{topic:n}))})}};var OX=Object.defineProperty,RX=(t,e,n)=>e in t?OX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vn=(t,e,n)=>RX(t,typeof e!="symbol"?e+"":e,n);let MX=class extends iY{constructor(e,n){super(e,n),this.core=e,this.logger=n,Vn(this,"records",new Map),Vn(this,"events",new Qa.EventEmitter),Vn(this,"name",FZ),Vn(this,"version",UZ),Vn(this,"cached",[]),Vn(this,"initialized",!1),Vn(this,"storagePrefix",As),Vn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Vn(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const a={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:On(Pe.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Ni.created,a)}),Vn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=ms(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ni.updated,i))}),Vn(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Vn(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ni.deleted,s)}}),this.persist()}),Vn(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Vn(this,"on",(r,i)=>{this.events.on(r,i)}),Vn(this,"once",(r,i)=>{this.events.once(r,i)}),Vn(this,"off",(r,i)=>{this.events.off(r,i)}),Vn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Rr(n,this.name)}get context(){return ri(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Ks(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=$e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ni.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=$e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ni.created,e=>{const n=Ni.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ni.updated,e=>{const n=Ni.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ni.deleted,e=>{const n=Ni.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(kc.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{Pe.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ni.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var LX=Object.defineProperty,FX=(t,e,n)=>e in t?LX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sr=(t,e,n)=>FX(t,typeof e!="symbol"?e+"":e,n);let UX=class extends dY{constructor(e,n){super(e,n),this.core=e,this.logger=n,sr(this,"expirations",new Map),sr(this,"events",new Qa.EventEmitter),sr(this,"name",BZ),sr(this,"version",WZ),sr(this,"cached",[]),sr(this,"initialized",!1),sr(this,"storagePrefix",As),sr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),sr(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),sr(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(ui.created,{target:s,expiration:a})}),sr(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),sr(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(ui.deleted,{target:i,expiration:s})}}),sr(this,"on",(r,i)=>{this.events.on(r,i)}),sr(this,"once",(r,i)=>{this.events.once(r,i)}),sr(this,"off",(r,i)=>{this.events.off(r,i)}),sr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Rr(n,this.name)}get context(){return ri(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Lq(e);if(typeof e=="number")return Fq(e);const{message:n}=$e("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ui.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=$e("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=$e("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;Pe.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(ui.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(kc.pulse,()=>this.checkExpirations()),this.events.on(ui.created,e=>{const n=ui.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ui.expired,e=>{const n=ui.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ui.deleted,e=>{const n=ui.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}};var BX=Object.defineProperty,WX=(t,e,n)=>e in t?BX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,En=(t,e,n)=>WX(t,typeof e!="symbol"?e+"":e,n);let zX=class extends uY{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,En(this,"name",zZ),En(this,"abortController"),En(this,"isDevEnv"),En(this,"verifyUrlV3",HZ),En(this,"storagePrefix",As),En(this,"version",c_),En(this,"publicKey"),En(this,"fetchPromise"),En(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Pe.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),En(this,"register",async i=>{if(!Pc()||this.isDevEnv)return;const s=window.location.origin,{id:a,decryptedId:o}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${a}&decryptedId=${o}`;try{const d=oa.getDocument(),u=this.startAbortTimer(Pe.ONE_SECOND*5),h=await new Promise((p,f)=>{const g=()=>{window.removeEventListener("message",w),d.body.removeChild(m),f("attestation aborted")};this.abortController.signal.addEventListener("abort",g);const m=d.createElement("iframe");m.src=l,m.style.display="none",m.addEventListener("error",g,{signal:this.abortController.signal});const w=v=>{if(v.data&&typeof v.data=="string")try{const C=JSON.parse(v.data);if(C.type==="verify_attestation"){if(e0(C.attestation).payload.id!==a)return;clearInterval(u),d.body.removeChild(m),this.abortController.signal.removeEventListener("abort",g),window.removeEventListener("message",w),p(C.attestation===null?"":C.attestation)}}catch(C){this.logger.warn(C)}};d.body.appendChild(m),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(d){this.logger.warn(d)}return""}),En(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:a,encryptedId:o}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(e0(s).payload.id!==o)return;const d=await this.isValidJwtAttestation(s);if(d){if(!d.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return d}}if(!a)return;const l=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(a,l)}),En(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const a=this.startAbortTimer(Pe.ONE_SECOND*5),o=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0}),En(this,"getVerifyUrl",i=>{let s=i||Id;return VZ.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Id}`),s=Id),s}),En(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(Pe.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),En(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),En(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),En(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}}),En(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),En(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),s(a))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),En(this,"validateAttestation",(i,s)=>{const a=NK(i,s.publicKey),o={hasExpired:Pe.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}}),this.logger=Rr(n,this.name),this.abortController=new AbortController,this.isDevEnv=iw(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ri(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Pe.toMiliseconds(e))}};var qX=Object.defineProperty,HX=(t,e,n)=>e in t?qX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b4=(t,e,n)=>HX(t,typeof e!="symbol"?e+"":e,n);let VX=class extends hY{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,b4(this,"context",KZ),b4(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:a,enableEncrypted:o=!1}=r,l=`${GZ}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:s,always_raw:o})})}),this.logger=Rr(n,this.context)}};var KX=Object.defineProperty,x4=Object.getOwnPropertySymbols,GX=Object.prototype.hasOwnProperty,YX=Object.prototype.propertyIsEnumerable,ay=(t,e,n)=>e in t?KX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zc=(t,e)=>{for(var n in e||(e={}))GX.call(e,n)&&ay(t,n,e[n]);if(x4)for(var n of x4(e))YX.call(e,n)&&ay(t,n,e[n]);return t},Un=(t,e,n)=>ay(t,typeof e!="symbol"?e+"":e,n);let ZX=class extends pY{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Un(this,"context",ZZ),Un(this,"storagePrefix",As),Un(this,"storageVersion",YZ),Un(this,"events",new Map),Un(this,"shouldPersist",!1),Un(this,"init",async()=>{if(!iw())try{const i={eventId:r5(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:l9(this.core.relayer.protocol,this.core.relayer.version,Q0)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Un(this,"createEvent",i=>{const{event:s="ERROR",type:a="",properties:{topic:o,trace:l}}=i,d=r5(),u=this.core.projectId||"",h=Date.now(),p=Zc({eventId:d,timestamp:h,props:{event:s,type:a,properties:{topic:o,trace:l}},bundleId:u,domain:this.getAppDomain()},this.setMethods(d));return this.telemetryEnabled&&(this.events.set(d,p),this.shouldPersist=!0),p}),Un(this,"getEvent",i=>{const{eventId:s,topic:a}=i;if(s)return this.events.get(s);const o=Array.from(this.events.values()).find(l=>l.props.properties.topic===a);if(o)return Zc(Zc({},o),this.setMethods(o.eventId))}),Un(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Un(this,"setEventListeners",()=>{this.core.heartbeat.on(kc.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Pe.fromMiliseconds(Date.now())-Pe.fromMiliseconds(i.timestamp)>JZ&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Un(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Un(this,"addTrace",(i,s)=>{const a=this.events.get(i);a&&(a.props.properties.trace.push(s),this.events.set(i,a),this.shouldPersist=!0)}),Un(this,"setError",(i,s)=>{const a=this.events.get(i);a&&(a.props.type=s,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)}),Un(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Un(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Zc(Zc({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Un(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Un(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${QZ}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Q0}${s}`,{method:"POST",body:JSON.stringify(i)})}),Un(this,"getAppDomain",()=>o9().url),this.logger=Rr(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var JX=Object.defineProperty,C4=Object.getOwnPropertySymbols,QX=Object.prototype.hasOwnProperty,XX=Object.prototype.propertyIsEnumerable,oy=(t,e,n)=>e in t?JX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_4=(t,e)=>{for(var n in e||(e={}))QX.call(e,n)&&oy(t,n,e[n]);if(C4)for(var n of C4(e))XX.call(e,n)&&oy(t,n,e[n]);return t},Gt=(t,e,n)=>oy(t,typeof e!="symbol"?e+"":e,n);let eee=class E_ extends eY{constructor(e){var n;super(e),Gt(this,"protocol",l_),Gt(this,"version",c_),Gt(this,"name",J0),Gt(this,"relayUrl"),Gt(this,"projectId"),Gt(this,"customStoragePrefix"),Gt(this,"events",new Qa.EventEmitter),Gt(this,"logger"),Gt(this,"heartbeat"),Gt(this,"relayer"),Gt(this,"crypto"),Gt(this,"storage"),Gt(this,"history"),Gt(this,"expirer"),Gt(this,"pairing"),Gt(this,"verify"),Gt(this,"echoClient"),Gt(this,"linkModeSupportedApps"),Gt(this,"eventClient"),Gt(this,"initialized",!1),Gt(this,"logChunkController"),Gt(this,"on",(o,l)=>this.events.on(o,l)),Gt(this,"once",(o,l)=>this.events.once(o,l)),Gt(this,"off",(o,l)=>this.events.off(o,l)),Gt(this,"removeListener",(o,l)=>this.events.removeListener(o,l)),Gt(this,"dispatchEnvelope",({topic:o,message:l,sessionExists:d})=>{if(!o||!l)return;const u={topic:o,message:l,publishedAt:Date.now(),transportType:tn.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:d})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(o){console.warn("Failed to copy global core",o)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||u_,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=i_({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:vZ.logger,name:J0}),{logger:s,chunkLoggerController:a}=JG({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=a,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,l;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Rr(s,this.name),this.heartbeat=new dT,this.crypto=new IQ(this,this.logger,e==null?void 0:e.keychain),this.history=new MX(this,this.logger),this.expirer=new UX(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new uT(_4(_4({},bZ),e==null?void 0:e.storageOptions)),this.relayer=new eX({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new jX(this,this.logger),this.verify=new zX(this,this.logger,this.storage),this.echoClient=new VX(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new ZX(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new E_(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(jZ,r),n}get context(){return ri(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(t4,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(t4)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&wZ.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const tee=eee;var Gm,E4;function nee(){if(E4)return Gm;E4=1;const t=w2();Gm=i;const e=x().console||{},n={mapHttpRequest:g,mapHttpResponse:g,wrapRequestSerializer:m,wrapResponseSerializer:m,wrapErrorSerializer:m,req:g,res:g,err:p};function r(b,k){return Array.isArray(b)?b.filter(function(I){return I!=="!stdSerializers.err"}):b===!0?Object.keys(k):!1}function i(b){b=b||{},b.browser=b.browser||{};const k=b.browser.transmit;if(k&&typeof k.send!="function")throw Error("pino: transmit option must have a send function");const S=b.browser.write||e;b.browser.write&&(b.browser.asObject=!0);const I=b.serializers||{},$=r(b.browser.serialize,I);let A=b.browser.serialize;Array.isArray(b.browser.serialize)&&b.browser.serialize.indexOf("!stdSerializers.err")>-1&&(A=!1);const N=["error","fatal","warn","info","debug","trace"];typeof S=="function"&&(S.error=S.fatal=S.warn=S.info=S.debug=S.trace=S),b.enabled===!1&&(b.level="silent");const O=b.level||"info",D=Object.create(S);D.log||(D.log=w),Object.defineProperty(D,"levelVal",{get:B}),Object.defineProperty(D,"level",{get:U,set:L});const M={transmit:k,serialize:$,asObject:b.browser.asObject,levels:N,timestamp:f(b)};D.levels=i.levels,D.level=O,D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=w,D.serializers=I,D._serialize=$,D._stdErrSerialize=A,D.child=T,k&&(D._logEvent=h());function B(){return this.level==="silent"?1/0:this.levels.values[this.level]}function U(){return this._level}function L(j){if(j!=="silent"&&!this.levels.values[j])throw Error("unknown level "+j);this._level=j,s(M,D,"error","log"),s(M,D,"fatal","error"),s(M,D,"warn","error"),s(M,D,"info","log"),s(M,D,"debug","log"),s(M,D,"trace","log")}function T(j,W){if(!j)throw new Error("missing bindings for child Pino");W=W||{},$&&j.serializers&&(W.serializers=j.serializers);const Z=W.serializers;if($&&Z){var z=Object.assign({},I,Z),ie=b.browser.serialize===!0?Object.keys(z):$;delete j.serializers,l([j],ie,z,this._stdErrSerialize)}function V(ee){this._childLevel=(ee._childLevel|0)+1,this.error=d(ee,j,"error"),this.fatal=d(ee,j,"fatal"),this.warn=d(ee,j,"warn"),this.info=d(ee,j,"info"),this.debug=d(ee,j,"debug"),this.trace=d(ee,j,"trace"),z&&(this.serializers=z,this._serialize=ie),k&&(this._logEvent=h([].concat(ee._logEvent.bindings,j)))}return V.prototype=this,new V(this)}return D}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:C,unixTime:_,isoTime:E});function s(b,k,S,I){const $=Object.getPrototypeOf(k);k[S]=k.levelVal>k.levels.values[S]?w:$[S]?$[S]:e[S]||e[I]||w,a(b,k,S)}function a(b,k,S){!b.transmit&&k[S]===w||(k[S]=(function(I){return function(){const A=b.timestamp(),N=new Array(arguments.length),O=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var D=0;D<N.length;D++)N[D]=arguments[D];if(b.serialize&&!b.asObject&&l(N,this._serialize,this.serializers,this._stdErrSerialize),b.asObject?I.call(O,o(this,S,N,A)):I.apply(O,N),b.transmit){const M=b.transmit.level||k.level,B=i.levels.values[M],U=i.levels.values[S];if(U<B)return;u(this,{ts:A,methodLevel:S,methodValue:U,transmitValue:i.levels.values[b.transmit.level||k.level],send:b.transmit.send,val:k.levelVal},N)}}})(k[S]))}function o(b,k,S,I){b._serialize&&l(S,b._serialize,b.serializers,b._stdErrSerialize);const $=S.slice();let A=$[0];const N={};I&&(N.time=I),N.level=i.levels.values[k];let O=(b._childLevel|0)+1;if(O<1&&(O=1),A!==null&&typeof A=="object"){for(;O--&&typeof $[0]=="object";)Object.assign(N,$.shift());A=$.length?t($.shift(),$):void 0}else typeof A=="string"&&(A=t($.shift(),$));return A!==void 0&&(N.msg=A),N}function l(b,k,S,I){for(const $ in b)if(I&&b[$]instanceof Error)b[$]=i.stdSerializers.err(b[$]);else if(typeof b[$]=="object"&&!Array.isArray(b[$]))for(const A in b[$])k&&k.indexOf(A)>-1&&A in S&&(b[$][A]=S[A](b[$][A]))}function d(b,k,S){return function(){const I=new Array(1+arguments.length);I[0]=k;for(var $=1;$<I.length;$++)I[$]=arguments[$-1];return b[S].apply(this,I)}}function u(b,k,S){const I=k.send,$=k.ts,A=k.methodLevel,N=k.methodValue,O=k.val,D=b._logEvent.bindings;l(S,b._serialize||Object.keys(b.serializers),b.serializers,b._stdErrSerialize===void 0?!0:b._stdErrSerialize),b._logEvent.ts=$,b._logEvent.messages=S.filter(function(M){return D.indexOf(M)===-1}),b._logEvent.level.label=A,b._logEvent.level.value=N,I(A,b._logEvent,O),b._logEvent=h(D)}function h(b){return{ts:0,messages:[],bindings:b||[],level:{label:"",value:0}}}function p(b){const k={type:b.constructor.name,msg:b.message,stack:b.stack};for(const S in b)k[S]===void 0&&(k[S]=b[S]);return k}function f(b){return typeof b.timestamp=="function"?b.timestamp:b.timestamp===!1?v:C}function g(){return{}}function m(b){return b}function w(){}function v(){return!1}function C(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function E(){return new Date(Date.now()).toISOString()}function x(){function b(k){return typeof k<"u"&&k}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return b(self)||b(window)||b(this)||{}}}return Gm}var ree=nee();const iee=ha(ree),see={level:"info"},Mu="custom_context";var aee=Object.defineProperty,oee=Object.defineProperties,lee=Object.getOwnPropertyDescriptors,k4=Object.getOwnPropertySymbols,cee=Object.prototype.hasOwnProperty,dee=Object.prototype.propertyIsEnumerable,$4=(t,e,n)=>e in t?aee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uee=(t,e)=>{for(var n in e||(e={}))cee.call(e,n)&&$4(t,n,e[n]);if(k4)for(var n of k4(e))dee.call(e,n)&&$4(t,n,e[n]);return t},hee=(t,e)=>oee(t,lee(e));function pee(t){return hee(uee({},t),{level:(t==null?void 0:t.level)||see.level})}function fee(t,e=Mu){return t[e]||""}function gee(t,e,n=Mu){return t[n]=e,t}function k_(t,e=Mu){let n="";return typeof t.bindings>"u"?n=fee(t,e):n=t.bindings().context||"",n}function mee(t,e,n=Mu){const r=k_(t,n);return r.trim()?`${r}/${e}`:e}function yee(t,e,n=Mu){const r=mee(t,e,n),i=t.child({context:r});return gee(i,r,n)}const $_="wc",I_=2,S_="client",bw=`${$_}@${I_}:${S_}:`,Ym={name:S_,logger:"error"},I4="WALLETCONNECT_DEEPLINK_CHOICE",wee="proposal",S4="Proposal expired",vee="session",Cl=Pe.SEVEN_DAYS,bee="engine",Kn={wc_sessionPropose:{req:{ttl:Pe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Pe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Pe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Pe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Pe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Pe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Pe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Pe.FIVE_MINUTES,prompt:!1,tag:1119}}},Zm={min:Pe.FIVE_MINUTES,max:Pe.SEVEN_DAYS},ds={idle:"IDLE",active:"ACTIVE"},xee={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Cee="request",_ee=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Eee="wc",kee="auth",$ee="authKeys",Iee="pairingTopics",See="requests",Lf=`${Eee}@${1.5}:${kee}:`,Hh=`${Lf}:PUB_KEY`;var Aee=Object.defineProperty,Tee=Object.defineProperties,Pee=Object.getOwnPropertyDescriptors,A4=Object.getOwnPropertySymbols,Dee=Object.prototype.hasOwnProperty,Nee=Object.prototype.propertyIsEnumerable,ly=(t,e,n)=>e in t?Aee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Mt=(t,e)=>{for(var n in e||(e={}))Dee.call(e,n)&&ly(t,n,e[n]);if(A4)for(var n of A4(e))Nee.call(e,n)&&ly(t,n,e[n]);return t},ar=(t,e)=>Tee(t,Pee(e)),fe=(t,e,n)=>ly(t,typeof e!="symbol"?e+"":e,n);let jee=class extends yY{constructor(e){super(e),fe(this,"name",bee),fe(this,"events",new x2),fe(this,"initialized",!1),fe(this,"requestQueue",{state:ds.idle,queue:[]}),fe(this,"sessionRequestQueue",{state:ds.idle,queue:[]}),fe(this,"emittedSessionRequests",new Gq({limit:500})),fe(this,"requestQueueDelay",Pe.ONE_SECOND),fe(this,"expectedPairingMethodMap",new Map),fe(this,"recentlyDeletedMap",new Map),fe(this,"recentlyDeletedLimit",200),fe(this,"relayMessageCache",[]),fe(this,"pendingSessions",new Map),fe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Kn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Pe.toMiliseconds(this.requestQueueDelay)))}),fe(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=ar(Mt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=YK(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:o,scopedProperties:l,relays:d}=r;let u=i,h,p=!1;try{if(u){const b=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),p=b.active}}catch(b){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),b}if(!u||!p){const{topic:b,uri:k}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=b,h=k}if(!u){const{message:b}=$e("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(b)}const f=await this.client.core.crypto.generateKeyPair(),g=Kn.wc_sessionPropose.req.ttl||Pe.FIVE_MINUTES,m=On(g),w=ar(Mt(Mt({requiredNamespaces:s,optionalNamespaces:a,relays:d??[{protocol:d_}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},o&&{sessionProperties:o}),l&&{scopedProperties:l}),{id:ma()}),v=Rt("session_connect",w.id),{reject:C,resolve:_,done:E}=ho(g,S4),x=({id:b})=>{b===w.id&&(this.client.events.off("proposal_expire",x),this.pendingSessions.delete(w.id),this.events.emit(v,{error:{message:S4,code:0}}))};return this.client.events.on("proposal_expire",x),this.events.once(v,({error:b,session:k})=>{this.client.events.off("proposal_expire",x),b?C(b):k&&_(k)}),await this.sendProposeSession({proposal:w,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:w.id}}}),await this.setProposal(w.id,w),{uri:h,approval:E}}),fe(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),fe(this,"approve",async n=>{var r,i,s;const a=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[$a.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(I){throw a.setError(Kc.no_internet_connection),I}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(I){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),a.setError(Kc.proposal_not_found),I}try{await this.isValidApprove(n)}catch(I){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(Kc.session_approve_namespace_validation_failure),I}const{id:o,relayProtocol:l,namespaces:d,sessionProperties:u,scopedProperties:h,sessionConfig:p}=n,f=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:g,proposer:m,requiredNamespaces:w,optionalNamespaces:v}=f;let C=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:g});C||(C=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:$a.session_approve_started,properties:{topic:g,trace:[$a.session_approve_started,$a.session_namespaces_validation_success]}}));const _=await this.client.core.crypto.generateKeyPair(),E=m.publicKey,x=await this.client.core.crypto.generateSharedKey(_,E),b=Mt(Mt(Mt({relay:{protocol:l??"irn"},namespaces:d,controller:{publicKey:_,metadata:this.client.metadata},expiry:On(Cl)},u&&{sessionProperties:u}),h&&{scopedProperties:h}),p&&{sessionConfig:p}),k=tn.relay;C.addTrace($a.subscribing_session_topic);try{await this.client.core.relayer.subscribe(x,{transportType:k,internal:{skipSubscribe:!0}})}catch(I){throw C.setError(Kc.subscribe_session_topic_failure),I}C.addTrace($a.subscribe_session_topic_success);const S=ar(Mt({},b),{topic:x,requiredNamespaces:w,optionalNamespaces:v,pairingTopic:g,acknowledged:!1,self:b.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:_,transportType:tn.relay});await this.client.session.set(x,S),C.addTrace($a.store_session);try{await this.sendApproveSession({sessionTopic:x,proposal:f,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:_},sessionSettleRequest:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:o}}}),C.addTrace($a.session_approve_publish_success)}catch(I){throw this.client.logger.error(I),this.client.session.delete(x,nn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(x),I}return this.client.core.eventClient.deleteEvent({eventId:C.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:m.metadata}),await this.deleteProposal(o),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(x,On(Cl)),{topic:x,acknowledged:()=>Promise.resolve(this.client.session.get(x))}}),fe(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),a}s&&await this.sendError({id:r,topic:s,error:i,rpcOpts:Kn.wc_sessionPropose.reject}),await this.deleteProposal(r)}),fe(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:a,reject:o}=ho(),l=ma(),d=bo().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Rt("session_update",l),({error:h})=>{h?o(h):a()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:d}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:u}),o(h)}),{acknowledged:s}}),fe(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:r}=n,i=ma(),{done:s,resolve:a,reject:o}=ho();return this.events.once(Rt("session_extend",i),({error:l})=>{l?o(l):a()}),await this.setExpiry(r,On(Cl)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{o(l)}),{acknowledged:s}}),fe(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:r,request:i,topic:s,expiry:a=Kn.wc_sessionRequest.req.ttl}=n,o=this.client.session.get(s);(o==null?void 0:o.transportType)===tn.relay&&await this.confirmOnlineStateOrThrow();const l=ma(),d=bo().toString(),{done:u,resolve:h,reject:p}=ho(a,"Request expired. Please try again.");this.events.once(Rt("session_request",l),({error:w,result:v})=>{w?p(w):h(v)});const f="wc_sessionRequest",g=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(g)return await this.sendRequest({clientRpcId:l,relayRpcId:d,topic:s,method:f,params:{request:ar(Mt({},i),{expiryTimestamp:On(a)}),chainId:r},expiry:a,throwOnFailedPublish:!0,appLink:g}).catch(w=>p(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:l}),await u();const m={request:ar(Mt({},i),{expiryTimestamp:On(a)}),chainId:r};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:l,relayRpcId:d,topic:s,method:f,params:m,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,m)}).catch(v=>p(v)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:l}),w()}),new Promise(async w=>{var v;if(!((v=o.sessionConfig)!=null&&v.disableDeepLink)){const C=await zq(this.client.core.storage,I4);await Uq({id:l,topic:s,wcDeepLink:C})}w()}),u()]).then(w=>w[2])}),fe(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,a=this.client.session.get(r);a.transportType===tn.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);zs(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:o}):ms(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:o}),this.cleanupAfterResponse(n)}),fe(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=ma(),s=bo().toString(),{done:a,resolve:o,reject:l}=ho();this.events.once(Rt("session_ping",i),({error:d})=>{d?l(d):o()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),a()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),fe(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,a=bo().toString(),o=ma();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:o})}),fe(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:nn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=$e("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),fe(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>QK(r,n)))),fe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),fe(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=s?tn.link_mode:tn.relay;a===tn.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:l="",uri:d,domain:u,nonce:h,type:p,exp:f,nbf:g,methods:m=[],expiry:w}=n,v=[...n.resources||[]],{topic:C,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:C,uri:_}});const E=await this.client.core.crypto.generateKeyPair(),x=zh(E);if(await Promise.all([this.client.auth.authKeys.set(Hh,{responseTopic:x,publicKey:E}),this.client.auth.pairingTopics.set(x,{topic:x,pairingTopic:C})]),await this.client.core.relayer.subscribe(x,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${C}`),m.length>0){const{namespace:T}=No(o[0]);let j=sV(T,"request",m);Wh(v)&&(j=oV(j,v.pop())),v.push(j)}const b=w&&w>Kn.wc_sessionAuthenticate.req.ttl?w:Kn.wc_sessionAuthenticate.req.ttl,k={authPayload:{type:p??"caip122",chains:o,statement:l,aud:d,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:f,nbf:g,resources:v},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:On(b)},S={eip155:{chains:o,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},I={requiredNamespaces:{},optionalNamespaces:S,relays:[{protocol:"irn"}],pairingTopic:C,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:On(Kn.wc_sessionPropose.req.ttl),id:ma()},{done:$,resolve:A,reject:N}=ho(b,"Request expired"),O=ma(),D=Rt("session_connect",I.id),M=Rt("session_request",O),B=async({error:T,session:j})=>{this.events.off(M,U),T?N(T):j&&A({session:j})},U=async T=>{var j,W,Z;if(await this.deletePendingAuthRequest(O,{message:"fulfilled",code:0}),T.error){const he=nn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return T.error.code===he.code?void 0:(this.events.off(D,B),N(T.error.message))}await this.deleteProposal(I.id),this.events.off(D,B);const{cacaos:z,responder:ie}=T.result,V=[],ee=[];for(const he of z){await f5({cacao:he,projectId:this.client.core.projectId})||(this.client.logger.error(he,"Signature verification failed"),N(nn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:xe}=he,ke=Wh(xe.resources),Ue=[U0(xe.iss)],ge=_p(xe.iss);if(ke){const Ce=g5(ke),Ee=m5(ke);V.push(...Ce),Ue.push(...Ee)}for(const Ce of Ue)ee.push(`${Ce}:${ge}`)}const ae=await this.client.core.crypto.generateSharedKey(E,ie.publicKey);let te;V.length>0&&(te={topic:ae,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:ie,controller:ie.publicKey,expiry:On(Cl),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:C,namespaces:U5([...new Set(V)],[...new Set(ee)]),transportType:a},await this.client.core.relayer.subscribe(ae,{transportType:a}),await this.client.session.set(ae,te),C&&await this.client.core.pairing.updateMetadata({topic:C,metadata:ie.metadata}),te=this.client.session.get(ae)),(j=this.client.metadata.redirect)!=null&&j.linkMode&&(W=ie.metadata.redirect)!=null&&W.linkMode&&(Z=ie.metadata.redirect)!=null&&Z.universal&&r&&(this.client.core.addLinkModeSupportedApp(ie.metadata.redirect.universal),this.client.session.update(ae,{transportType:tn.link_mode})),A({auths:z,session:te})};this.events.once(D,B),this.events.once(M,U);let L;try{if(s){const T=Ks("wc_sessionAuthenticate",k,O);this.client.core.history.set(C,T);const j=await this.client.core.crypto.encode("",T,{type:Nu,encoding:Ma});L=fh(r,C,j)}else await Promise.all([this.sendRequest({topic:C,method:"wc_sessionAuthenticate",params:k,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:O}),this.sendRequest({topic:C,method:"wc_sessionPropose",params:I,expiry:Kn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:I.id})])}catch(T){throw this.events.off(D,B),this.events.off(M,U),T}return await this.setProposal(I.id,I),await this.setAuthRequest(O,{request:ar(Mt({},k),{verifyContext:{}}),pairingTopic:C,transportType:a}),{uri:L??_,response:$}}),fe(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[co.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(Gc.no_internet_connection),w}const a=this.getPendingAuthRequest(r);if(!a)throw s.setError(Gc.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const o=a.transportType||tn.relay;o===tn.relay&&await this.confirmOnlineStateOrThrow();const l=a.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),u=zh(l),h={type:ia,receiverPublicKey:l,senderPublicKey:d},p=[],f=[];for(const w of i){if(!await f5({cacao:w,projectId:this.client.core.projectId})){s.setError(Gc.invalid_cacao);const x=nn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:x,encodeOpts:h}),new Error(x.message)}s.addTrace(co.cacaos_verified);const{p:v}=w,C=Wh(v.resources),_=[U0(v.iss)],E=_p(v.iss);if(C){const x=g5(C),b=m5(C);p.push(...x),_.push(...b)}for(const x of _)f.push(`${x}:${E}`)}const g=await this.client.core.crypto.generateSharedKey(d,l);s.addTrace(co.create_authenticated_session_topic);let m;if((p==null?void 0:p.length)>0){m={topic:g,acknowledged:!0,self:{publicKey:d,metadata:this.client.metadata},peer:{publicKey:l,metadata:a.requester.metadata},controller:l,expiry:On(Cl),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:U5([...new Set(p)],[...new Set(f)]),transportType:o},s.addTrace(co.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(g,{transportType:o})}catch(w){throw s.setError(Gc.subscribe_authenticated_session_topic_failure),w}s.addTrace(co.subscribe_authenticated_session_topic_success),await this.client.session.set(g,m),s.addTrace(co.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}s.addTrace(co.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:d,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,o)})}catch(w){throw s.setError(Gc.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),fe(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===tn.relay&&await this.confirmOnlineStateOrThrow();const a=s.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),l=zh(a),d={type:ia,receiverPublicKey:a,senderPublicKey:o};await this.sendError({id:r,topic:l,error:i,encodeOpts:d,rpcOpts:Kn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),fe(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return k9(r,i)}),fe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),fe(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var a,o;return((a=s.peerMetadata)==null?void 0:a.url)&&((o=s.peerMetadata)==null?void 0:o.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),fe(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:a=!0,id:o=0}=n,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,nn("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(I4).catch(d=>this.client.logger.warn(d)),this.getPendingSessionRequests().forEach(d=>{d.topic===i&&this.deletePendingSessionRequest(d.id,nn("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=ds.idle),a&&this.client.events.emit("session_delete",{id:o,topic:i})}),fe(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Kc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,nn("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),fe(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=ds.idle,this.client.events.emit("session_request_expire",{id:n}))}),fe(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),fe(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),fe(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,On(Kn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),fe(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:a=tn.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:a})}),fe(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:a}=n,o=s.request.expiryTimestamp||On(Kn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,o),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:a})}),fe(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:a,relayRpcId:o,clientRpcId:l,throwOnFailedPublish:d,appLink:u,tvf:h,publishOpts:p={}}=n,f=Ks(i,s,l);let g;const m=!!u;try{const C=m?Ma:Pr;g=await this.client.core.crypto.encode(r,f,{encoding:C})}catch(C){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),C}let w;if(_ee.includes(i)){const C=pi(JSON.stringify(f)),_=pi(g);w=await this.client.core.verify.register({id:_,decryptedId:C})}const v=Mt(Mt({},Kn[i].req),p);if(v.attestation=w,a&&(v.ttl=a),o&&(v.id=o),this.client.core.history.set(r,f),m){const C=fh(u,r,g);await global.Linking.openURL(C,this.client.name)}else v.tvf=ar(Mt({},h),{correlationId:f.id}),d?(v.internal=ar(Mt({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,g,v)):this.client.core.relayer.publish(r,g,v).catch(C=>this.client.logger.error(C));return f.id}),fe(this,"sendProposeSession",async n=>{const{proposal:r,publishOpts:i}=n,s=Ks("wc_sessionPropose",r,r.id);this.client.core.history.set(r.pairingTopic,s);const a=await this.client.core.crypto.encode(r.pairingTopic,s,{encoding:Pr}),o=pi(JSON.stringify(s)),l=pi(a),d=await this.client.core.verify.register({id:l,decryptedId:o});await this.client.core.relayer.publishCustom({payload:{pairingTopic:r.pairingTopic,sessionProposal:a},opts:ar(Mt({},i),{publishMethod:"wc_proposeSession",attestation:d})})}),fe(this,"sendApproveSession",async n=>{const{sessionTopic:r,pairingProposalResponse:i,proposal:s,sessionSettleRequest:a,publishOpts:o}=n,l=Fd(s.id,i),d=await this.client.core.crypto.encode(s.pairingTopic,l,{encoding:Pr}),u=Ks("wc_sessionSettle",a,o==null?void 0:o.id),h=await this.client.core.crypto.encode(r,u,{encoding:Pr});this.client.core.history.set(r,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:r,pairingTopic:s.pairingTopic,sessionProposalResponse:d,sessionSettlementRequest:h},opts:ar(Mt({},o),{publishMethod:"wc_approveSession"})})}),fe(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:a,encodeOpts:o,appLink:l}=n,d=Fd(r,s);let u;const h=l&&typeof(global==null?void 0:global.Linking)<"u";try{const g=h?Ma:Pr;u=await this.client.core.crypto.encode(i,d,ar(Mt({},o||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),g}let p,f;try{p=await this.client.core.history.get(i,r);const g=p.request;try{f=this.getTVFParams(r,g.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m==null?void 0:m.message}`)}}catch(g){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),g}if(h){const g=fh(l,i,u);await global.Linking.openURL(g,this.client.name)}else{const g=p.request.method,m=Kn[g].res;m.tvf=ar(Mt({},f),{correlationId:r}),a?(m.internal=ar(Mt({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(d)}),fe(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:a,rpcOpts:o,appLink:l}=n,d=qx(r,s);let u;const h=l&&typeof(global==null?void 0:global.Linking)<"u";try{const f=h?Ma:Pr;u=await this.client.core.crypto.encode(i,d,ar(Mt({},a||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let p;try{p=await this.client.core.history.get(i,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),f}if(h){const f=fh(l,i,u);await global.Linking.openURL(f,this.client.name)}else{const f=p.request.method,g=o||Kn[f].res;this.client.core.relayer.publish(i,u,g)}await this.client.core.history.resolve(d)}),fe(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;Aa(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Aa(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),fe(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),fe(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),fe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ds.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ds.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=ds.idle}),fe(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:a,encryptedId:o}=n,l=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:o,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:o,transportType:a});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),fe(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,a=(await this.client.core.history.get(r,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),fe(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=$e("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),fe(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),fe(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:a}=n,{params:o,id:l}=i;try{const d=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),d==null||d.setError(Hs.proposal_listener_not_found)),this.isValidConnect(Mt({},i.params));const u=o.expiryTimestamp||On(Kn.wc_sessionPropose.req.ttl),h=Mt({id:l,pairingTopic:r,expiryTimestamp:u,attestation:s,encryptedId:a},o);await this.setProposal(l,h);const p=await this.getVerifyContext({attestationId:s,hash:pi(JSON.stringify(i)),encryptedId:a,metadata:h.proposer.metadata});d==null||d.addTrace(fs.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:h,verifyContext:p})}catch(d){await this.sendError({id:l,topic:r,error:d,rpcOpts:Kn.wc_sessionPropose.autoReject}),this.client.logger.error(d)}}),fe(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if(zs(r)){const{result:a}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const o=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const l=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const d=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:d});const u=await this.client.core.crypto.generateSharedKey(l,d);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:l});const h=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(ms(r)){await this.deleteProposal(s);const a=Rt("session_connect",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:r.error})}}),fe(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:a,controller:o,expiry:l,namespaces:d,sessionProperties:u,scopedProperties:h,sessionConfig:p}=r.params,f=[...this.pendingSessions.values()].find(w=>w.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const g=this.client.proposal.get(f.proposalId),m=ar(Mt(Mt(Mt({topic:n,relay:a,expiry:l,namespaces:d,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:o.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},u&&{sessionProperties:u}),h&&{scopedProperties:h}),p&&{sessionConfig:p}),{transportType:tn.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(Rt("session_connect",f.proposalId),{session:m}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:r.id,topic:n,result:!0})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),fe(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;zs(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Rt("session_approve",i),{})):ms(r)&&(await this.client.session.delete(n,nn("USER_DISCONNECTED")),this.events.emit(Rt("session_approve",i),{error:r.error}))}),fe(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const a=`${n}_session_update`,o=Hc.get(a);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:nn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Mt({topic:n},i));try{Hc.set(a,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0})}catch(l){throw Hc.delete(a),l}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(a){await this.sendError({id:s,topic:n,error:a}),this.client.logger.error(a)}}),fe(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),fe(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=Rt("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);zs(r)?this.events.emit(Rt("session_update",i),{}):ms(r)&&this.events.emit(Rt("session_update",i),{error:r.error})}),fe(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,On(Cl)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),fe(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=Rt("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);zs(r)?this.events.emit(Rt("session_extend",i),{}):ms(r)&&this.events.emit(Rt("session_extend",i),{error:r.error})}),fe(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),fe(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=Rt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);zs(r)?this.events.emit(Rt("session_ping",i),{}):ms(r)&&this.events.emit(Rt("session_ping",i),{error:r.error})},500)}),fe(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(vn.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:nn("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),fe(this,"onSessionRequest",async n=>{var r,i,s;const{topic:a,payload:o,attestation:l,encryptedId:d,transportType:u}=n,{id:h,params:p}=o;try{await this.isValidRequest(Mt({topic:a},p));const f=this.client.session.get(a),g=await this.getVerifyContext({attestationId:l,hash:pi(JSON.stringify(Ks("wc_sessionRequest",p,h))),encryptedId:d,metadata:f.peer.metadata,transportType:u}),m={id:h,topic:a,params:p,verifyContext:g};await this.setPendingSessionRequest(m),u===tn.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(f){await this.sendError({id:h,topic:a,error:f}),this.client.logger.error(f)}}),fe(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=Rt("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);zs(r)?this.events.emit(Rt("session_request",i),{result:r.result}):ms(r)&&this.events.emit(Rt("session_request",i),{error:r.error})}),fe(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const a=`${n}_session_event_${s.event.name}`,o=Hc.get(a);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Mt({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),Hc.set(a,i)}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),fe(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),zs(r)?this.events.emit(Rt("session_request",i),{result:r.result}):ms(r)&&this.events.emit(Rt("session_request",i),{error:r.error})}),fe(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:a,encryptedId:o,transportType:l}=n;try{const{requester:d,authPayload:u,expiryTimestamp:h}=s.params,p=await this.getVerifyContext({attestationId:a,hash:pi(JSON.stringify(s)),encryptedId:o,metadata:d.metadata,transportType:l}),f={requester:d,pairingTopic:i,id:s.id,authPayload:u,verifyContext:p,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:l}),l===tn.link_mode&&(r=d.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:p})}catch(d){this.client.logger.error(d);const u=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),p=this.getAppLinkIfEnabled(s.params.requester.metadata,l),f={type:ia,receiverPublicKey:u,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:d,encodeOpts:f,rpcOpts:Kn.wc_sessionAuthenticate.autoReject,appLink:p})}}),fe(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),fe(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ds.idle,this.processSessionRequestQueue()},Pe.toMiliseconds(this.requestQueueDelay))}),fe(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const a=s.request.id,o=Rt("session_request",a);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(Rt("session_request",s.request.id),{error:r})})}),fe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ds.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),fe(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=ds.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),fe(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Ks("wc_sessionPropose",ar(Mt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),fe(this,"isValidConnect",async n=>{if(!Ir(n)){const{message:d}=$e("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(d)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:a,scopedProperties:o,relays:l}=n;if(Rn(r)||await this.isValidPairingTopic(r),!dG(l)){const{message:d}=$e("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(d)}if(!Rn(i)&&Cs(i)!==0){const d="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(d):this.client.logger.warn(d),this.validateNamespaces(i,"requiredNamespaces")}if(!Rn(s)&&Cs(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Rn(a)||this.validateSessionProps(a,"sessionProperties"),!Rn(o)){this.validateSessionProps(o,"scopedProperties");const d=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(o).every(u=>d.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(d)}`)}}),fe(this,"validateNamespaces",(n,r)=>{const i=cG(n,"connect()",r);if(i)throw new Error(i.message)}),fe(this,"isValidApprove",async n=>{if(!Ir(n))throw new Error($e("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:a,scopedProperties:o}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const l=this.client.proposal.get(r),d=Bm(i,"approve()");if(d)throw new Error(d.message);const u=z5(l.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Sn(s,!0)){const{message:h}=$e("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(Rn(a)||this.validateSessionProps(a,"sessionProperties"),!Rn(o)){this.validateSessionProps(o,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(o).every(p=>h.has(p.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),fe(this,"isValidReject",async n=>{if(!Ir(n)){const{message:s}=$e("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!hG(i)){const{message:s}=$e("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),fe(this,"isValidSessionSettleRequest",n=>{if(!Ir(n)){const{message:d}=$e("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(d)}const{relay:r,controller:i,namespaces:s,expiry:a}=n;if(!n_(r)){const{message:d}=$e("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}const o=rG(i,"onSessionSettleRequest()");if(o)throw new Error(o.message);const l=Bm(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(Aa(a)){const{message:d}=$e("EXPIRED","onSessionSettleRequest()");throw new Error(d)}}),fe(this,"isValidUpdate",async n=>{if(!Ir(n)){const{message:l}=$e("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(l)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),a=Bm(i,"update()");if(a)throw new Error(a.message);const o=z5(s.requiredNamespaces,i,"update()");if(o)throw new Error(o.message)}),fe(this,"isValidExtend",async n=>{if(!Ir(n)){const{message:i}=$e("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),fe(this,"isValidRequest",async n=>{if(!Ir(n)){const{message:l}=$e("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(l)}const{topic:r,request:i,chainId:s,expiry:a}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!W5(o,s)){const{message:l}=$e("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!pG(i)){const{message:l}=$e("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!mG(o,s,i.method)){const{message:l}=$e("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(a&&!bG(a,Zm)){const{message:l}=$e("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${Zm.min} and ${Zm.max}`);throw new Error(l)}}),fe(this,"isValidRespond",async n=>{var r;if(!Ir(n)){const{message:a}=$e("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(a)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(a){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),a}if(!fG(s)){const{message:a}=$e("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}}),fe(this,"isValidPing",async n=>{if(!Ir(n)){const{message:i}=$e("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),fe(this,"isValidEmit",async n=>{if(!Ir(n)){const{message:o}=$e("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(o)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!W5(a,s)){const{message:o}=$e("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(o)}if(!gG(i)){const{message:o}=$e("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}if(!yG(a,s,i.name)){const{message:o}=$e("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}}),fe(this,"isValidDisconnect",async n=>{if(!Ir(n)){const{message:i}=$e("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),fe(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:a}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Sn(i,!1))throw new Error("uri is required parameter");if(!Sn(s,!1))throw new Error("domain is required parameter");if(!Sn(a,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(l=>No(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=No(r[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),fe(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:a,transportType:o}=n,l={verified:{verifyUrl:a.verifyUrl||Id,validation:"UNKNOWN",origin:a.url||""}};try{if(o===tn.link_mode){const u=this.getAppLinkIfEnabled(a,o);return l.verified.validation=u&&new URL(u).origin===new URL(a.url).origin?"VALID":"INVALID",l}const d=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:a.verifyUrl});d&&(l.verified.origin=d.origin,l.verified.isScam=d.isScam,l.verified.validation=d.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(d){this.client.logger.warn(d)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),fe(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:a}=$e("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(a)}})}),fe(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),fe(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(a)}}}),fe(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=$e("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),fe(this,"isLinkModeEnabled",(n,r)=>{var i,s,a,o,l,d,u,h,p;return!n||r!==tn.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((o=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:o.universal)!==void 0&&((d=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:d.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((h=n==null?void 0:n.redirect)==null?void 0:h.universal)!==""&&((p=n==null?void 0:n.redirect)==null?void 0:p.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),fe(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),fe(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=n5(n,"topic")||"",i=decodeURIComponent(n5(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:tn.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),fe(this,"registerLinkModeListeners",async()=>{var n;if(iw()||Xa()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),fe(this,"getTVFParams",(n,r,i)=>{var s,a,o;if(!((s=r.request)!=null&&s.method))return{};const l={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const d=this.extractTxHashesFromResult(r.request,i);l.txHashes=d,l.contractAddresses=this.isValidContractData(r.request.params)?[(o=(a=r.request.params)==null?void 0:a[0])==null?void 0:o.to]:[]}catch(d){this.client.logger.warn("Error getting TVF params",d)}return l}),fe(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),fe(this,"extractTxHashesFromResult",(n,r)=>{var i;try{if(!r)return[];const s=n.method,a=xee[s];if(s==="sui_signTransaction")return[zH(r.transactionBytes)];if(s==="near_signTransaction")return[d5(r)];if(s==="near_signTransactions")return r.map(l=>d5(l));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=r.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[OG({transaction:n.params.transactionPayload,signature:r.signature})];if(s==="algo_signTxn")return bi(r)?r.map(l=>u5(l)):[u5(r)];if(s==="cosmos_signDirect")return[HH(r)];if(typeof r=="string")return[r];const o=r[a.key];if(bi(o))return s==="solana_signAllTransactions"?o.map(l=>WH(l)):o;if(typeof o=="string")return[o]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=$e("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(vn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(Hh)?this.client.auth.authKeys.get(Hh):{publicKey:void 0};try{const o=await this.client.core.crypto.decode(n,r,{receiverPublicKey:a,encoding:s===tn.link_mode?Ma:Pr});v2(o)?(this.client.core.history.set(n,o),await this.onRelayEventRequest({topic:n,payload:o,attestation:i,transportType:s,encryptedId:pi(r)})):b2(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:n,payload:o,transportType:s}),this.client.core.history.delete(n,o.id)):await this.onRelayEventUnknownPayload({topic:n,payload:o,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(ui.expired,async e=>{const{topic:n,id:r}=d9(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,$e("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,$e("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(go.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(go.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Sn(e,!1)){const{message:n}=$e("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=$e("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Aa(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=$e("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Sn(e,!1)){const{message:n}=$e("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=$e("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Aa(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=$e("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=$e("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Sn(e,!1)){const{message:n}=$e("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=$e("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!uG(e)){const{message:n}=$e("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=$e("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Aa(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=$e("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}},Oee=class extends el{constructor(e,n){super(e,n,wee,bw),this.core=e,this.logger=n}},Ree=class extends el{constructor(e,n){super(e,n,vee,bw),this.core=e,this.logger=n}},Mee=class extends el{constructor(e,n){super(e,n,Cee,bw,r=>r.id),this.core=e,this.logger=n}},Lee=class extends el{constructor(e,n){super(e,n,$ee,Lf,()=>Hh),this.core=e,this.logger=n}},Fee=class extends el{constructor(e,n){super(e,n,Iee,Lf),this.core=e,this.logger=n}},Uee=class extends el{constructor(e,n){super(e,n,See,Lf,r=>r.id),this.core=e,this.logger=n}};var Bee=Object.defineProperty,Wee=(t,e,n)=>e in t?Bee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jm=(t,e,n)=>Wee(t,typeof e!="symbol"?e+"":e,n);let zee=class{constructor(e,n){this.core=e,this.logger=n,Jm(this,"authKeys"),Jm(this,"pairingTopics"),Jm(this,"requests"),this.authKeys=new Lee(this.core,this.logger),this.pairingTopics=new Fee(this.core,this.logger),this.requests=new Uee(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var qee=Object.defineProperty,Hee=(t,e,n)=>e in t?qee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_t=(t,e,n)=>Hee(t,typeof e!="symbol"?e+"":e,n);let Vee=class A_ extends mY{constructor(e){super(e),_t(this,"protocol",$_),_t(this,"version",I_),_t(this,"name",Ym.name),_t(this,"metadata"),_t(this,"core"),_t(this,"logger"),_t(this,"events",new Qa.EventEmitter),_t(this,"engine"),_t(this,"session"),_t(this,"proposal"),_t(this,"pendingRequest"),_t(this,"auth"),_t(this,"signConfig"),_t(this,"on",(r,i)=>this.events.on(r,i)),_t(this,"once",(r,i)=>this.events.once(r,i)),_t(this,"off",(r,i)=>this.events.off(r,i)),_t(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),_t(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),_t(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),_t(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),_t(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),_t(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||Ym.name,this.metadata=jq(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:iee(pee({level:(e==null?void 0:e.logger)||Ym.logger}));this.core=(e==null?void 0:e.core)||new tee(e),this.logger=yee(n,this.name),this.session=new Ree(this.core,this.logger),this.proposal=new Oee(this.core,this.logger),this.pendingRequest=new Mee(this.core,this.logger),this.engine=new jee(this),this.auth=new zee(this.core,this.logger)}static async init(e){const n=new A_(e);return await n.initialize(),n}get context(){return k_(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Qm,T4;function Kee(){if(T4)return Qm;T4=1;const t=w2();Qm=i;const e=x().console||{},n={mapHttpRequest:g,mapHttpResponse:g,wrapRequestSerializer:m,wrapResponseSerializer:m,wrapErrorSerializer:m,req:g,res:g,err:p};function r(b,k){return Array.isArray(b)?b.filter(function(I){return I!=="!stdSerializers.err"}):b===!0?Object.keys(k):!1}function i(b){b=b||{},b.browser=b.browser||{};const k=b.browser.transmit;if(k&&typeof k.send!="function")throw Error("pino: transmit option must have a send function");const S=b.browser.write||e;b.browser.write&&(b.browser.asObject=!0);const I=b.serializers||{},$=r(b.browser.serialize,I);let A=b.browser.serialize;Array.isArray(b.browser.serialize)&&b.browser.serialize.indexOf("!stdSerializers.err")>-1&&(A=!1);const N=["error","fatal","warn","info","debug","trace"];typeof S=="function"&&(S.error=S.fatal=S.warn=S.info=S.debug=S.trace=S),b.enabled===!1&&(b.level="silent");const O=b.level||"info",D=Object.create(S);D.log||(D.log=w),Object.defineProperty(D,"levelVal",{get:B}),Object.defineProperty(D,"level",{get:U,set:L});const M={transmit:k,serialize:$,asObject:b.browser.asObject,levels:N,timestamp:f(b)};D.levels=i.levels,D.level=O,D.setMaxListeners=D.getMaxListeners=D.emit=D.addListener=D.on=D.prependListener=D.once=D.prependOnceListener=D.removeListener=D.removeAllListeners=D.listeners=D.listenerCount=D.eventNames=D.write=D.flush=w,D.serializers=I,D._serialize=$,D._stdErrSerialize=A,D.child=T,k&&(D._logEvent=h());function B(){return this.level==="silent"?1/0:this.levels.values[this.level]}function U(){return this._level}function L(j){if(j!=="silent"&&!this.levels.values[j])throw Error("unknown level "+j);this._level=j,s(M,D,"error","log"),s(M,D,"fatal","error"),s(M,D,"warn","error"),s(M,D,"info","log"),s(M,D,"debug","log"),s(M,D,"trace","log")}function T(j,W){if(!j)throw new Error("missing bindings for child Pino");W=W||{},$&&j.serializers&&(W.serializers=j.serializers);const Z=W.serializers;if($&&Z){var z=Object.assign({},I,Z),ie=b.browser.serialize===!0?Object.keys(z):$;delete j.serializers,l([j],ie,z,this._stdErrSerialize)}function V(ee){this._childLevel=(ee._childLevel|0)+1,this.error=d(ee,j,"error"),this.fatal=d(ee,j,"fatal"),this.warn=d(ee,j,"warn"),this.info=d(ee,j,"info"),this.debug=d(ee,j,"debug"),this.trace=d(ee,j,"trace"),z&&(this.serializers=z,this._serialize=ie),k&&(this._logEvent=h([].concat(ee._logEvent.bindings,j)))}return V.prototype=this,new V(this)}return D}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:C,unixTime:_,isoTime:E});function s(b,k,S,I){const $=Object.getPrototypeOf(k);k[S]=k.levelVal>k.levels.values[S]?w:$[S]?$[S]:e[S]||e[I]||w,a(b,k,S)}function a(b,k,S){!b.transmit&&k[S]===w||(k[S]=(function(I){return function(){const A=b.timestamp(),N=new Array(arguments.length),O=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var D=0;D<N.length;D++)N[D]=arguments[D];if(b.serialize&&!b.asObject&&l(N,this._serialize,this.serializers,this._stdErrSerialize),b.asObject?I.call(O,o(this,S,N,A)):I.apply(O,N),b.transmit){const M=b.transmit.level||k.level,B=i.levels.values[M],U=i.levels.values[S];if(U<B)return;u(this,{ts:A,methodLevel:S,methodValue:U,transmitValue:i.levels.values[b.transmit.level||k.level],send:b.transmit.send,val:k.levelVal},N)}}})(k[S]))}function o(b,k,S,I){b._serialize&&l(S,b._serialize,b.serializers,b._stdErrSerialize);const $=S.slice();let A=$[0];const N={};I&&(N.time=I),N.level=i.levels.values[k];let O=(b._childLevel|0)+1;if(O<1&&(O=1),A!==null&&typeof A=="object"){for(;O--&&typeof $[0]=="object";)Object.assign(N,$.shift());A=$.length?t($.shift(),$):void 0}else typeof A=="string"&&(A=t($.shift(),$));return A!==void 0&&(N.msg=A),N}function l(b,k,S,I){for(const $ in b)if(I&&b[$]instanceof Error)b[$]=i.stdSerializers.err(b[$]);else if(typeof b[$]=="object"&&!Array.isArray(b[$]))for(const A in b[$])k&&k.indexOf(A)>-1&&A in S&&(b[$][A]=S[A](b[$][A]))}function d(b,k,S){return function(){const I=new Array(1+arguments.length);I[0]=k;for(var $=1;$<I.length;$++)I[$]=arguments[$-1];return b[S].apply(this,I)}}function u(b,k,S){const I=k.send,$=k.ts,A=k.methodLevel,N=k.methodValue,O=k.val,D=b._logEvent.bindings;l(S,b._serialize||Object.keys(b.serializers),b.serializers,b._stdErrSerialize===void 0?!0:b._stdErrSerialize),b._logEvent.ts=$,b._logEvent.messages=S.filter(function(M){return D.indexOf(M)===-1}),b._logEvent.level.label=A,b._logEvent.level.value=N,I(A,b._logEvent,O),b._logEvent=h(D)}function h(b){return{ts:0,messages:[],bindings:b||[],level:{label:"",value:0}}}function p(b){const k={type:b.constructor.name,msg:b.message,stack:b.stack};for(const S in b)k[S]===void 0&&(k[S]=b[S]);return k}function f(b){return typeof b.timestamp=="function"?b.timestamp:b.timestamp===!1?v:C}function g(){return{}}function m(b){return b}function w(){}function v(){return!1}function C(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function E(){return new Date(Date.now()).toISOString()}function x(){function b(k){return typeof k<"u"&&k}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return b(self)||b(window)||b(this)||{}}}return Qm}var Gee=Kee();const Yee=ha(Gee),Zee={level:"info"};var Jee=Object.defineProperty,Qee=Object.defineProperties,Xee=Object.getOwnPropertyDescriptors,P4=Object.getOwnPropertySymbols,ete=Object.prototype.hasOwnProperty,tte=Object.prototype.propertyIsEnumerable,D4=(t,e,n)=>e in t?Jee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nte=(t,e)=>{for(var n in e||(e={}))ete.call(e,n)&&D4(t,n,e[n]);if(P4)for(var n of P4(e))tte.call(e,n)&&D4(t,n,e[n]);return t},rte=(t,e)=>Qee(t,Xee(e));function ite(t){return rte(nte({},t),{level:(t==null?void 0:t.level)||Zee.level})}const N4="error",ste="wss://relay.walletconnect.org",ate="wc",ote="universal_provider",gh=`${ate}@2:${ote}:`,T_="https://rpc.walletconnect.org/v1/",P_="generic",lte=`${T_}bundler`,Ti={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function xw(t){return t==null||typeof t!="object"&&typeof t!="function"}function D_(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function N_(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const cte="[object RegExp]",j_="[object String]",O_="[object Number]",R_="[object Boolean]",M_="[object Arguments]",dte="[object Symbol]",ute="[object Date]",hte="[object Map]",pte="[object Set]",fte="[object Array]",gte="[object ArrayBuffer]",mte="[object Object]",yte="[object DataView]",wte="[object Uint8Array]",vte="[object Uint8ClampedArray]",bte="[object Uint16Array]",xte="[object Uint32Array]",Cte="[object Int8Array]",_te="[object Int16Array]",Ete="[object Int32Array]",kte="[object Float32Array]",$te="[object Float64Array]";function Cw(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ite(t,e){return zl(t,void 0,t,new Map,e)}function zl(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(xw(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const a=new Array(t.length);r.set(t,a);for(let o=0;o<t.length;o++)a[o]=zl(t[o],o,n,r,i);return Object.hasOwn(t,"index")&&(a.index=t.index),Object.hasOwn(t,"input")&&(a.input=t.input),a}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const a=new RegExp(t.source,t.flags);return a.lastIndex=t.lastIndex,a}if(t instanceof Map){const a=new Map;r.set(t,a);for(const[o,l]of t)a.set(o,zl(l,o,n,r,i));return a}if(t instanceof Set){const a=new Set;r.set(t,a);for(const o of t)a.add(zl(o,void 0,n,r,i));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(Cw(t)){const a=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,a);for(let o=0;o<t.length;o++)a[o]=zl(t[o],o,n,r,i);return a}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const a=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,a),mo(a,t,n,r,i),a}if(typeof File<"u"&&t instanceof File){const a=new File([t],t.name,{type:t.type});return r.set(t,a),mo(a,t,n,r,i),a}if(t instanceof Blob){const a=new Blob([t],{type:t.type});return r.set(t,a),mo(a,t,n,r,i),a}if(t instanceof Error){const a=new t.constructor;return r.set(t,a),a.message=t.message,a.name=t.name,a.stack=t.stack,a.cause=t.cause,mo(a,t,n,r,i),a}if(typeof t=="object"&&Ste(t)){const a=Object.create(Object.getPrototypeOf(t));return r.set(t,a),mo(a,t,n,r,i),a}return t}function mo(t,e,n=t,r,i){const s=[...Object.keys(e),...D_(e)];for(let a=0;a<s.length;a++){const o=s[a],l=Object.getOwnPropertyDescriptor(t,o);(l==null||l.writable)&&(t[o]=zl(e[o],o,n,r,i))}}function Ste(t){switch(N_(t)){case M_:case fte:case gte:case yte:case R_:case ute:case kte:case $te:case Cte:case _te:case Ete:case hte:case O_:case mte:case cte:case pte:case j_:case dte:case wte:case vte:case bte:case xte:return!0;default:return!1}}function Ate(t,e){return Ite(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case O_:case j_:case R_:{const a=new t.constructor(t==null?void 0:t.valueOf());return mo(a,t),a}case M_:{const a={};return mo(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function j4(t){return Ate(t)}function O4(t){return t!==null&&typeof t=="object"&&N_(t)==="[object Arguments]"}function R4(t){return typeof t=="object"&&t!==null}function Tte(){}function Pte(t){return Cw(t)}function Dte(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Nte(t){if(xw(t))return t;if(Array.isArray(t)||Cw(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function jte(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const a=n[s];i=cy(i,a,r,new Map)}return i}function cy(t,e,n,r){if(xw(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Nte(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...D_(e)];for(let s=0;s<i.length;s++){const a=i[s];let o=e[a],l=t[a];if(O4(o)&&(o={...o}),O4(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(o)&&(o=j4(o)),Array.isArray(o))if(typeof l=="object"&&l!=null){const u=[],h=Reflect.ownKeys(l);for(let p=0;p<h.length;p++){const f=h[p];u[f]=l[f]}l=u}else l=[];const d=n(l,o,a,t,e,r);d!=null?t[a]=d:Array.isArray(o)||R4(l)&&R4(o)?t[a]=cy(l,o,n,r):l==null&&Dte(o)?t[a]=cy({},o,n,r):l==null&&Pte(o)?t[a]=j4(o):(l===void 0||o!==void 0)&&(t[a]=o)}return t}function Ote(t,...e){return jte(t,...e,Tte)}var Rte=Object.defineProperty,Mte=Object.defineProperties,Lte=Object.getOwnPropertyDescriptors,M4=Object.getOwnPropertySymbols,Fte=Object.prototype.hasOwnProperty,Ute=Object.prototype.propertyIsEnumerable,L4=(t,e,n)=>e in t?Rte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mh=(t,e)=>{for(var n in e||(e={}))Fte.call(e,n)&&L4(t,n,e[n]);if(M4)for(var n of M4(e))Ute.call(e,n)&&L4(t,n,e[n]);return t},Bte=(t,e)=>Mte(t,Lte(e));function ti(t,e,n){var r;const i=No(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${T_}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function tl(t){return t.includes(":")?t.split(":")[1]:t}function L_(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Wte(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function F4(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var r,i;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((i=n==null?void 0:n.chains)==null?void 0:i.length)>0}))}function yh(t={},e={}){const n=F4(U4(t)),r=F4(U4(e));return Ote(n,r)}function U4(t){var e,n,r,i,s;const a={};if(!Cs(t))return a;for(const[o,l]of Object.entries(t)){const d=Of(o)?[o]:l.chains,u=l.methods||[],h=l.events||[],p=l.rpcMap||{},f=Wl(o);a[f]=Bte(mh(mh({},a[f]),l),{chains:xs(d,(e=a[f])==null?void 0:e.chains),methods:xs(u,(n=a[f])==null?void 0:n.methods),events:xs(h,(r=a[f])==null?void 0:r.events)}),(Cs(p)||Cs(((i=a[f])==null?void 0:i.rpcMap)||{}))&&(a[f].rpcMap=mh(mh({},p),(s=a[f])==null?void 0:s.rpcMap))}return a}function B4(t){return t.includes(":")?t.split(":")[2]:t}function W4(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],a=r.accounts||[],o=Of(n)?[n]:r.chains?r.chains:L_(r.accounts);e[n]={chains:o,methods:i,events:s,accounts:a}}return e}function Xm(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const F_={},Nt=t=>F_[t],e1=(t,e)=>{F_[t]=e};var zte=Object.defineProperty,z4=Object.getOwnPropertySymbols,qte=Object.prototype.hasOwnProperty,Hte=Object.prototype.propertyIsEnumerable,q4=(t,e,n)=>e in t?zte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H4=(t,e)=>{for(var n in e||(e={}))qte.call(e,n)&&q4(t,n,e[n]);if(z4)for(var n of z4(e))Hte.call(e,n)&&q4(t,n,e[n]);return t};const V4="eip155",Vte=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Kte=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,t1=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,K4=t=>Object.keys(t).filter(e=>Vte.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),Gte=(t,e,n)=>{const{sessionProperties:r={},scopedProperties:i={}}=t,s={};if(!Cs(i)&&!Cs(r))return;const a=K4(r);for(const o of n){const l=Kte(o);if(!l)continue;s[t1(l)]=a;const d=i==null?void 0:i[`${V4}:${l}`];if(d){const u=d==null?void 0:d[`${V4}:${l}:${e}`];s[t1(l)]=H4(H4({},s[t1(l)]),K4(u||d))}}for(const[o,l]of Object.entries(s))Object.keys(l).length===0&&delete s[o];return Object.keys(s).length>0?s:void 0};var Yte=Object.defineProperty,Zte=(t,e,n)=>e in t?Yte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_l=(t,e,n)=>Zte(t,typeof e!="symbol"?e+"":e,n);let Jte=class{constructor(e){_l(this,"name","polkadot"),_l(this,"client"),_l(this,"httpProviders"),_l(this,"events"),_l(this,"namespace"),_l(this,"chainId"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=tl(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ti(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new ns(r,Nt("disableProviderPing")))}};var Qte=Object.defineProperty,Xte=Object.defineProperties,ene=Object.getOwnPropertyDescriptors,G4=Object.getOwnPropertySymbols,tne=Object.prototype.hasOwnProperty,nne=Object.prototype.propertyIsEnumerable,dy=(t,e,n)=>e in t?Qte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y4=(t,e)=>{for(var n in e||(e={}))tne.call(e,n)&&dy(t,n,e[n]);if(G4)for(var n of G4(e))nne.call(e,n)&&dy(t,n,e[n]);return t},Z4=(t,e)=>Xte(t,ene(e)),El=(t,e,n)=>dy(t,typeof e!="symbol"?e+"":e,n);let rne=class{constructor(e){El(this,"name","eip155"),El(this,"client"),El(this,"chainId"),El(this,"namespace"),El(this,"httpProviders"),El(this,"events"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||ti(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new ns(r,Nt("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(tl(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,a;const o=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],l=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const d=this.client.session.get(e.topic),u=((a=d==null?void 0:d.sessionProperties)==null?void 0:a.capabilities)||{},h=`${o}${l.join(",")}`,p=u==null?void 0:u[h];if(p)return p;let f;try{f=Gte(d,o,l)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(f)return f;const g=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:Z4(Y4({},d.sessionProperties||{}),{capabilities:Z4(Y4({},u||{}),{[h]:g})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return g}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const o=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(o,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,o)}}const a=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(o){console.warn("Failed to fetch call status from custom bundler",o,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ks("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${lte}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}};var ine=Object.defineProperty,sne=(t,e,n)=>e in t?ine(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kl=(t,e,n)=>sne(t,typeof e!="symbol"?e+"":e,n);class ane{constructor(e){kl(this,"name","solana"),kl(this,"client"),kl(this,"httpProviders"),kl(this,"events"),kl(this,"namespace"),kl(this,"chainId"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=tl(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ti(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new ns(r,Nt("disableProviderPing")))}}var one=Object.defineProperty,lne=(t,e,n)=>e in t?one(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$l=(t,e,n)=>lne(t,typeof e!="symbol"?e+"":e,n);let cne=class{constructor(e){$l(this,"name","cosmos"),$l(this,"client"),$l(this,"httpProviders"),$l(this,"events"),$l(this,"namespace"),$l(this,"chainId"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=tl(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ti(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new ns(r,Nt("disableProviderPing")))}};var dne=Object.defineProperty,une=(t,e,n)=>e in t?dne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Il=(t,e,n)=>une(t,typeof e!="symbol"?e+"":e,n);let hne=class{constructor(e){Il(this,"name","algorand"),Il(this,"client"),Il(this,"httpProviders"),Il(this,"events"),Il(this,"namespace"),Il(this,"chainId"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||ti(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ti(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Ii(new ns(r,Nt("disableProviderPing")))}};var pne=Object.defineProperty,fne=(t,e,n)=>e in t?pne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sl=(t,e,n)=>fne(t,typeof e!="symbol"?e+"":e,n);let gne=class{constructor(e){Sl(this,"name","cip34"),Sl(this,"client"),Sl(this,"httpProviders"),Sl(this,"events"),Sl(this,"namespace"),Sl(this,"chainId"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=tl(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new ns(r,Nt("disableProviderPing")))}};var mne=Object.defineProperty,yne=(t,e,n)=>e in t?mne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Al=(t,e,n)=>yne(t,typeof e!="symbol"?e+"":e,n);let wne=class{constructor(e){Al(this,"name","elrond"),Al(this,"client"),Al(this,"httpProviders"),Al(this,"events"),Al(this,"namespace"),Al(this,"chainId"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=tl(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ti(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new ns(r,Nt("disableProviderPing")))}};var vne=Object.defineProperty,bne=(t,e,n)=>e in t?vne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tl=(t,e,n)=>bne(t,typeof e!="symbol"?e+"":e,n);let xne=class{constructor(e){Tl(this,"name","multiversx"),Tl(this,"client"),Tl(this,"httpProviders"),Tl(this,"events"),Tl(this,"namespace"),Tl(this,"chainId"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=tl(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ti(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new ns(r,Nt("disableProviderPing")))}};var Cne=Object.defineProperty,_ne=(t,e,n)=>e in t?Cne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pl=(t,e,n)=>_ne(t,typeof e!="symbol"?e+"":e,n);let Ene=class{constructor(e){Pl(this,"name","near"),Pl(this,"client"),Pl(this,"httpProviders"),Pl(this,"events"),Pl(this,"namespace"),Pl(this,"chainId"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ti(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ti(e,this.namespace);return typeof r>"u"?void 0:new Ii(new ns(r,Nt("disableProviderPing")))}};var kne=Object.defineProperty,$ne=(t,e,n)=>e in t?kne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dl=(t,e,n)=>$ne(t,typeof e!="symbol"?e+"":e,n);let Ine=class{constructor(e){Dl(this,"name","tezos"),Dl(this,"client"),Dl(this,"httpProviders"),Dl(this,"events"),Dl(this,"namespace"),Dl(this,"chainId"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||ti(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ti(e,this.namespace);return typeof r>"u"?void 0:new Ii(new ns(r))}};var Sne=Object.defineProperty,Ane=(t,e,n)=>e in t?Sne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nl=(t,e,n)=>Ane(t,typeof e!="symbol"?e+"":e,n);let Tne=class{constructor(e){Nl(this,"name",P_),Nl(this,"client"),Nl(this,"httpProviders"),Nl(this,"events"),Nl(this,"namespace"),Nl(this,"chainId"),this.namespace=e.namespace,this.events=Nt("events"),this.client=Nt("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ti.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return No(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=No(i);r[s.reference]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||ti(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ii(new ns(r,Nt("disableProviderPing")))}};var Pne=Object.defineProperty,Dne=Object.defineProperties,Nne=Object.getOwnPropertyDescriptors,J4=Object.getOwnPropertySymbols,jne=Object.prototype.hasOwnProperty,One=Object.prototype.propertyIsEnumerable,uy=(t,e,n)=>e in t?Pne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wh=(t,e)=>{for(var n in e||(e={}))jne.call(e,n)&&uy(t,n,e[n]);if(J4)for(var n of J4(e))One.call(e,n)&&uy(t,n,e[n]);return t},n1=(t,e)=>Dne(t,Nne(e)),oi=(t,e,n)=>uy(t,typeof e!="symbol"?e+"":e,n);let Rne=class U_{constructor(e){oi(this,"client"),oi(this,"namespaces"),oi(this,"optionalNamespaces"),oi(this,"sessionProperties"),oi(this,"scopedProperties"),oi(this,"events",new x2),oi(this,"rpcProviders",{}),oi(this,"session"),oi(this,"providerOpts"),oi(this,"logger"),oi(this,"uri"),oi(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Yee(ite({level:(e==null?void 0:e.logger)||N4})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new U_(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:wh({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(a=>n(null,Fd(s,a))).catch(a=>n(a,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:nn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const a=W4(this.session.namespaces);this.namespaces=yh(this.namespaces,a),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=W4(i.namespaces);return this.namespaces=yh(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(!bi(n))return;for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}catch(n){this.logger.warn("Failed to cleanup pending pairings",n)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Vee.init({core:this.providerOpts.core,logger:this.providerOpts.logger||N4,relayUrl:this.providerOpts.relayUrl||ste,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Wl(n)))];e1("client",this.client),e1("events",this.events),e1("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Wte(n,this.session);if((r==null?void 0:r.length)===0)return;const i=L_(r),s=yh(this.namespaces,this.optionalNamespaces),a=n1(wh({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new rne({namespace:a});break;case"algorand":this.rpcProviders[n]=new hne({namespace:a});break;case"solana":this.rpcProviders[n]=new ane({namespace:a});break;case"cosmos":this.rpcProviders[n]=new cne({namespace:a});break;case"polkadot":this.rpcProviders[n]=new Jte({namespace:a});break;case"cip34":this.rpcProviders[n]=new gne({namespace:a});break;case"elrond":this.rpcProviders[n]=new wne({namespace:a});break;case"multiversx":this.rpcProviders[n]=new xne({namespace:a});break;case"near":this.rpcProviders[n]=new Ene({namespace:a});break;case"tezos":this.rpcProviders[n]=new Ine({namespace:a});break;default:this.rpcProviders[n]=new Tne({namespace:a})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const a=s.data;a&&bi(a)&&this.events.emit("accountsChanged",a.map(B4))}else if(s.name==="chainChanged"){const a=r.chainId,o=r.event.data,l=Wl(a),d=Xm(a)!==Xm(o)?`${l}:${Xm(o)}`:a;this.onChainChanged(d)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,a=(i=this.client)==null?void 0:i.session.get(e);this.session=n1(wh({},a),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",n1(wh({},nn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ti.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[P_]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=yh(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(a=>Wl(a)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=Wl(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i);const s=this.getProvider(r).getDefaultChain();n?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e})):this.getProvider(r).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const a=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!a)return;const o=a.filter(l=>l.includes(`${r}:`)).map(B4);if(!bi(o))return;this.events.emit("accountsChanged",o)}catch(a){this.logger.warn("Failed to emit accountsChanged on chain change",a)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${gh}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${gh}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${gh}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(gh)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};const Mne=Rne,Lne="wc",Fne="ethereum_provider",Une=`${Lne}@2:${Fne}:`,Bne="https://rpc.walletconnect.org/v1/",hy=["eth_sendTransaction","personal_sign"],B_=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],py=["chainChanged","accountsChanged"],W_=["chainChanged","accountsChanged","message","disconnect","connect"],Wne=async()=>{const{createAppKit:t}=await za(()=>import("./core-Dp3BMEYh.js").then(e=>e.J),__vite__mapDeps([0,1,2,3]));return t};var zne=Object.defineProperty,qne=Object.defineProperties,Hne=Object.getOwnPropertyDescriptors,Q4=Object.getOwnPropertySymbols,Vne=Object.prototype.hasOwnProperty,Kne=Object.prototype.propertyIsEnumerable,fy=(t,e,n)=>e in t?zne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,po=(t,e)=>{for(var n in e||(e={}))Vne.call(e,n)&&fy(t,n,e[n]);if(Q4)for(var n of Q4(e))Kne.call(e,n)&&fy(t,n,e[n]);return t},Jc=(t,e)=>qne(t,Hne(e)),qr=(t,e,n)=>fy(t,typeof e!="symbol"?e+"":e,n);function Tp(t){return Number(t[0].split(":")[1])}function vh(t){return`0x${t.toString(16)}`}function Gne(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:a,rpcMap:o}=t;if(!bi(e))throw new Error("Invalid chains");const l={chains:e,methods:r||hy,events:s||py,rpcMap:po({},e.length?{[Tp(e)]:o[Tp(e)]}:{})},d=s==null?void 0:s.filter(f=>!py.includes(f)),u=r==null?void 0:r.filter(f=>!hy.includes(f));if(!n&&!a&&!i&&!(d!=null&&d.length)&&!(u!=null&&u.length))return{required:e.length?l:void 0};const h=(d==null?void 0:d.length)&&(u==null?void 0:u.length)||!n,p={chains:[...new Set(h?l.chains.concat(n||[]):n)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:B_))],events:[...new Set(l.events.concat(a!=null&&a.length?a:W_))],rpcMap:o};return{required:e.length?l:void 0,optional:n.length?p:void 0}}let Yne=class z_{constructor(){qr(this,"events",new Qa.EventEmitter),qr(this,"namespace","eip155"),qr(this,"accounts",[]),qr(this,"signer"),qr(this,"chainId",1),qr(this,"modal"),qr(this,"rpc"),qr(this,"STORAGE_KEY",Une),qr(this,"on",(e,n)=>(this.events.on(e,n),this)),qr(this,"once",(e,n)=>(this.events.once(e,n),this)),qr(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),qr(this,"off",(e,n)=>(this.events.off(e,n),this)),qr(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new z_;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=Gne(this.rpc);try{const s=await new Promise(async(o,l)=>{var d,u;this.rpc.showQrModal&&((d=this.modal)==null||d.open(),(u=this.modal)==null||u.subscribeState(p=>{!p.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Jc(po({namespaces:po({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:h})).then(p=>{o(p)}).catch(p=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),l(new Error(p.message))})});if(!s)return;const a=J3(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:vh(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(a,o)=>{var l,d;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(d=this.modal)==null||d.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),o(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Jc(po({},e),{chains:this.rpc.chains}),n).then(u=>{a(u)}).catch(u=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),o(new Error(u.message))})}),s=i.session;if(s){const a=J3(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:vh(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",vh(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Jc(po({},nn("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",vh(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e==null?void 0:e.chains)!=null?n:[],s=(r=e==null?void 0:e.optionalChains)!=null?r:[],a=i.concat(s);if(!a.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=i.length?(e==null?void 0:e.methods)||hy:[],l=i.length?(e==null?void 0:e.events)||py:[],d=(e==null?void 0:e.optionalMethods)||[],u=(e==null?void 0:e.optionalEvents)||[],h=(e==null?void 0:e.rpcMap)||this.buildRpcMap(a,e.projectId),p=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(f=>this.formatChainId(f)),optionalChains:s.map(f=>this.formatChainId(f)),methods:o,events:l,optionalMethods:d,optionalEvents:u,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:p,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Tp(this.rpc.chains):Tp(this.rpc.optionalChains),this.signer=await Mne.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await Wne(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return are}),s=i(Jc(po({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");n=r(Jc(po({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&bi(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),r&&bi(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${Bne}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}};const Zne=Yne;var Jne=Object.defineProperty,Qne=Object.defineProperties,Xne=Object.getOwnPropertyDescriptors,X4=Object.getOwnPropertySymbols,ere=Object.prototype.hasOwnProperty,tre=Object.prototype.propertyIsEnumerable,e8=(t,e,n)=>e in t?Jne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q_=(t,e)=>{for(var n in e||(e={}))ere.call(e,n)&&e8(t,n,e[n]);if(X4)for(var n of X4(e))tre.call(e,n)&&e8(t,n,e[n]);return t},nre=(t,e)=>Qne(t,Xne(e));function rre(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const ire=t=>{const[e,n]=t.split(":");return H_({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function sre(t){var e,n,r,i,s,a,o;const l=(e=t.chains)==null?void 0:e.map(ire).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const d=l.find(h=>{var p;return h.id===((p=t.defaultChain)==null?void 0:p.id)}),u={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:rre(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:d,metadata:nre(q_({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((a=t.mobileWallets)!=null&&a.length||(o=t.desktopWallets)!=null&&o.length){const h=[...(t.mobileWallets||[]).map(g=>({id:g.id,name:g.name,links:g.links})),...(t.desktopWallets||[]).map(g=>({id:g.id,name:g.name,links:{native:g.links.native,universal:g.links.universal}}))],p=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],f=h.filter(g=>!p.includes(g.id));f.length&&(u.customWallets=f)}return u}function H_(t){return q_({formatters:void 0,fees:void 0,serializers:void 0},t)}var are=Object.freeze({__proto__:null,convertWCMToAppKitOptions:sre,defineChain:H_});function ore({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const _w=y.forwardRef(ore),V_=typeof document<"u"?Ie.useLayoutEffect:()=>{};var r1;const lre=(r1=Ie.useInsertionEffect)!==null&&r1!==void 0?r1:V_;function cre(t){const e=y.useRef(null);return lre(()=>{e.current=t},[t]),y.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const eo=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Io=t=>t&&"window"in t&&t.window===t?t:eo(t).defaultView||window;function dre(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function ure(t){return dre(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let hre=!1;function Ew(){return hre}function K_(t,e){if(!Ew())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:ure(n)?n=n.host:n=n.parentNode}return!1}const gy=(t=document)=>{var e;if(!Ew())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function G_(t){return Ew()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function Y_(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Y_(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Iwe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Y_(t))&&(r&&(r+=" "),r+=e);return r}function pre(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let n=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(n)&&n.some(r=>t.test(r.brand))||t.test(window.navigator.userAgent)}function fre(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Z_(t){let e=null;return()=>(e==null&&(e=t()),e)}const gre=Z_(function(){return fre(/^Mac/i)}),mre=Z_(function(){return pre(/Android/i)});function J_(){let t=y.useRef(new Map),e=y.useCallback((i,s,a,o)=>{let l=o!=null&&o.once?(...d)=>{t.current.delete(a),a(...d)}:a;t.current.set(a,{type:s,eventTarget:i,fn:l,options:o}),i.addEventListener(s,l,o)},[]),n=y.useCallback((i,s,a,o)=>{var l;let d=((l=t.current.get(a))===null||l===void 0?void 0:l.fn)||a;i.removeEventListener(s,d,o),t.current.delete(a)},[]),r=y.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return y.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function yre(t){return t.pointerType===""&&t.isTrusted?!0:mre()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Q_(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function wre(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function X_(t){let e=y.useRef({isFocused:!1,observer:null});V_(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=cre(r=>{t==null||t(r)});return y.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=a=>{if(e.current.isFocused=!1,i.disabled){let o=Q_(a);n(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var a;(a=e.current.observer)===null||a===void 0||a.disconnect();let o=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let vre=!1,Lu=null,my=new Set,Ad=new Map,zo=!1,yy=!1;const bre={Tab:!0,Escape:!0};function kw(t,e){for(let n of my)n(t,e)}function xre(t){return!(t.metaKey||!gre()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Pp(t){zo=!0,xre(t)&&(Lu="keyboard",kw("keyboard",t))}function Xl(t){Lu="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(zo=!0,kw("pointer",t))}function eE(t){yre(t)&&(zo=!0,Lu="virtual")}function tE(t){t.target===window||t.target===document||vre||!t.isTrusted||(!zo&&!yy&&(Lu="virtual",kw("virtual",t)),zo=!1,yy=!1)}function nE(){zo=!1,yy=!0}function wy(t){if(typeof window>"u"||typeof document>"u"||Ad.get(Io(t)))return;const e=Io(t),n=eo(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){zo=!0,r.apply(this,arguments)},n.addEventListener("keydown",Pp,!0),n.addEventListener("keyup",Pp,!0),n.addEventListener("click",eE,!0),e.addEventListener("focus",tE,!0),e.addEventListener("blur",nE,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Xl,!0),n.addEventListener("pointermove",Xl,!0),n.addEventListener("pointerup",Xl,!0)),e.addEventListener("beforeunload",()=>{rE(t)},{once:!0}),Ad.set(e,{focus:r})}const rE=(t,e)=>{const n=Io(t),r=eo(t);e&&r.removeEventListener("DOMContentLoaded",e),Ad.has(n)&&(n.HTMLElement.prototype.focus=Ad.get(n).focus,r.removeEventListener("keydown",Pp,!0),r.removeEventListener("keyup",Pp,!0),r.removeEventListener("click",eE,!0),n.removeEventListener("focus",tE,!0),n.removeEventListener("blur",nE,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Xl,!0),r.removeEventListener("pointermove",Xl,!0),r.removeEventListener("pointerup",Xl,!0)),Ad.delete(n))};function Cre(t){const e=eo(t);let n;return e.readyState!=="loading"?wy(t):(n=()=>{wy(t)},e.addEventListener("DOMContentLoaded",n)),()=>rE(t,n)}typeof document<"u"&&Cre();function iE(){return Lu!=="pointer"}const _re=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ere(t,e,n){let r=eo(n==null?void 0:n.target);const i=typeof window<"u"?Io(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Io(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?Io(n==null?void 0:n.target).HTMLElement:HTMLElement,o=typeof window<"u"?Io(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!_re.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof a&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof o&&!bre[n.key])}function kre(t,e,n){wy(),y.useEffect(()=>{let r=(i,s)=>{Ere(!!(n!=null&&n.isTextInput),i,s)&&t(iE())};return my.add(r),()=>{my.delete(r)}},e)}function $re(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=y.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),a=X_(s),o=y.useCallback(l=>{const d=eo(l.target),u=d?gy(d):gy();l.target===l.currentTarget&&u===G_(l.nativeEvent)&&(n&&n(l),i&&i(!0),a(l))},[i,n,a]);return{focusProps:{onFocus:!e&&(n||i||r)?o:void 0,onBlur:!e&&(r||i)?s:void 0}}}function Ire(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=y.useRef({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:o}=J_(),l=y.useCallback(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,o(),n&&n(h),i&&i(!1))},[n,i,s,o]),d=X_(l),u=y.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const p=eo(h.target),f=gy(p);if(!s.current.isFocusWithin&&f===G_(h.nativeEvent)){r&&r(h),i&&i(!0),s.current.isFocusWithin=!0,d(h);let g=h.currentTarget;a(p,"focus",m=>{if(s.current.isFocusWithin&&!K_(g,m.target)){let w=new p.defaultView.FocusEvent("blur",{relatedTarget:m.target});wre(w,g);let v=Q_(w);l(v)}},{capture:!0})}},[r,i,d,a,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let vy=!1,bh=0;function Sre(){vy=!0,setTimeout(()=>{vy=!1},50)}function t8(t){t.pointerType==="touch"&&Sre()}function Are(){if(!(typeof document>"u"))return bh===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",t8),bh++,()=>{bh--,!(bh>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",t8)}}function Tre(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,a]=y.useState(!1),o=y.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;y.useEffect(Are,[]);let{addGlobalListener:l,removeAllGlobalListeners:d}=J_(),{hoverProps:u,triggerHoverEnd:h}=y.useMemo(()=>{let p=(m,w)=>{if(o.pointerType=w,i||w==="touch"||o.isHovered||!m.currentTarget.contains(m.target))return;o.isHovered=!0;let v=m.currentTarget;o.target=v,l(eo(m.target),"pointerover",C=>{o.isHovered&&o.target&&!K_(o.target,C.target)&&f(C,C.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:v,pointerType:w}),n&&n(!0),a(!0)},f=(m,w)=>{let v=o.target;o.pointerType="",o.target=null,!(w==="touch"||!o.isHovered||!v)&&(o.isHovered=!1,d(),r&&r({type:"hoverend",target:v,pointerType:w}),n&&n(!1),a(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=m=>{vy&&m.pointerType==="mouse"||p(m,m.pointerType)},g.onPointerLeave=m=>{!i&&m.currentTarget.contains(m.target)&&f(m,m.pointerType)}),{hoverProps:g,triggerHoverEnd:f}},[e,n,r,i,o,l,d]);return y.useEffect(()=>{i&&h({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:u,isHovered:s}}function Pre(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=y.useRef({isFocused:!1,isFocusVisible:e||iE()}),[s,a]=y.useState(!1),[o,l]=y.useState(()=>i.current.isFocused&&i.current.isFocusVisible),d=y.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=y.useCallback(f=>{i.current.isFocused=f,a(f),d()},[d]);kre(f=>{i.current.isFocusVisible=f,d()},[],{isTextInput:n});let{focusProps:h}=$re({isDisabled:r,onFocusChange:u}),{focusWithinProps:p}=Ire({isDisabled:!r,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:o,focusProps:r?p:h}}var Dre=Object.defineProperty,Nre=(t,e,n)=>e in t?Dre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,i1=(t,e,n)=>(Nre(t,typeof e!="symbol"?e+"":e,n),n);let jre=class{constructor(){i1(this,"current",this.detect()),i1(this,"handoffState","pending"),i1(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},_s=new jre;function nl(t){var e;return _s.isServer?null:t==null?document:(e=t==null?void 0:t.ownerDocument)!=null?e:document}function Dp(t){var e,n;return _s.isServer?null:t==null?document:(n=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))!=null?n:document}function $w(t){var e,n;return(n=(e=Dp(t))==null?void 0:e.activeElement)!=null?n:null}function sE(t){return $w(t)===t}function Ff(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Mr(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ff(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Mr();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function rl(){let[t]=y.useState(Mr);return y.useEffect(()=>()=>t.dispose(),[t]),t}let sn=(t,e)=>{_s.isServer?y.useEffect(t,e):y.useLayoutEffect(t,e)};function il(t){let e=y.useRef(t);return sn(()=>{e.current=t},[t]),e}let Je=function(t){let e=il(t);return Ie.useCallback((...n)=>e.current(...n),[e])};function Ore(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function Rre(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function Mre({disabled:t=!1}={}){let e=y.useRef(null),[n,r]=y.useState(!1),i=rl(),s=Je(()=>{e.current=null,r(!1),i.dispose()}),a=Je(o=>{if(i.dispose(),e.current===null){e.current=o.currentTarget,r(!0);{let l=nl(o.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",d=>{if(e.current){let u=Ore(d);r(Rre(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:a,onPointerUp:s,onClick:s}}}function js(t){return y.useMemo(()=>t,Object.values(t))}let Lre=y.createContext(void 0);function aE(){return y.useContext(Lre)}function by(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Ji(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ji),r}var yc=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(yc||{}),Ua=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ua||{});function Pn(){let t=Ure();return y.useCallback(e=>Fre({mergeRefs:t,...e}),[t])}function Fre({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:a,mergeRefs:o}){o=o??Bre;let l=oE(e,t);if(s)return xh(l,n,r,a,o);let d=i??0;if(d&2){let{static:u=!1,...h}=l;if(u)return xh(h,n,r,a,o)}if(d&1){let{unmount:u=!0,...h}=l;return Ji(u?0:1,{0(){return null},1(){return xh({...h,hidden:!0,style:{display:"none"}},n,r,a,o)}})}return xh(l,n,r,a,o)}function xh(t,e={},n,r,i){let{as:s=n,children:a,refName:o="ref",...l}=s1(t,["unmount","static"]),d=t.ref!==void 0?{[o]:t.ref}:{},u=typeof a=="function"?a(e):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let p=!1,f=[];for(let[g,m]of Object.entries(e))typeof m=="boolean"&&(p=!0),m===!0&&f.push(g.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(p){h["data-headlessui-state"]=f.join(" ");for(let g of f)h[`data-${g}`]=""}}if(Td(s)&&(Object.keys(fo(l)).length>0||Object.keys(fo(h)).length>0))if(!y.isValidElement(u)||Array.isArray(u)&&u.length>1||zre(u)){if(Object.keys(fo(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(fo(l)).concat(Object.keys(fo(h))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=u.props,f=p==null?void 0:p.className,g=typeof f=="function"?(...v)=>by(f(...v),l.className):by(f,l.className),m=g?{className:g}:{},w=oE(u.props,fo(s1(l,["ref"])));for(let v in h)v in w&&delete h[v];return y.cloneElement(u,Object.assign({},w,h,d,{ref:i(Wre(u),d.ref)},m))}return y.createElement(s,Object.assign({},s1(l,["ref"]),!Td(s)&&d,!Td(s)&&h),u)}function Ure(){let t=y.useRef([]),e=y.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function Bre(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function oE(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let a=n[r];for(let o of a){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;o(i,...s)}}});return e}function lE(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let a of s)a==null||a(...i)}});return e}function gn(t){var e;return Object.assign(y.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function fo(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function s1(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function Wre(t){return Ie.version.split(".")[0]>="19"?t.props.ref:t.ref}function Td(t){return t===y.Fragment||t===Symbol.for("react.fragment")}function zre(t){return Td(t.type)}let qre="span";var Np=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Np||{});function Hre(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Pn()({ourProps:s,theirProps:i,slot:{},defaultTag:qre,name:"Hidden"})}let xy=gn(Hre),Vre=y.createContext(void 0);function Kre(){return y.useContext(Vre)}function cE(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function sa(t){return cE(t)&&"tagName"in t}function ni(t){return sa(t)&&"accessKey"in t}function bs(t){return sa(t)&&"tabIndex"in t}function Gre(t){return sa(t)&&"style"in t}function Yre(t){return ni(t)&&t.nodeName==="IFRAME"}function dE(t){return ni(t)&&t.nodeName==="INPUT"}function n8(t){return ni(t)&&t.nodeName==="LABEL"}function Zre(t){return ni(t)&&t.nodeName==="FIELDSET"}function uE(t){return ni(t)&&t.nodeName==="LEGEND"}function Jre(t){return sa(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function r8(t){let e=t.parentElement,n=null;for(;e&&!Zre(e);)uE(e)&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&Qre(n)?!1:r}function Qre(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(uE(e))return!1;e=e.previousElementSibling}return!0}let hE=Symbol();function Xre(t,e=!0){return Object.assign(t,{[hE]:e})}function Cr(...t){let e=y.useRef(t);y.useEffect(()=>{e.current=t},[t]);let n=Je(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[hE]))?void 0:n}let Iw=y.createContext(null);Iw.displayName="DescriptionContext";function pE(){let t=y.useContext(Iw);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,pE),e}return t}function fE(){let[t,e]=y.useState([]);return[t.length>0?t.join(" "):void 0,y.useMemo(()=>function(n){let r=Je(s=>(e(a=>[...a,s]),()=>e(a=>{let o=a.slice(),l=o.indexOf(s);return l!==-1&&o.splice(l,1),o}))),i=y.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ie.createElement(Iw.Provider,{value:i},n.children)},[e])]}let eie="p";function tie(t,e){let n=y.useId(),r=aE(),{id:i=`headlessui-description-${n}`,...s}=t,a=pE(),o=Cr(e);sn(()=>a.register(i),[i,a.register]);let l=js({...a.slot,disabled:r||!1}),d={ref:o,...a.props,id:i};return Pn()({ourProps:d,theirProps:s,slot:l,defaultTag:eie,name:a.name||"Description"})}let nie=gn(tie),rie=Object.assign(nie,{});var Wn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Wn||{});let Uf=y.createContext(null);Uf.displayName="LabelContext";function Sw(){let t=y.useContext(Uf);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Sw),e}return t}function iie(t){var e,n,r;let i=(n=(e=y.useContext(Uf))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function gE({inherit:t=!1}={}){let e=iie(),[n,r]=y.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,y.useMemo(()=>function(s){let a=Je(l=>(r(d=>[...d,l]),()=>r(d=>{let u=d.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),o=y.useMemo(()=>({register:a,slot:s.slot,name:s.name,props:s.props,value:s.value}),[a,s.slot,s.name,s.props,s.value]);return Ie.createElement(Uf.Provider,{value:o},s.children)},[r])]}let sie="label";function aie(t,e){var n;let r=y.useId(),i=Sw(),s=Kre(),a=aE(),{id:o=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:d=!1,...u}=t,h=Cr(e);sn(()=>i.register(o),[o,i.register]);let p=Je(m=>{let w=m.currentTarget;if(!(m.target!==m.currentTarget&&Jre(m.target))&&(n8(w)&&m.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(m),n8(w))){let v=document.getElementById(w.htmlFor);if(v){let C=v.getAttribute("disabled");if(C==="true"||C==="")return;let _=v.getAttribute("aria-disabled");if(_==="true"||_==="")return;(dE(v)&&(v.type==="file"||v.type==="radio"||v.type==="checkbox")||v.role==="radio"||v.role==="checkbox"||v.role==="switch")&&v.click(),v.focus({preventScroll:!0})}}}),f=js({...i.slot,disabled:a||!1}),g={ref:h,...i.props,id:o,htmlFor:l,onClick:p};return d&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in u&&delete u.onClick),Pn()({ourProps:g,theirProps:u,slot:f,defaultTag:l?sie:"div",name:i.name||"Label"})}let oie=gn(aie);Object.assign(oie,{});let lie=y.createContext(()=>{});function cie({value:t,children:e}){return Ie.createElement(lie.Provider,{value:t},e)}function i8(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function die(t,e,n=!1){let[r,i]=y.useState(()=>i8(e));return sn(()=>{if(!e||!t)return;let s=Mr();return s.requestAnimationFrame(function a(){s.requestAnimationFrame(a),i(o=>{let l=i8(e);return l.width===o.width&&l.height===o.height?o:l})}),()=>{s.dispose()}},[e,t]),n?{width:`${r.width}px`,height:`${r.height}px`}:r}var mE=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(mE||{});function uie(t){let e=y.useRef(null),n=Je(i=>{e.current=i.pointerType,!r8(i.currentTarget)&&i.pointerType==="mouse"&&i.button===mE.Left&&(i.preventDefault(),t(i))}),r=Je(i=>{e.current!=="mouse"&&(r8(i.currentTarget)||t(i))});return{onPointerDown:n,onClick:r}}let yE=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var hie=Object.defineProperty,pie=(t,e,n)=>e in t?hie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fie=(t,e,n)=>(pie(t,e+"",n),n),wE=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},li=(t,e,n)=>(wE(t,e,"read from private field"),n?n.call(t):e.get(t)),a1=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},s8=(t,e,n,r)=>(wE(t,e,"write to private field"),e.set(t,n),n),gs,gd,md;let vE=class{constructor(e){a1(this,gs,{}),a1(this,gd,new yE(()=>new Set)),a1(this,md,new Set),fie(this,"disposables",Mr()),s8(this,gs,e),_s.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return li(this,gs)}subscribe(e,n){if(_s.isServer)return()=>{};let r={selector:e,callback:n,current:e(li(this,gs))};return li(this,md).add(r),this.disposables.add(()=>{li(this,md).delete(r)})}on(e,n){return _s.isServer?()=>{}:(li(this,gd).get(e).add(n),this.disposables.add(()=>{li(this,gd).get(e).delete(n)}))}send(e){let n=this.reduce(li(this,gs),e);if(n!==li(this,gs)){s8(this,gs,n);for(let r of li(this,md)){let i=r.selector(li(this,gs));bE(r.current,i)||(r.current=i,r.callback(i))}for(let r of li(this,gd).get(e.type))r(li(this,gs),e)}}};gs=new WeakMap,gd=new WeakMap,md=new WeakMap;function bE(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:o1(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:o1(t.entries(),e.entries()):a8(t)&&a8(e)?o1(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function o1(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function a8(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function o8(t){let[e,n]=t(),r=Mr();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var gie=Object.defineProperty,mie=(t,e,n)=>e in t?gie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l8=(t,e,n)=>(mie(t,typeof e!="symbol"?e+"":e,n),n),xE=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(xE||{});let yie={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},wie=class CE extends vE{constructor(){super(...arguments),l8(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),l8(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new CE({stack:[]})}reduce(e,n){return Ji(n.type,yie,e,n)}};const Bf=new yE(()=>wie.new());var l1={exports:{}},c1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c8;function vie(){if(c8)return c1;c8=1;var t=zx();function e(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,o=t.useDebugValue;return c1.useSyncExternalStoreWithSelector=function(l,d,u,h,p){var f=i(null);if(f.current===null){var g={hasValue:!1,value:null};f.current=g}else g=f.current;f=a(function(){function w(x){if(!v){if(v=!0,C=x,x=h(x),p!==void 0&&g.hasValue){var b=g.value;if(p(b,x))return _=b}return _=x}if(b=_,n(C,x))return b;var k=h(x);return p!==void 0&&p(b,k)?(C=x,b):(C=x,_=k)}var v=!1,C,_,E=u===void 0?null:u;return[function(){return w(d())},E===null?void 0:function(){return w(E())}]},[d,u,h,p]);var m=r(l,f[0],f[1]);return s(function(){g.hasValue=!0,g.value=m},[m]),o(m),m},c1}var d8;function bie(){return d8||(d8=1,l1.exports=vie()),l1.exports}var xie=bie();function gi(t,e,n=bE){return xie.useSyncExternalStoreWithSelector(Je(r=>t.subscribe(Cie,r)),Je(()=>t.state),Je(()=>t.state),Je(e),n)}function Cie(t){return t}function Fu(t,e){let n=y.useId(),r=Bf.get(e),[i,s]=gi(r,y.useCallback(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return sn(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let Cy=new Map,Pd=new Map;function u8(t){var e;let n=(e=Pd.get(t))!=null?e:0;return Pd.set(t,n+1),n!==0?()=>h8(t):(Cy.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>h8(t))}function h8(t){var e;let n=(e=Pd.get(t))!=null?e:1;if(n===1?Pd.delete(t):Pd.set(t,n-1),n!==1)return;let r=Cy.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Cy.delete(t))}function _E(t,{allowed:e,disallowed:n}={}){let r=Fu(t,"inert-others");sn(()=>{var i,s;if(!r)return;let a=Mr();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&a.add(u8(l));let o=(s=e==null?void 0:e())!=null?s:[];for(let l of o){if(!l)continue;let d=nl(l);if(!d)continue;let u=l.parentElement;for(;u&&u!==d.body;){for(let h of u.children)o.some(p=>h.contains(p))||a.add(u8(h));u=u.parentElement}}return a.dispose},[r,e,n])}function EE(t,e,n){let r=il(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});y.useEffect(()=>{if(!t)return;let i=e===null?null:ni(e)?e:e.current;if(!i)return;let s=Mr();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,r,t])}let jp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),_ie=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Wi=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Wi||{}),_y=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(_y||{}),Eie=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Eie||{});function kE(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(jp)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function kie(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(_ie)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Aw=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Aw||{});function Tw(t,e=0){var n;return t===((n=nl(t))==null?void 0:n.body)?!1:Ji(e,{0(){return t.matches(jp)},1(){let r=t;for(;r!==null;){if(r.matches(jp))return!0;r=r.parentElement}return!1}})}function $E(t){Mr().nextFrame(()=>{let e=$w(t);e&&bs(e)&&!Tw(e,0)&&Es(t)})}var $ie=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))($ie||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Es(t){t==null||t.focus({preventScroll:!0})}let Iie=["textarea","input"].join(",");function Sie(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,Iie))!=null?n:!1}function IE(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Aie(t,e,n=t===null?document.body:Dp(t)){return ec(kE(n),e,{relativeTo:t})}function ec(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?Dp(t[0]):document:Dp(t),a=Array.isArray(t)?n?IE(t):t:e&64?kie(t):kE(t);i.length>0&&a.length>1&&(a=a.filter(f=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===f:g===f))),r=r??(s==null?void 0:s.activeElement);let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(r))-1;if(e&4)return Math.max(0,a.indexOf(r))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},u=0,h=a.length,p;do{if(u>=h||u+h<=0)return 0;let f=l+u;if(e&16)f=(f+h)%h;else{if(f<0)return 3;if(f>=h)return 1}p=a[f],p==null||p.focus(d),u+=o}while(p!==$w(p));return e&6&&Sie(p)&&p.select(),2}function SE(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Tie(){return/Android/gi.test(window.navigator.userAgent)}function p8(){return SE()||Tie()}function ql(t,e,n,r){let i=il(n);y.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function AE(t,e,n,r){let i=il(n);y.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const f8=30;function TE(t,e,n){let r=il(n),i=y.useCallback(function(o,l){if(o.defaultPrevented)return;let d=l(o);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let u=(function h(p){return typeof p=="function"?h(p()):Array.isArray(p)||p instanceof Set?p:[p]})(e);for(let h of u)if(h!==null&&(h.contains(d)||o.composed&&o.composedPath().includes(h)))return;return!Tw(d,Aw.Loose)&&d.tabIndex!==-1&&o.preventDefault(),r.current(o,d)},[r,e]),s=y.useRef(null);ql(t,"pointerdown",o=>{var l,d;p8()||(s.current=((d=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:d[0])||o.target)},!0),ql(t,"pointerup",o=>{if(p8()||!s.current)return;let l=s.current;return s.current=null,i(o,()=>l)},!0);let a=y.useRef({x:0,y:0});ql(t,"touchstart",o=>{a.current.x=o.touches[0].clientX,a.current.y=o.touches[0].clientY},!0),ql(t,"touchend",o=>{let l={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(l.x-a.current.x)>=f8||Math.abs(l.y-a.current.y)>=f8))return i(o,()=>bs(o.target)?o.target:null)},!0),AE(t,"blur",o=>i(o,()=>Yre(window.document.activeElement)?window.document.activeElement:null),!0)}function uu(...t){return y.useMemo(()=>nl(...t),[...t])}var Pie=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(Pie||{});const Ch={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},Die=200,g8=5;function Nie(t,{trigger:e,action:n,close:r,select:i}){let s=y.useRef(null),a=y.useRef(null),o=y.useRef(null);ql(t&&e!==null,"pointerdown",l=>{cE(l==null?void 0:l.target)&&e!=null&&e.contains(l.target)&&(a.current=l.x,o.current=l.y,s.current=l.timeStamp)}),ql(t&&e!==null,"pointerup",l=>{var d,u;let h=s.current;if(h===null||(s.current=null,!bs(l.target))||Math.abs(l.x-((d=a.current)!=null?d:l.x))<g8&&Math.abs(l.y-((u=o.current)!=null?u:l.y))<g8)return;let p=n(l);switch(p.kind){case 0:return;case 1:{l.timeStamp-h>Die&&(i(p.target),r());break}case 2:{r();break}}},{capture:!0})}function PE(t,e,n,r){let i=il(n);y.useEffect(()=>{t=t??window;function s(a){i.current(a)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function jie(t,e){return y.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function Oie(t){return y.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function Rie(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let a=e[i].call(n,...s);a&&(n=a,r.forEach(o=>o()))}}}function Mie(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function Lie(){return SE()?{before({doc:t,d:e,meta:n}){function r(i){for(let s of n().containers)for(let a of s())if(a.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=Mr();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",o=>{if(bs(o.target))try{let l=o.target.closest("a");if(!l)return;let{hash:d}=new URL(l.href),u=t.querySelector(d);bs(u)&&!r(u)&&(a=u)}catch{}},!0),e.group(o=>{e.addEventListener(t,"touchstart",l=>{if(o.dispose(),bs(l.target)&&Gre(l.target))if(r(l.target)){let d=l.target;for(;d.parentElement&&r(d.parentElement);)d=d.parentElement;o.style(d,"overscrollBehavior","contain")}else o.style(l.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",o=>{if(bs(o.target)){if(dE(o.target))return;if(r(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),e.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;s!==l&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Fie(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function m8(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let So=Rie(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Mr(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(e),r.computedMeta=m8(r.meta),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e),n.computedMeta=m8(n.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},n=[Lie(),Mie(),Fie()];n.forEach(({before:r})=>r==null?void 0:r(e)),n.forEach(({after:r})=>r==null?void 0:r(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});So.subscribe(()=>{let t=So.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&So.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&So.dispatch("TEARDOWN",n)}});function Uie(t,e,n=()=>({containers:[]})){let r=Oie(So),i=e?r.get(e):void 0,s=i?i.count>0:!1;return sn(()=>{if(!(!e||!t))return So.dispatch("PUSH",e,n),()=>So.dispatch("POP",e,n)},[t,e]),s}function DE(t,e,n=()=>[document.body]){let r=Fu(t,"scroll-lock");Uie(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function y8(t){return[t.screenX,t.screenY]}function Bie(){let t=y.useRef([-1,-1]);return{wasMoved(e){let n=y8(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=y8(e)}}}function Wie(t=0){let[e,n]=y.useState(t),r=y.useCallback(l=>n(l),[]),i=y.useCallback(l=>n(d=>d|l),[]),s=y.useCallback(l=>(e&l)===l,[e]),a=y.useCallback(l=>n(d=>d&~l),[]),o=y.useCallback(l=>n(d=>d^l),[]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:o}}var zie={},w8,v8;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((w8=process==null?void 0:zie)==null?void 0:w8.NODE_ENV)==="test"&&typeof((v8=Element==null?void 0:Element.prototype)==null?void 0:v8.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var qie=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(qie||{});function NE(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function jE(t,e,n,r){let[i,s]=y.useState(n),{hasFlag:a,addFlag:o,removeFlag:l}=Wie(t&&i?3:0),d=y.useRef(!1),u=y.useRef(!1),h=rl();return sn(()=>{var p;if(t){if(n&&s(!0),!e){n&&o(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),Hie(e,{inFlight:d,prepare(){u.current?u.current=!1:u.current=d.current,d.current=!0,!u.current&&(n?(o(3),l(4)):(o(4),l(2)))},run(){u.current?n?(l(3),o(4)):(l(4),o(3)):n?l(1):o(1)},done(){var f;u.current&&Gie(e)||(d.current=!1,l(7),n||s(!1),(f=r==null?void 0:r.end)==null||f.call(r,n))}})}},[t,n,e,h]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Hie(t,{prepare:e,run:n,done:r,inFlight:i}){let s=Mr();return Kie(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(Vie(t,r))})}),s.dispose}function Vie(t,e){var n,r;let i=Mr();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(o=>o instanceof CSSTransition))!=null?r:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(o=>o.finished)).then(()=>{s||e()}),i.dispose)}function Kie(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Gie(t){var e,n;return((n=(e=t.getAnimations)==null?void 0:e.call(t))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function Yie(t,{container:e,accept:n,walk:r}){let i=y.useRef(n),s=y.useRef(r);y.useEffect(()=>{i.current=n,s.current=r},[n,r]),sn(()=>{if(!e||!t)return;let a=nl(e);if(!a)return;let o=i.current,l=s.current,d=Object.assign(h=>o(h),{acceptNode:o}),u=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)l(u.currentNode)},[e,t,i,s])}function Pw(t,e){let n=y.useRef([]),r=Je(t);y.useEffect(()=>{let i=[...n.current];for(let[s,a]of e.entries())if(n.current[s]!==a){let o=r(e,i);return n.current=e,o}},[r,...e])}function Wf(){return typeof window<"u"}function Oc(t){return OE(t)?(t.nodeName||"").toLowerCase():"#document"}function ei(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Os(t){var e;return(e=(OE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function OE(t){return Wf()?t instanceof Node||t instanceof ei(t).Node:!1}function gr(t){return Wf()?t instanceof Element||t instanceof ei(t).Element:!1}function Ts(t){return Wf()?t instanceof HTMLElement||t instanceof ei(t).HTMLElement:!1}function b8(t){return!Wf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ei(t).ShadowRoot}const Zie=new Set(["inline","contents"]);function Uu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Qi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Zie.has(i)}const Jie=new Set(["table","td","th"]);function Qie(t){return Jie.has(Oc(t))}const Xie=[":popover-open",":modal"];function zf(t){return Xie.some(e=>{try{return t.matches(e)}catch{return!1}})}const ese=["transform","translate","scale","rotate","perspective"],tse=["transform","translate","scale","rotate","perspective","filter"],nse=["paint","layout","strict","content"];function Dw(t){const e=Nw(),n=gr(t)?Qi(t):t;return ese.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||tse.some(r=>(n.willChange||"").includes(r))||nse.some(r=>(n.contain||"").includes(r))}function rse(t){let e=Ya(t);for(;Ts(e)&&!wc(e);){if(Dw(e))return e;if(zf(e))return null;e=Ya(e)}return null}function Nw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ise=new Set(["html","body","#document"]);function wc(t){return ise.has(Oc(t))}function Qi(t){return ei(t).getComputedStyle(t)}function qf(t){return gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ya(t){if(Oc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||b8(t)&&t.host||Os(t);return b8(e)?e.host:e}function RE(t){const e=Ya(t);return wc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ts(e)&&Uu(e)?e:RE(e)}function hu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=RE(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=ei(i);if(s){const o=Ey(a);return e.concat(a,a.visualViewport||[],Uu(i)?i:[],o&&n?hu(o):[])}return e.concat(i,hu(i,[],n))}function Ey(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sse(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const qo=Math.min,cr=Math.max,pu=Math.round,_h=Math.floor,ks=t=>({x:t,y:t}),ase={left:"right",right:"left",bottom:"top",top:"bottom"},ose={start:"end",end:"start"};function x8(t,e,n){return cr(t,qo(e,n))}function Rc(t,e){return typeof t=="function"?t(e):t}function Za(t){return t.split("-")[0]}function Bu(t){return t.split("-")[1]}function ME(t){return t==="x"?"y":"x"}function LE(t){return t==="y"?"height":"width"}const lse=new Set(["top","bottom"]);function ta(t){return lse.has(Za(t))?"y":"x"}function FE(t){return ME(ta(t))}function cse(t,e,n){n===void 0&&(n=!1);const r=Bu(t),i=FE(t),s=LE(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Op(a)),[a,Op(a)]}function dse(t){const e=Op(t);return[ky(t),e,ky(e)]}function ky(t){return t.replace(/start|end/g,e=>ose[e])}const C8=["left","right"],_8=["right","left"],use=["top","bottom"],hse=["bottom","top"];function pse(t,e,n){switch(t){case"top":case"bottom":return n?e?_8:C8:e?C8:_8;case"left":case"right":return e?use:hse;default:return[]}}function fse(t,e,n,r){const i=Bu(t);let s=pse(Za(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(ky)))),s}function Op(t){return t.replace(/left|right|bottom|top/g,e=>ase[e])}function gse(t){return{top:0,right:0,bottom:0,left:0,...t}}function mse(t){return typeof t!="number"?gse(t):{top:t,right:t,bottom:t,left:t}}function Rp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function E8(t,e,n){let{reference:r,floating:i}=t;const s=ta(e),a=FE(e),o=LE(a),l=Za(e),d=s==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[o]/2-i[o]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(Bu(e)){case"start":f[a]-=p*(n&&d?-1:1);break;case"end":f[a]+=p*(n&&d?-1:1);break}return f}const yse=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=E8(d,r,l),p=r,f={},g=0;for(let m=0;m<o.length;m++){const{name:w,fn:v}=o[m],{x:C,y:_,data:E,reset:x}=await v({x:u,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:f,rects:d,platform:a,elements:{reference:t,floating:e}});u=C??u,h=_??h,f={...f,[w]:{...f[w],...E}},x&&g<=50&&(g++,typeof x=="object"&&(x.placement&&(p=x.placement),x.rects&&(d=x.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):x.rects),{x:u,y:h}=E8(d,p,l)),m=-1)}return{x:u,y:h,placement:p,strategy:i,middlewareData:f}};async function Hf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Rc(e,t),g=mse(f),w=o[p?h==="floating"?"reference":"floating":h],v=Rp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:d,rootBoundary:u,strategy:l})),C=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),E=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},x=Rp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:C,offsetParent:_,strategy:l}):C);return{top:(v.top-x.top+g.top)/E.y,bottom:(x.bottom-v.bottom+g.bottom)/E.y,left:(v.left-x.left+g.left)/E.x,right:(x.right-v.right+g.right)/E.x}}const wse=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...w}=Rc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=Za(i),C=ta(o),_=Za(o)===o,E=await(l.isRTL==null?void 0:l.isRTL(d.floating)),x=p||(_||!m?[Op(o)]:dse(o)),b=g!=="none";!p&&b&&x.push(...fse(o,m,g,E));const k=[o,...x],S=await Hf(e,w),I=[];let $=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&I.push(S[v]),h){const D=cse(i,a,E);I.push(S[D[0]],S[D[1]])}if($=[...$,{placement:i,overflows:I}],!I.every(D=>D<=0)){var A,N;const D=(((A=s.flip)==null?void 0:A.index)||0)+1,M=k[D];if(M&&(!(h==="alignment"?C!==ta(M):!1)||$.every(L=>ta(L.placement)===C?L.overflows[0]>0:!0)))return{data:{index:D,overflows:$},reset:{placement:M}};let B=(N=$.filter(U=>U.overflows[0]<=0).sort((U,L)=>U.overflows[1]-L.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(f){case"bestFit":{var O;const U=(O=$.filter(L=>{if(b){const T=ta(L.placement);return T===C||T==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(T=>T>0).reduce((T,j)=>T+j,0)]).sort((L,T)=>L[1]-T[1])[0])==null?void 0:O[0];U&&(B=U);break}case"initialPlacement":B=o;break}if(i!==B)return{reset:{placement:B}}}return{}}}},vse=new Set(["left","top"]);async function bse(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Za(n),o=Bu(n),l=ta(n)==="y",d=vse.has(a)?-1:1,u=s&&l?-1:1,h=Rc(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(f=o==="end"?g*-1:g),l?{x:f*u,y:p*d}:{x:p*d,y:f*u}}const xse=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await bse(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Cse=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:v,y:C}=w;return{x:v,y:C}}},...l}=Rc(t,e),d={x:n,y:r},u=await Hf(e,l),h=ta(Za(i)),p=ME(h);let f=d[p],g=d[h];if(s){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",C=f+u[w],_=f-u[v];f=x8(C,f,_)}if(a){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",C=g+u[w],_=g-u[v];g=x8(C,g,_)}const m=o.fn({...e,[p]:f,[h]:g});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:s,[h]:a}}}}}},_se=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...d}=Rc(t,e),u=await Hf(e,d),h=Za(i),p=Bu(i),f=ta(i)==="y",{width:g,height:m}=s.floating;let w,v;h==="top"||h==="bottom"?(w=h,v=p===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=h,w=p==="end"?"top":"bottom");const C=m-u.top-u.bottom,_=g-u.left-u.right,E=qo(m-u[w],C),x=qo(g-u[v],_),b=!e.middlewareData.shift;let k=E,S=x;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=C),b&&!p){const $=cr(u.left,0),A=cr(u.right,0),N=cr(u.top,0),O=cr(u.bottom,0);f?S=g-2*($!==0||A!==0?$+A:cr(u.left,u.right)):k=m-2*(N!==0||O!==0?N+O:cr(u.top,u.bottom))}await l({...e,availableWidth:S,availableHeight:k});const I=await a.getDimensions(o.floating);return g!==I.width||m!==I.height?{reset:{rects:!0}}:{}}}};function UE(t){const e=Qi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ts(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=pu(n)!==s||pu(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function jw(t){return gr(t)?t:t.contextElement}function tc(t){const e=jw(t);if(!Ts(e))return ks(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=UE(e);let a=(s?pu(n.width):n.width)/r,o=(s?pu(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Ese=ks(0);function BE(t){const e=ei(t);return!Nw()||!e.visualViewport?Ese:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kse(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ei(t)?!1:e}function Ho(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=jw(t);let a=ks(1);e&&(r?gr(r)&&(a=tc(r)):a=tc(t));const o=kse(s,n,r)?BE(s):ks(0);let l=(i.left+o.x)/a.x,d=(i.top+o.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(s){const p=ei(s),f=r&&gr(r)?ei(r):r;let g=p,m=Ey(g);for(;m&&r&&f!==g;){const w=tc(m),v=m.getBoundingClientRect(),C=Qi(m),_=v.left+(m.clientLeft+parseFloat(C.paddingLeft))*w.x,E=v.top+(m.clientTop+parseFloat(C.paddingTop))*w.y;l*=w.x,d*=w.y,u*=w.x,h*=w.y,l+=_,d+=E,g=ei(m),m=Ey(g)}}return Rp({width:u,height:h,x:l,y:d})}function Vf(t,e){const n=qf(t).scrollLeft;return e?e.left+n:Ho(Os(t)).left+n}function WE(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Vf(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function $se(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Os(r),o=e?zf(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},d=ks(1);const u=ks(0),h=Ts(r);if((h||!h&&!s)&&((Oc(r)!=="body"||Uu(a))&&(l=qf(r)),Ts(r))){const f=Ho(r);d=tc(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}const p=a&&!h&&!s?WE(a,l):ks(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+u.x+p.x,y:n.y*d.y-l.scrollTop*d.y+u.y+p.y}}function Ise(t){return Array.from(t.getClientRects())}function Sse(t){const e=Os(t),n=qf(t),r=t.ownerDocument.body,i=cr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=cr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Vf(t);const o=-n.scrollTop;return Qi(r).direction==="rtl"&&(a+=cr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const k8=25;function Ase(t,e){const n=ei(t),r=Os(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=Nw();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const d=Vf(r);if(d<=0){const u=r.ownerDocument,h=u.body,p=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(r.clientWidth-h.clientWidth-f);g<=k8&&(s-=g)}else d<=k8&&(s+=d);return{width:s,height:a,x:o,y:l}}const Tse=new Set(["absolute","fixed"]);function Pse(t,e){const n=Ho(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ts(t)?tc(t):ks(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,d=r*s.y;return{width:a,height:o,x:l,y:d}}function $8(t,e,n){let r;if(e==="viewport")r=Ase(t,n);else if(e==="document")r=Sse(Os(t));else if(gr(e))r=Pse(e,n);else{const i=BE(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Rp(r)}function zE(t,e){const n=Ya(t);return n===e||!gr(n)||wc(n)?!1:Qi(n).position==="fixed"||zE(n,e)}function Dse(t,e){const n=e.get(t);if(n)return n;let r=hu(t,[],!1).filter(o=>gr(o)&&Oc(o)!=="body"),i=null;const s=Qi(t).position==="fixed";let a=s?Ya(t):t;for(;gr(a)&&!wc(a);){const o=Qi(a),l=Dw(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Tse.has(i.position)||Uu(a)&&!l&&zE(t,a))?r=r.filter(u=>u!==a):i=o,a=Ya(a)}return e.set(t,r),r}function Nse(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?zf(e)?[]:Dse(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((d,u)=>{const h=$8(e,u,i);return d.top=cr(h.top,d.top),d.right=qo(h.right,d.right),d.bottom=qo(h.bottom,d.bottom),d.left=cr(h.left,d.left),d},$8(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function jse(t){const{width:e,height:n}=UE(t);return{width:e,height:n}}function Ose(t,e,n){const r=Ts(e),i=Os(e),s=n==="fixed",a=Ho(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=ks(0);function d(){l.x=Vf(i)}if(r||!r&&!s)if((Oc(e)!=="body"||Uu(i))&&(o=qf(e)),r){const f=Ho(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&d();s&&!r&&i&&d();const u=i&&!r&&!s?WE(i,o):ks(0),h=a.left+o.scrollLeft-l.x-u.x,p=a.top+o.scrollTop-l.y-u.y;return{x:h,y:p,width:a.width,height:a.height}}function d1(t){return Qi(t).position==="static"}function I8(t,e){if(!Ts(t)||Qi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Os(t)===n&&(n=n.ownerDocument.body),n}function qE(t,e){const n=ei(t);if(zf(t))return n;if(!Ts(t)){let i=Ya(t);for(;i&&!wc(i);){if(gr(i)&&!d1(i))return i;i=Ya(i)}return n}let r=I8(t,e);for(;r&&Qie(r)&&d1(r);)r=I8(r,e);return r&&wc(r)&&d1(r)&&!Dw(r)?n:r||rse(t)||n}const Rse=async function(t){const e=this.getOffsetParent||qE,n=this.getDimensions,r=await n(t.floating);return{reference:Ose(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Mse(t){return Qi(t).direction==="rtl"}const Lse={convertOffsetParentRelativeRectToViewportRelativeRect:$se,getDocumentElement:Os,getClippingRect:Nse,getOffsetParent:qE,getElementRects:Rse,getClientRects:Ise,getDimensions:jse,getScale:tc,isElement:gr,isRTL:Mse};function HE(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Fse(t,e){let n=null,r;const i=Os(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const d=t.getBoundingClientRect(),{left:u,top:h,width:p,height:f}=d;if(o||e(),!p||!f)return;const g=_h(h),m=_h(i.clientWidth-(u+p)),w=_h(i.clientHeight-(h+f)),v=_h(u),_={rootMargin:-g+"px "+-m+"px "+-w+"px "+-v+"px",threshold:cr(0,qo(1,l))||1};let E=!0;function x(b){const k=b[0].intersectionRatio;if(k!==l){if(!E)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!HE(d,t.getBoundingClientRect())&&a(),E=!1}try{n=new IntersectionObserver(x,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,_)}n.observe(t)}return a(!0),s}function Use(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=jw(t),u=i||s?[...d?hu(d):[],...hu(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const h=d&&o?Fse(d,n):null;let p=-1,f=null;a&&(f=new ResizeObserver(v=>{let[C]=v;C&&C.target===d&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),n()}),d&&!l&&f.observe(d),f.observe(e));let g,m=l?Ho(t):null;l&&w();function w(){const v=Ho(t);m&&!HE(m,v)&&n(),m=v,g=requestAnimationFrame(w)}return n(),()=>{var v;u.forEach(C=>{i&&C.removeEventListener("scroll",n),s&&C.removeEventListener("resize",n)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const u1=Hf,Bse=xse,Wse=Cse,zse=wse,qse=_se,Hse=(t,e,n)=>{const r=new Map,i={platform:Lse,...n},s={...i.platform,_c:r};return yse(t,e,{...i,platform:s})};var Vse=typeof document<"u",Kse=function(){},Vh=Vse?y.useLayoutEffect:Kse;function Mp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Mp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Mp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function VE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function S8(t,e){const n=VE(t);return Math.round(e*n)/n}function h1(t){const e=y.useRef(t);return Vh(()=>{e.current=t}),e}function Gse(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:d}=t,[u,h]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=y.useState(r);Mp(p,r)||f(r);const[g,m]=y.useState(null),[w,v]=y.useState(null),C=y.useCallback(L=>{L!==b.current&&(b.current=L,m(L))},[]),_=y.useCallback(L=>{L!==k.current&&(k.current=L,v(L))},[]),E=s||g,x=a||w,b=y.useRef(null),k=y.useRef(null),S=y.useRef(u),I=l!=null,$=h1(l),A=h1(i),N=h1(d),O=y.useCallback(()=>{if(!b.current||!k.current)return;const L={placement:e,strategy:n,middleware:p};A.current&&(L.platform=A.current),Hse(b.current,k.current,L).then(T=>{const j={...T,isPositioned:N.current!==!1};D.current&&!Mp(S.current,j)&&(S.current=j,Ss.flushSync(()=>{h(j)}))})},[p,e,n,A,N]);Vh(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[d]);const D=y.useRef(!1);Vh(()=>(D.current=!0,()=>{D.current=!1}),[]),Vh(()=>{if(E&&(b.current=E),x&&(k.current=x),E&&x){if($.current)return $.current(E,x,O);O()}},[E,x,O,$,I]);const M=y.useMemo(()=>({reference:b,floating:k,setReference:C,setFloating:_}),[C,_]),B=y.useMemo(()=>({reference:E,floating:x}),[E,x]),U=y.useMemo(()=>{const L={position:n,left:0,top:0};if(!B.floating)return L;const T=S8(B.floating,u.x),j=S8(B.floating,u.y);return o?{...L,transform:"translate("+T+"px, "+j+"px)",...VE(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:j}},[n,o,B.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:O,refs:M,elements:B,floatingStyles:U}),[u,O,M,B,U])}const KE=(t,e)=>({...Bse(t),options:[t,e]}),Yse=(t,e)=>({...Wse(t),options:[t,e]}),Zse=(t,e)=>({...zse(t),options:[t,e]}),Jse=(t,e)=>({...qse(t),options:[t,e]}),GE={...X1},Qse=GE.useInsertionEffect,Xse=Qse||(t=>t());function YE(t){const e=y.useRef(()=>{});return Xse(()=>{e.current=t}),y.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var $y=typeof document<"u"?y.useLayoutEffect:y.useEffect;let A8=!1,eae=0;const T8=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+eae++;function tae(){const[t,e]=y.useState(()=>A8?T8():void 0);return $y(()=>{t==null&&e(T8())},[]),y.useEffect(()=>{A8=!0},[]),t}const nae=GE.useId,rae=nae||tae;function iae(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const sae=y.createContext(null),aae=y.createContext(null),oae=()=>{var t;return((t=y.useContext(sae))==null?void 0:t.id)||null},lae=()=>y.useContext(aae),cae="data-floating-ui-focusable";function dae(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=rae(),s=y.useRef({}),[a]=y.useState(()=>iae()),o=oae()!=null,[l,d]=y.useState(r.reference),u=YE((f,g,m)=>{s.current.openEvent=f?g:void 0,a.emit("openchange",{open:f,event:g,reason:m,nested:o}),n==null||n(f,g,m)}),h=y.useMemo(()=>({setPositionReference:d}),[]),p=y.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return y.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:p,events:a,floatingId:i,refs:h}),[e,u,p,a,i,h])}function uae(t){t===void 0&&(t={});const{nodeId:e}=t,n=dae({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,a]=y.useState(null),[o,l]=y.useState(null),u=(i==null?void 0:i.domReference)||s,h=y.useRef(null),p=lae();$y(()=>{u&&(h.current=u)},[u]);const f=Gse({...t,elements:{...i,...o&&{reference:o}}}),g=y.useCallback(_=>{const E=gr(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(E),f.refs.setReference(E)},[f.refs]),m=y.useCallback(_=>{(gr(_)||_===null)&&(h.current=_,a(_)),(gr(f.refs.reference.current)||f.refs.reference.current===null||_!==null&&!gr(_))&&f.refs.setReference(_)},[f.refs]),w=y.useMemo(()=>({...f.refs,setReference:m,setPositionReference:g,domReference:h}),[f.refs,m,g]),v=y.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),C=y.useMemo(()=>({...f,...r,refs:w,elements:v,nodeId:e}),[f,w,v,e,r]);return $y(()=>{r.dataRef.current.floatingContext=C;const _=p==null?void 0:p.nodesRef.current.find(E=>E.id===e);_&&(_.context=C)}),y.useMemo(()=>({...f,context:C,refs:w,elements:v}),[f,w,v,C])}const P8="active",D8="selected";function p1(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[P8]:a,[D8]:o,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[cae]:""},...s,...e.map(a=>{const o=a?a[n]:null;return typeof o=="function"?t?o(t):null:o}).concat(t).reduce((a,o)=>(o&&Object.entries(o).forEach(l=>{let[d,u]=l;if(!(i&&[P8,D8].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof u=="function"){var h;(h=r.get(d))==null||h.push(u),a[d]=function(){for(var p,f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return(p=r.get(d))==null?void 0:p.map(w=>w(...g)).find(w=>w!==void 0)}}}else a[d]=u}),a),{})}}function hae(t){t===void 0&&(t=[]);const e=t.map(o=>o==null?void 0:o.reference),n=t.map(o=>o==null?void 0:o.floating),r=t.map(o=>o==null?void 0:o.item),i=y.useCallback(o=>p1(o,t,"reference"),e),s=y.useCallback(o=>p1(o,t,"floating"),n),a=y.useCallback(o=>p1(o,t,"item"),r);return y.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:a}),[i,s,a])}function N8(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const pae=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:a=0,minItemsVisible:o=4,referenceOverflowThreshold:l=0,scrollRef:d,...u}=Rc(t,e),{rects:h,elements:{floating:p}}=e,f=n.current[a],g=(d==null?void 0:d.current)||p,m=p.clientTop||g.clientTop,w=p.clientTop!==0,v=g.clientTop!==0,C=p===g;if(!f)return{};const _={...e,...await KE(-f.offsetTop-p.clientTop-h.reference.height/2-f.offsetHeight/2-s).fn(e)},E=await u1(N8(_,g.scrollHeight+m+p.clientTop),u),x=await u1(_,{...u,elementContext:"reference"}),b=cr(0,E.top),k=_.y+b,$=(g.scrollHeight>g.clientHeight?A=>A:pu)(cr(0,g.scrollHeight+(w&&C||v?m*2:0)-b-cr(0,E.bottom)));if(g.style.maxHeight=$+"px",g.scrollTop=b,i){const A=g.offsetHeight<f.offsetHeight*qo(o,n.current.length)-1||x.top>=-l||x.bottom>=-l;Ss.flushSync(()=>i(A))}return r&&(r.current=await u1(N8({..._,y:k},g.offsetHeight+m+p.clientTop),u)),{y:k}}});function fae(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:a,onChange:o}=e,l=YE(o),d=y.useRef(!1),u=y.useRef(null),h=y.useRef(null);y.useEffect(()=>{if(!i)return;function f(m){if(m.ctrlKey||!g||s.current==null)return;const w=m.deltaY,v=s.current.top>=-.5,C=s.current.bottom>=-.5,_=g.scrollHeight-g.clientHeight,E=w<0?-1:1,x=w<0?"max":"min";g.scrollHeight<=g.clientHeight||(!v&&w>0||!C&&w<0?(m.preventDefault(),Ss.flushSync(()=>{l(b=>b+Math[x](w,_*E))})):/firefox/i.test(sse())&&(g.scrollTop+=w))}const g=(a==null?void 0:a.current)||r.floating;if(n&&g)return g.addEventListener("wheel",f),requestAnimationFrame(()=>{u.current=g.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{u.current=null,h.current=null,g.removeEventListener("wheel",f)}},[i,n,r.floating,s,a,l]);const p=y.useMemo(()=>({onKeyDown(){d.current=!0},onWheel(){d.current=!1},onPointerMove(){d.current=!1},onScroll(){const f=(a==null?void 0:a.current)||r.floating;if(!(!s.current||!f||!d.current)){if(u.current!==null){const g=f.scrollTop-u.current;(s.current.bottom<-.5&&g<-1||s.current.top<-.5&&g>1)&&Ss.flushSync(()=>l(m=>m+g))}requestAnimationFrame(()=>{u.current=f.scrollTop})}}}),[r.floating,l,s,a]);return y.useMemo(()=>i?{floating:p}:{},[i,p])}let Mc=y.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Mc.displayName="FloatingContext";let Ow=y.createContext(null);Ow.displayName="PlacementContext";function gae(t){return y.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function mae(){return y.useContext(Mc).setReference}function yae(){return y.useContext(Mc).getReferenceProps}function wae(){let{getFloatingProps:t,slot:e}=y.useContext(Mc);return y.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function vae(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=y.useContext(Ow),n=y.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var a;return(a=s==null?void 0:s.outerHTML)!=null?a:s})]);sn(()=>{e==null||e(n??null)},[e,n]);let r=y.useContext(Mc);return y.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let j8=4;function bae({children:t,enabled:e=!0}){let[n,r]=y.useState(null),[i,s]=y.useState(0),a=y.useRef(null),[o,l]=y.useState(null);xae(o);let d=e&&n!==null&&o!==null,{to:u="bottom",gap:h=0,offset:p=0,padding:f=0,inner:g}=Cae(n,o),[m,w="center"]=u.split(" ");sn(()=>{d&&s(0)},[d]);let{refs:v,floatingStyles:C,context:_}=uae({open:d,placement:m==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${m}`:`${m}-${w}`,strategy:"absolute",transform:!1,middleware:[KE({mainAxis:m==="selection"?0:h,crossAxis:p}),Yse({padding:f}),m!=="selection"&&Zse({padding:f}),m==="selection"&&g?pae({...g,padding:f,overflowRef:a,offset:i,minItemsVisible:j8,referenceOverflowThreshold:f,onFallbackChange(A){var N,O;if(!A)return;let D=_.elements.floating;if(!D)return;let M=parseFloat(getComputedStyle(D).scrollPaddingBottom)||0,B=Math.min(j8,D.childElementCount),U=0,L=0;for(let T of(O=(N=_.elements.floating)==null?void 0:N.childNodes)!=null?O:[])if(ni(T)){let j=T.offsetTop,W=j+T.clientHeight+M,Z=D.scrollTop,z=Z+D.clientHeight;if(j>=Z&&W<=z)B--;else{L=Math.max(0,Math.min(W,z)-Math.max(j,Z)),U=T.clientHeight;break}}B>=1&&s(T=>{let j=U*B-L+M;return T>=j?T:j})}}):null,Jse({padding:f,apply({availableWidth:A,availableHeight:N,elements:O}){Object.assign(O.floating.style,{overflow:"auto",maxWidth:`${A}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${N}px)`})}})].filter(Boolean),whileElementsMounted:Use}),[E=m,x=w]=_.placement.split("-");m==="selection"&&(E="selection");let b=y.useMemo(()=>({anchor:[E,x].filter(Boolean).join(" ")}),[E,x]),k=fae(_,{overflowRef:a,onChange:s}),{getReferenceProps:S,getFloatingProps:I}=hae([k]),$=Je(A=>{l(A),v.setFloating(A)});return y.createElement(Ow.Provider,{value:r},y.createElement(Mc.Provider,{value:{setFloating:$,setReference:v.setReference,styles:C,getReferenceProps:S,getFloatingProps:I,slot:b}},t))}function xae(t){sn(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function Cae(t,e){var n,r,i;let s=f1((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),a=f1((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),o=f1((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:a,padding:o}}function f1(t,e,n=void 0){let r=rl(),i=Je((l,d)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!d)return[n,null];let u=O8(l,d);return[u,h=>{let p=ZE(l);{let f=p.map(g=>window.getComputedStyle(d).getPropertyValue(g));r.requestAnimationFrame(function g(){r.nextFrame(g);let m=!1;for(let[v,C]of p.entries()){let _=window.getComputedStyle(d).getPropertyValue(C);if(f[v]!==_){f[v]=_,m=!0;break}}if(!m)return;let w=O8(l,d);u!==w&&(h(w),u=w)})}return r.dispose}]}return[n,null]}),s=y.useMemo(()=>i(t,e)[0],[t,e]),[a=s,o]=y.useState();return sn(()=>{let[l,d]=i(t,e);if(o(l),!!d)return d(o)},[t,e]),a}function ZE(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...ZE(i)]:[r]}return[]}function O8(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}let Kf=y.createContext(null);Kf.displayName="OpenClosedContext";var mr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(mr||{});function Wu(){return y.useContext(Kf)}function JE({value:t,children:e}){return Ie.createElement(Kf.Provider,{value:t},e)}function _ae({children:t}){return Ie.createElement(Kf.Provider,{value:null},t)}function Eae(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let La=[];Eae(()=>{function t(e){if(!bs(e.target)||e.target===document.body||La[0]===e.target)return;let n=e.target;n=n.closest(jp),La.unshift(n??e.target),La=La.filter(r=>r!=null&&r.isConnected),La.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function kae(t){throw new Error("Unexpected object: "+t)}var An=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(An||{});function Eh(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:kae(t)}}function Rw(t){let e=Je(t),n=y.useRef(!1);y.useEffect(()=>(n.current=!1,()=>{n.current=!0,Ff(()=>{n.current&&e()})}),[e])}let QE=y.createContext(!1);function $ae(){return y.useContext(QE)}function R8(t){return Ie.createElement(QE.Provider,{value:t.force},t.children)}function Iae(t){let e=$ae(),n=y.useContext(ek),[r,i]=y.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(_s.isServer)return null;let a=t==null?void 0:t.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let o=t.createElement("div");return o.setAttribute("id","headlessui-portal-root"),t.body.appendChild(o)});return y.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),y.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let XE=y.Fragment,Sae=gn(function(t,e){let{ownerDocument:n=null,...r}=t,i=y.useRef(null),s=Cr(Xre(p=>{i.current=p}),e),a=uu(i.current),o=n??a,l=Iae(o),d=y.useContext(Iy),u=rl(),h=Pn();return Rw(()=>{var p;l&&l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l))}),l?Ss.createPortal(Ie.createElement("div",{"data-headlessui-portal":"",ref:p=>{u.dispose(),d&&p&&u.add(d.register(p))}},h({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:XE,name:"Portal"})),l):null});function Aae(t,e){let n=Cr(e),{enabled:r=!0,ownerDocument:i,...s}=t,a=Pn();return r?Ie.createElement(Sae,{...s,ownerDocument:i,ref:n}):a({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:XE,name:"Portal"})}let Tae=y.Fragment,ek=y.createContext(null);function Pae(t,e){let{target:n,...r}=t,i={ref:Cr(e)},s=Pn();return Ie.createElement(ek.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:Tae,name:"Popover.Group"}))}let Iy=y.createContext(null);function Dae(){let t=y.useContext(Iy),e=y.useRef([]),n=Je(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Je(s=>{let a=e.current.indexOf(s);a!==-1&&e.current.splice(a,1),t&&t.unregister(s)}),i=y.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,y.useMemo(()=>function({children:s}){return Ie.createElement(Iy.Provider,{value:i},s)},[i])]}let Nae=gn(Aae),tk=gn(Pae),nk=Object.assign(Nae,{Group:tk});const Kh={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function rk(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function jae(t,e,n){let r=Mr();if(e.kind==="Tracked"){let i=function(){s!==rk(t)&&(r.dispose(),n())},{position:s}=e,a=new ResizeObserver(i);a.observe(t),r.add(()=>a.disconnect()),r.addEventListener(window,"scroll",i,{passive:!0}),r.addEventListener(window,"resize",i)}return()=>r.dispose()}function Oae(t,e=typeof document<"u"?document.defaultView:null,n){let r=Fu(t,"escape");PE(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===Wn.Escape&&n(i))})}function Rae(){var t;let[e]=y.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=y.useState((t=e==null?void 0:e.matches)!=null?t:!1);return sn(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function Mae({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Je(()=>{var i,s;let a=nl(n),o=[];for(let l of t)l!==null&&(sa(l)?o.push(l):"current"in l&&sa(l.current)&&o.push(l.current));if(e!=null&&e.current)for(let l of e.current)o.push(l);for(let l of(i=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&sa(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||o.some(d=>l.contains(d))||o.push(l));return o});return{resolveContainers:r,contains:Je(i=>r().some(s=>s.contains(i)))}}let ik=y.createContext(null);function M8({children:t,node:e}){let[n,r]=y.useState(null),i=sk(e??n);return Ie.createElement(ik.Provider,{value:i},t,i===null&&Ie.createElement(xy,{features:Np.Hidden,ref:s=>{var a,o;if(s){for(let l of(o=(a=nl(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])if(l!==document.body&&l!==document.head&&sa(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function sk(t=null){var e;return(e=y.useContext(ik))!=null?e:t}function Lae(){let t=typeof document>"u";return"useSyncExternalStore"in X1?(e=>e.useSyncExternalStore)(X1)(()=>()=>{},()=>!1,()=>!t):!1}function Gf(){let t=Lae(),[e,n]=y.useState(_s.isHandoffComplete);return e&&_s.isHandoffComplete===!1&&n(!1),y.useEffect(()=>{e!==!0&&n(!0)},[e]),y.useEffect(()=>_s.handoff(),[]),t?!1:e}function Mw(){let t=y.useRef(!1);return sn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var yd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(yd||{});function Fae(){let t=y.useRef(0);return AE(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function ak(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)sa(n.current)&&e.add(n.current);return e}let Uae="div";var yo=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(yo||{});function Bae(t,e){let n=y.useRef(null),r=Cr(n,e),{initialFocus:i,initialFocusFallback:s,containers:a,features:o=15,...l}=t;Gf()||(o=0);let d=uu(n.current);Hae(o,{ownerDocument:d});let u=Vae(o,{ownerDocument:d,container:n,initialFocus:i,initialFocusFallback:s});Kae(o,{ownerDocument:d,container:n,containers:a,previousActiveElement:u});let h=Fae(),p=Je(C=>{if(!ni(n.current))return;let _=n.current;(E=>E())(()=>{Ji(h.current,{[yd.Forwards]:()=>{ec(_,Wi.First,{skipElements:[C.relatedTarget,s]})},[yd.Backwards]:()=>{ec(_,Wi.Last,{skipElements:[C.relatedTarget,s]})}})})}),f=Fu(!!(o&2),"focus-trap#tab-lock"),g=rl(),m=y.useRef(!1),w={ref:r,onKeyDown(C){C.key=="Tab"&&(m.current=!0,g.requestAnimationFrame(()=>{m.current=!1}))},onBlur(C){if(!(o&4))return;let _=ak(a);ni(n.current)&&_.add(n.current);let E=C.relatedTarget;bs(E)&&E.dataset.headlessuiFocusGuard!=="true"&&(ok(_,E)||(m.current?ec(n.current,Ji(h.current,{[yd.Forwards]:()=>Wi.Next,[yd.Backwards]:()=>Wi.Previous})|Wi.WrapAround,{relativeTo:C.target}):bs(C.target)&&Es(C.target)))}},v=Pn();return Ie.createElement(Ie.Fragment,null,f&&Ie.createElement(xy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Np.Focusable}),v({ourProps:w,theirProps:l,defaultTag:Uae,name:"FocusTrap"}),f&&Ie.createElement(xy,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Np.Focusable}))}let Wae=gn(Bae),zae=Object.assign(Wae,{features:yo});function qae(t=!0){let e=y.useRef(La.slice());return Pw(([n],[r])=>{r===!0&&n===!1&&Ff(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=La.slice())},[t,La,e]),Je(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Hae(t,{ownerDocument:e}){let n=!!(t&8),r=qae(n);Pw(()=>{n||sE(e==null?void 0:e.body)&&Es(r())},[n]),Rw(()=>{n&&Es(r())})}function Vae(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=y.useRef(null),a=Fu(!!(t&1),"focus-trap#initial-focus"),o=Mw();return Pw(()=>{if(t===0)return;if(!a){i!=null&&i.current&&Es(i.current);return}let l=n.current;l&&Ff(()=>{if(!o.current)return;let d=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===d){s.current=d;return}}else if(l.contains(d)){s.current=d;return}if(r!=null&&r.current)Es(r.current);else{if(t&16){if(ec(l,Wi.First|Wi.AutoFocus)!==_y.Error)return}else if(ec(l,Wi.First)!==_y.Error)return;if(i!=null&&i.current&&(Es(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,a,t]),s}function Kae(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=Mw(),a=!!(t&4);PE(e==null?void 0:e.defaultView,"focus",o=>{if(!a||!s.current)return;let l=ak(r);ni(n.current)&&l.add(n.current);let d=i.current;if(!d)return;let u=o.target;ni(u)?ok(l,u)?(i.current=u,Es(u)):(o.preventDefault(),o.stopPropagation(),Es(d)):Es(i.current)},!0)}function ok(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function lk(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Td((e=t.as)!=null?e:dk)||Ie.Children.count(t.children)===1}let Yf=y.createContext(null);Yf.displayName="TransitionContext";var Gae=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Gae||{});function Yae(){let t=y.useContext(Yf);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Zae(){let t=y.useContext(Zf);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Zf=y.createContext(null);Zf.displayName="NestingContext";function Jf(t){return"children"in t?Jf(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function ck(t,e){let n=il(t),r=y.useRef([]),i=Mw(),s=rl(),a=Je((f,g=Ua.Hidden)=>{let m=r.current.findIndex(({el:w})=>w===f);m!==-1&&(Ji(g,{[Ua.Unmount](){r.current.splice(m,1)},[Ua.Hidden](){r.current[m].state="hidden"}}),s.microTask(()=>{var w;!Jf(r)&&i.current&&((w=n.current)==null||w.call(n))}))}),o=Je(f=>{let g=r.current.find(({el:m})=>m===f);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:f,state:"visible"}),()=>a(f,Ua.Unmount)}),l=y.useRef([]),d=y.useRef(Promise.resolve()),u=y.useRef({enter:[],leave:[]}),h=Je((f,g,m)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([w])=>w!==f)),e==null||e.chains.current[g].push([f,new Promise(w=>{l.current.push(w)})]),e==null||e.chains.current[g].push([f,new Promise(w=>{Promise.all(u.current[g].map(([v,C])=>C)).then(()=>w())})]),g==="enter"?d.current=d.current.then(()=>e==null?void 0:e.wait.current).then(()=>m(g)):m(g)}),p=Je((f,g,m)=>{Promise.all(u.current[g].splice(0).map(([w,v])=>v)).then(()=>{var w;(w=l.current.shift())==null||w()}).then(()=>m(g))});return y.useMemo(()=>({children:r,register:o,unregister:a,onStart:h,onStop:p,wait:d,chains:u}),[o,a,r,h,p,u,d])}let dk=y.Fragment,uk=yc.RenderStrategy;function Jae(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:o,afterLeave:l,enter:d,enterFrom:u,enterTo:h,entered:p,leave:f,leaveFrom:g,leaveTo:m,...w}=t,[v,C]=y.useState(null),_=y.useRef(null),E=lk(t),x=Cr(...E?[_,e,C]:e===null?[]:[e]),b=(n=w.unmount)==null||n?Ua.Unmount:Ua.Hidden,{show:k,appear:S,initial:I}=Yae(),[$,A]=y.useState(k?"visible":"hidden"),N=Zae(),{register:O,unregister:D}=N;sn(()=>O(_),[O,_]),sn(()=>{if(b===Ua.Hidden&&_.current){if(k&&$!=="visible"){A("visible");return}return Ji($,{hidden:()=>D(_),visible:()=>O(_)})}},[$,_,O,D,k,b]);let M=Gf();sn(()=>{if(E&&M&&$==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,$,M,E]);let B=I&&!S,U=S&&k&&I,L=y.useRef(!1),T=ck(()=>{L.current||(A("hidden"),D(_))},N),j=Je(ae=>{L.current=!0;let te=ae?"enter":"leave";T.onStart(_,te,he=>{he==="enter"?s==null||s():he==="leave"&&(o==null||o())})}),W=Je(ae=>{let te=ae?"enter":"leave";L.current=!1,T.onStop(_,te,he=>{he==="enter"?a==null||a():he==="leave"&&(l==null||l())}),te==="leave"&&!Jf(T)&&(A("hidden"),D(_))});y.useEffect(()=>{E&&i||(j(k),W(k))},[k,E,i]);let Z=!(!i||!E||!M||B),[,z]=jE(Z,v,k,{start:j,end:W}),ie=fo({ref:x,className:((r=by(w.className,U&&d,U&&u,z.enter&&d,z.enter&&z.closed&&u,z.enter&&!z.closed&&h,z.leave&&f,z.leave&&!z.closed&&g,z.leave&&z.closed&&m,!z.transition&&k&&p))==null?void 0:r.trim())||void 0,...NE(z)}),V=0;$==="visible"&&(V|=mr.Open),$==="hidden"&&(V|=mr.Closed),k&&$==="hidden"&&(V|=mr.Opening),!k&&$==="visible"&&(V|=mr.Closing);let ee=Pn();return Ie.createElement(Zf.Provider,{value:T},Ie.createElement(JE,{value:V},ee({ourProps:ie,theirProps:w,defaultTag:dk,features:uk,visible:$==="visible",name:"Transition.Child"})))}function Qae(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,a=y.useRef(null),o=lk(t),l=Cr(...o?[a,e]:e===null?[]:[e]);Gf();let d=Wu();if(n===void 0&&d!==null&&(n=(d&mr.Open)===mr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=y.useState(n?"visible":"hidden"),p=ck(()=>{n||h("hidden")}),[f,g]=y.useState(!0),m=y.useRef([n]);sn(()=>{f!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),g(!1))},[m,n]);let w=y.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);sn(()=>{n?h("visible"):!Jf(p)&&a.current!==null&&h("hidden")},[n,p]);let v={unmount:i},C=Je(()=>{var x;f&&g(!1),(x=t.beforeEnter)==null||x.call(t)}),_=Je(()=>{var x;f&&g(!1),(x=t.beforeLeave)==null||x.call(t)}),E=Pn();return Ie.createElement(Zf.Provider,{value:p},Ie.createElement(Yf.Provider,{value:w},E({ourProps:{...v,as:y.Fragment,children:Ie.createElement(hk,{ref:l,...v,...s,beforeEnter:C,beforeLeave:_})},theirProps:{},defaultTag:y.Fragment,features:uk,visible:u==="visible",name:"Transition"})))}function Xae(t,e){let n=y.useContext(Yf)!==null,r=Wu()!==null;return Ie.createElement(Ie.Fragment,null,!n&&r?Ie.createElement(Sy,{ref:e,...t}):Ie.createElement(hk,{ref:e,...t}))}let Sy=gn(Qae),hk=gn(Jae),fu=gn(Xae),pk=Object.assign(Sy,{Child:fu,Root:Sy});var eoe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(eoe||{}),toe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(toe||{});let noe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Lw=y.createContext(null);Lw.displayName="DialogContext";function Qf(t){let e=y.useContext(Lw);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qf),n}return e}function roe(t,e){return Ji(e.type,noe,t,e)}let L8=gn(function(t,e){let n=y.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:a,role:o="dialog",autoFocus:l=!0,__demoMode:d=!1,unmount:u=!1,...h}=t,p=y.useRef(!1);o=(function(){return o==="dialog"||o==="alertdialog"?o:(p.current||(p.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let f=Wu();i===void 0&&f!==null&&(i=(f&mr.Open)===mr.Open);let g=y.useRef(null),m=Cr(g,e),w=uu(g.current),v=i?0:1,[C,_]=y.useReducer(roe,{titleId:null,descriptionId:null,panelRef:y.createRef()}),E=Je(()=>s(!1)),x=Je(z=>_({type:0,id:z})),b=Gf()?v===0:!1,[k,S]=Dae(),I={get current(){var z;return(z=C.panelRef.current)!=null?z:g.current}},$=sk(),{resolveContainers:A}=Mae({mainTreeNode:$,portals:k,defaultContainers:[I]}),N=f!==null?(f&mr.Closing)===mr.Closing:!1;_E(d||N?!1:b,{allowed:Je(()=>{var z,ie;return[(ie=(z=g.current)==null?void 0:z.closest("[data-headlessui-portal]"))!=null?ie:null]}),disallowed:Je(()=>{var z;return[(z=$==null?void 0:$.closest("body > *:not(#headlessui-portal-root)"))!=null?z:null]})});let O=Bf.get(null);sn(()=>{if(b)return O.actions.push(r),()=>O.actions.pop(r)},[O,r,b]);let D=gi(O,y.useCallback(z=>O.selectors.isTop(z,r),[O,r]));TE(D,A,z=>{z.preventDefault(),E()}),Oae(D,w==null?void 0:w.defaultView,z=>{z.preventDefault(),z.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),E()}),DE(d||N?!1:b,w,A),EE(b,g,E);let[M,B]=fE(),U=y.useMemo(()=>[{dialogState:v,close:E,setTitleId:x,unmount:u},C],[v,E,x,u,C]),L=js({open:v===0}),T={ref:m,id:r,role:o,tabIndex:-1,"aria-modal":d?void 0:v===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":M,unmount:u},j=!Rae(),W=yo.None;b&&!d&&(W|=yo.RestoreFocus,W|=yo.TabLock,l&&(W|=yo.AutoFocus),j&&(W|=yo.InitialFocus));let Z=Pn();return Ie.createElement(_ae,null,Ie.createElement(R8,{force:!0},Ie.createElement(nk,null,Ie.createElement(Lw.Provider,{value:U},Ie.createElement(tk,{target:g},Ie.createElement(R8,{force:!1},Ie.createElement(B,{slot:L},Ie.createElement(S,null,Ie.createElement(zae,{initialFocus:a,initialFocusFallback:g,containers:A,features:W},Ie.createElement(cie,{value:E},Z({ourProps:T,theirProps:h,slot:L,defaultTag:ioe,features:soe,visible:v===0,name:"Dialog"})))))))))))}),ioe="div",soe=yc.RenderStrategy|yc.Static;function aoe(t,e){let{transition:n=!1,open:r,...i}=t,s=Wu(),a=t.hasOwnProperty("open")||s!==null,o=t.hasOwnProperty("onClose");if(!a&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Ie.createElement(M8,null,Ie.createElement(pk,{show:r,transition:n,unmount:i.unmount},Ie.createElement(L8,{ref:e,...i}))):Ie.createElement(M8,null,Ie.createElement(L8,{ref:e,open:r,...i}))}let ooe="div";function loe(t,e){let n=y.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:a,unmount:o},l]=Qf("Dialog.Panel"),d=Cr(e,l.panelRef),u=js({open:a===0}),h=Je(w=>{w.stopPropagation()}),p={ref:d,id:r,onClick:h},f=i?fu:y.Fragment,g=i?{unmount:o}:{},m=Pn();return Ie.createElement(f,{...g},m({ourProps:p,theirProps:s,slot:u,defaultTag:ooe,name:"Dialog.Panel"}))}let coe="div";function doe(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=Qf("Dialog.Backdrop"),a=js({open:i===0}),o={ref:e,"aria-hidden":!0},l=n?fu:y.Fragment,d=n?{unmount:s}:{},u=Pn();return Ie.createElement(l,{...d},u({ourProps:o,theirProps:r,slot:a,defaultTag:coe,name:"Dialog.Backdrop"}))}let uoe="h2";function hoe(t,e){let n=y.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:a}]=Qf("Dialog.Title"),o=Cr(e);y.useEffect(()=>(a(r),()=>a(null)),[r,a]);let l=js({open:s===0}),d={ref:o,id:r};return Pn()({ourProps:d,theirProps:i,slot:l,defaultTag:uoe,name:"Dialog.Title"})}let poe=gn(aoe),fk=gn(loe);gn(doe);let foe=gn(hoe),goe=Object.assign(poe,{Panel:fk,Title:foe,Description:rie}),F8=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function U8(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!ni(i))return r;let s=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),s=!0;let a=s?(n=i.innerText)!=null?n:"":r;return F8.test(a)&&(a=a.replace(F8,"")),a}function moe(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let a=s.getAttribute("aria-label");return typeof a=="string"?a.trim():U8(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return U8(t).trim()}function yoe(t){let e=y.useRef(""),n=y.useRef("");return Je(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=moe(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var woe=Object.defineProperty,voe=(t,e,n)=>e in t?woe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B8=(t,e,n)=>(voe(t,typeof e!="symbol"?e+"":e,n),n),lr=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(lr||{}),Lp=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Lp||{}),Vt=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(Vt||{});function W8(t,e=n=>n){let n=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,r=IE(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}let boe={1(t){if(t.menuState===1)return t;let e=t.buttonElement?Kh.Tracked(rk(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:An.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:Kh.Idle}},2:(t,e)=>{var n,r,i,s,a;if(t.menuState===1)return t;let o={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===An.Nothing)return{...o,activeItemIndex:null};if(e.focus===An.Specific)return{...o,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===An.Previous){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,p=Eh(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(p!==null){let f=t.items[p].dataRef.current.domRef;if(((r=h.current)==null?void 0:r.previousElementSibling)===f.current||((i=f.current)==null?void 0:i.previousElementSibling)===null)return{...o,activeItemIndex:p}}}}else if(e.focus===An.Next){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,p=Eh(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});if(p!==null){let f=t.items[p].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===f.current||((a=f.current)==null?void 0:a.nextElementSibling)===null)return{...o,activeItemIndex:p}}}}let l=W8(t),d=Eh(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...o,...l,activeItemIndex:d}},3:(t,e)=>{let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+n).concat(t.items.slice(0,t.activeItemIndex+n)):t.items).find(a=>{var o;return((o=a.dataRef.current.textValue)==null?void 0:o.startsWith(r))&&!a.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let n=t.items.concat(e.items.map(i=>i)),r=t.activeItemIndex;return t.pendingFocus.focus!==An.Nothing&&(r=Eh(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:n,activeItemIndex:r,pendingFocus:{focus:An.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.items,r=[],i=new Set(e.items);for(let[s,a]of n.entries())if(i.has(a.id)&&(r.push(s),i.delete(a.id),i.size===0))break;if(r.length>0){n=n.slice();for(let s of r.reverse())n.splice(s,1)}return{...t,items:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...W8(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:Kh.Moved}}},xoe=class gk extends vE{constructor(e){super(e),B8(this,"actions",{registerItem:o8(()=>{let n=[],r=new Set;return[(i,s)=>{r.has(s)||(r.add(s),n.push({id:i,dataRef:s}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:o8(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),B8(this,"selectors",{activeDescendantId(n){var r;let i=n.activeItemIndex,s=n.items;return i===null||(r=s[i])==null?void 0:r.id},isActive(n,r){var i;let s=n.activeItemIndex,a=n.items;return s!==null?((i=a[s])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)},didButtonMove(n){return n.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=Bf.get(null);this.disposables.add(r.on(xE.Push,i=>{!r.selectors.isTop(i,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}this.disposables.group(n=>{this.on(1,r=>{r.buttonElement&&(n.dispose(),n.add(jae(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:n=!1}){return new gk({id:e,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:An.Nothing},buttonPositionState:Kh.Idle})}reduce(e,n){return Ji(n.type,boe,e,n)}};const mk=y.createContext(null);function Fw(t){let e=y.useContext(mk);if(e===null){let n=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,yk),n}return e}function yk({id:t,__demoMode:e=!1}){let n=y.useMemo(()=>xoe.new({id:t,__demoMode:e}),[]);return Rw(()=>n.dispose()),n}let Coe=y.Fragment;function _oe(t,e){let n=y.useId(),{__demoMode:r=!1,...i}=t,s=yk({id:n,__demoMode:r}),[a,o,l]=gi(s,w=>[w.menuState,w.itemsElement,w.buttonElement]),d=Cr(e),u=Bf.get(null),h=gi(u,y.useCallback(w=>u.selectors.isTop(w,n),[u,n]));TE(h,[l,o],(w,v)=>{var C;s.send({type:Vt.CloseMenu}),Tw(v,Aw.Loose)||(w.preventDefault(),(C=s.state.buttonElement)==null||C.focus())});let p=Je(()=>{s.send({type:Vt.CloseMenu})}),f=js({open:a===lr.Open,close:p}),g={ref:d},m=Pn();return Ie.createElement(bae,null,Ie.createElement(mk.Provider,{value:s},Ie.createElement(JE,{value:Ji(a,{[lr.Open]:mr.Open,[lr.Closed]:mr.Closed})},m({ourProps:g,theirProps:i,slot:f,defaultTag:Coe,name:"Menu"}))))}let Eoe="button";function koe(t,e){let n=Fw("Menu.Button"),r=y.useId(),{id:i=`headlessui-menu-button-${r}`,disabled:s=!1,autoFocus:a=!1,...o}=t,l=y.useRef(null),d=yae(),u=Cr(e,l,mae(),Je($=>n.send({type:Vt.SetButtonElement,element:$}))),h=Je($=>{switch($.key){case Wn.Space:case Wn.Enter:case Wn.ArrowDown:$.preventDefault(),$.stopPropagation(),n.send({type:Vt.OpenMenu,focus:{focus:An.First}});break;case Wn.ArrowUp:$.preventDefault(),$.stopPropagation(),n.send({type:Vt.OpenMenu,focus:{focus:An.Last}});break}}),p=Je($=>{switch($.key){case Wn.Space:$.preventDefault();break}}),[f,g,m]=gi(n,$=>[$.menuState,$.buttonElement,$.itemsElement]),w=f===lr.Open;Nie(w,{trigger:g,action:y.useCallback($=>{if(g!=null&&g.contains($.target))return Ch.Ignore;let A=$.target.closest('[role="menuitem"]:not([data-disabled])');return ni(A)?Ch.Select(A):m!=null&&m.contains($.target)?Ch.Ignore:Ch.Close},[g,m]),close:y.useCallback(()=>n.send({type:Vt.CloseMenu}),[]),select:y.useCallback($=>$.click(),[])});let v=uie($=>{var A;s||(f===lr.Open?(Ss.flushSync(()=>n.send({type:Vt.CloseMenu})),(A=l.current)==null||A.focus({preventScroll:!0})):($.preventDefault(),n.send({type:Vt.OpenMenu,focus:{focus:An.Nothing},trigger:Lp.Pointer})))}),{isFocusVisible:C,focusProps:_}=Pre({autoFocus:a}),{isHovered:E,hoverProps:x}=Tre({isDisabled:s}),{pressed:b,pressProps:k}=Mre({disabled:s}),S=js({open:f===lr.Open,active:b||f===lr.Open,disabled:s,hover:E,focus:C,autofocus:a}),I=lE(d(),{ref:u,id:i,type:jie(t,l.current),"aria-haspopup":"menu","aria-controls":m==null?void 0:m.id,"aria-expanded":f===lr.Open,disabled:s||void 0,autoFocus:a,onKeyDown:h,onKeyUp:p},v,_,x,k);return Pn()({ourProps:I,theirProps:o,slot:S,defaultTag:Eoe,name:"Menu.Button"})}let $oe="div",Ioe=yc.RenderStrategy|yc.Static;function Soe(t,e){let n=y.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:i,portal:s=!1,modal:a=!0,transition:o=!1,...l}=t,d=gae(i),u=Fw("Menu.Items"),[h,p]=vae(d),f=wae(),[g,m]=y.useState(null),w=Cr(e,d?h:null,Je(L=>u.send({type:Vt.SetItemsElement,element:L})),m),[v,C]=gi(u,L=>[L.menuState,L.buttonElement]),_=uu(C),E=uu(g);d&&(s=!0);let x=Wu(),[b,k]=jE(o,g,x!==null?(x&mr.Open)===mr.Open:v===lr.Open);EE(b,C,()=>{u.send({type:Vt.CloseMenu})});let S=gi(u,L=>L.__demoMode),I=S?!1:a&&v===lr.Open;DE(I,E);let $=S?!1:a&&v===lr.Open;_E($,{allowed:y.useCallback(()=>[C,g],[C,g])});let A=gi(u,u.selectors.didButtonMove)?!1:b;y.useEffect(()=>{let L=g;L&&v===lr.Open&&(sE(L)||L.focus({preventScroll:!0}))},[v,g]),Yie(v===lr.Open,{container:g,accept(L){return L.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:L.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(L){L.setAttribute("role","none")}});let N=rl(),O=Je(L=>{var T,j,W;switch(N.dispose(),L.key){case Wn.Space:if(u.state.searchQuery!=="")return L.preventDefault(),L.stopPropagation(),u.send({type:Vt.Search,value:L.key});case Wn.Enter:if(L.preventDefault(),L.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:Z}=u.state.items[u.state.activeItemIndex];(j=(T=Z.current)==null?void 0:T.domRef.current)==null||j.click()}u.send({type:Vt.CloseMenu}),$E(u.state.buttonElement);break;case Wn.ArrowDown:return L.preventDefault(),L.stopPropagation(),u.send({type:Vt.GoToItem,focus:An.Next});case Wn.ArrowUp:return L.preventDefault(),L.stopPropagation(),u.send({type:Vt.GoToItem,focus:An.Previous});case Wn.Home:case Wn.PageUp:return L.preventDefault(),L.stopPropagation(),u.send({type:Vt.GoToItem,focus:An.First});case Wn.End:case Wn.PageDown:return L.preventDefault(),L.stopPropagation(),u.send({type:Vt.GoToItem,focus:An.Last});case Wn.Escape:L.preventDefault(),L.stopPropagation(),Ss.flushSync(()=>u.send({type:Vt.CloseMenu})),(W=u.state.buttonElement)==null||W.focus({preventScroll:!0});break;case Wn.Tab:L.preventDefault(),L.stopPropagation(),Ss.flushSync(()=>u.send({type:Vt.CloseMenu})),Aie(u.state.buttonElement,L.shiftKey?Wi.Previous:Wi.Next);break;default:L.key.length===1&&(u.send({type:Vt.Search,value:L.key}),N.setTimeout(()=>u.send({type:Vt.ClearSearch}),350));break}}),D=Je(L=>{switch(L.key){case Wn.Space:L.preventDefault();break}}),M=js({open:v===lr.Open}),B=lE(d?f():{},{"aria-activedescendant":gi(u,u.selectors.activeDescendantId),"aria-labelledby":gi(u,L=>{var T;return(T=L.buttonElement)==null?void 0:T.id}),id:r,onKeyDown:O,onKeyUp:D,role:"menu",tabIndex:v===lr.Open?0:void 0,ref:w,style:{...l.style,...p,"--button-width":die(b,C,!0).width},...NE(k)}),U=Pn();return Ie.createElement(nk,{enabled:s?t.static||b:!1,ownerDocument:_},U({ourProps:B,theirProps:l,slot:M,defaultTag:$oe,features:Ioe,visible:A,name:"Menu.Items"}))}let Aoe=y.Fragment;function Toe(t,e){let n=y.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...s}=t,a=Fw("Menu.Item"),o=gi(a,A=>a.selectors.isActive(A,r)),l=y.useRef(null),d=Cr(e,l),u=gi(a,A=>a.selectors.shouldScrollIntoView(A,r));sn(()=>{if(u)return Mr().requestAnimationFrame(()=>{var A,N;(N=(A=l.current)==null?void 0:A.scrollIntoView)==null||N.call(A,{block:"nearest"})})},[u,l]);let h=yoe(l),p=y.useRef({disabled:i,domRef:l,get textValue(){return h()}});sn(()=>{p.current.disabled=i},[p,i]),sn(()=>(a.actions.registerItem(r,p),()=>a.actions.unregisterItem(r)),[p,r]);let f=Je(()=>{a.send({type:Vt.CloseMenu})}),g=Je(A=>{if(i)return A.preventDefault();a.send({type:Vt.CloseMenu}),$E(a.state.buttonElement)}),m=Je(()=>{if(i)return a.send({type:Vt.GoToItem,focus:An.Nothing});a.send({type:Vt.GoToItem,focus:An.Specific,id:r})}),w=Bie(),v=Je(A=>w.update(A)),C=Je(A=>{w.wasMoved(A)&&(i||o||a.send({type:Vt.GoToItem,focus:An.Specific,id:r,trigger:Lp.Pointer}))}),_=Je(A=>{w.wasMoved(A)&&(i||o&&a.state.activationTrigger===Lp.Pointer&&a.send({type:Vt.GoToItem,focus:An.Nothing}))}),[E,x]=gE(),[b,k]=fE(),S=js({active:o,focus:o,disabled:i,close:f}),I={id:r,ref:d,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":E,"aria-describedby":b,disabled:void 0,onClick:g,onFocus:m,onPointerEnter:v,onMouseEnter:v,onPointerMove:C,onMouseMove:C,onPointerLeave:_,onMouseLeave:_},$=Pn();return Ie.createElement(x,null,Ie.createElement(k,null,$({ourProps:I,theirProps:s,slot:S,defaultTag:Aoe,name:"Menu.Item"})))}let Poe="div";function Doe(t,e){let[n,r]=gE(),i=t,s={ref:e,"aria-labelledby":n,role:"group"},a=Pn();return Ie.createElement(r,null,a({ourProps:s,theirProps:i,slot:{},defaultTag:Poe,name:"Menu.Section"}))}let Noe="header";function joe(t,e){let n=y.useId(),{id:r=`headlessui-menu-heading-${n}`,...i}=t,s=Sw();sn(()=>s.register(r),[r,s.register]);let a={id:r,ref:e,role:"presentation",...s.props};return Pn()({ourProps:a,theirProps:i,slot:{},defaultTag:Noe,name:"Menu.Heading"})}let Ooe="div";function Roe(t,e){let n=t,r={ref:e,role:"separator"};return Pn()({ourProps:r,theirProps:n,slot:{},defaultTag:Ooe,name:"Menu.Separator"})}let Moe=gn(_oe),wk=gn(koe),vk=gn(Soe),bk=gn(Toe),Loe=gn(Doe),Foe=gn(joe),Uoe=gn(Roe),Boe=Object.assign(Moe,{Button:wk,Items:vk,Item:bk,Section:Loe,Heading:Foe,Separator:Uoe});class xk{get(e){let n=localStorage.getItem(e);return n===null?void 0:JSON.parse(n)}put(e,n){n!==void 0?localStorage.setItem(e,JSON.stringify(n)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}}function Ay(){try{let t="privy:__session_storage__test",e=new xk;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var qe=typeof window<"u"&&window.localStorage?new xk:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function Ck(t){var e;return{name:((e=t.metadata)==null?void 0:e.shortName)||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function z8(t,e){let n=Ck(e);if(n.universalLink)return Uw(n.universalLink,t)}let g1="WALLETCONNECT_DEEPLINK_CHOICE";function _k(t){return t.startsWith("http://")||t.startsWith("https://")}function Ek(t,e){if(_k(t))return Uw(t,e);let n=t;return n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function Uw(t,e){if(!_k(t))return Ek(t,e);let n=t;return n.endsWith("/")||(n=`${n}/`),{redirect:`${n}wc?uri=${encodeURIComponent(e)}`,href:n}}function kk(t,e){window.open(t,e,"noreferrer noopener")}class yr{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}const Ty="https://auth.privy.io",Woe=2e4,an=1400,$k=2500,Bw=4e3,zoe="3.1.0",Hl="privy:token",q8="privy-token",m1="privy:refresh_token",qoe="privy-refresh-token",Gh="privy:pat",H8="privy:id_token",V8="privy-id-token",y1="privy-session",Py="privy:caid",Ik=t=>`privy:guest:${t}`,kh=t=>`privy:cross-app:${t}`,Fp="privy:state_code",wd="privy:code_verifier",Up="privy:headless_oauth",Dd="privy:oauth_disable_signup",w1=t=>`privy:wallet:${t}`,Sk="privy:connections",Xf=12e4,Hoe=3e4,Voe="deprecated";function Dy(t){return crypto.getRandomValues(new Uint8Array(t))}function eg(){return Lo(Dy(36))}function Ww(){return eg()}async function zw(t,e="S256"){if(e!="S256")return t;{let n=await(async function(r){let i=new TextEncoder().encode(r);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))})(t);return Lo(n)}}function Koe(){let t=qe.get(wd);if(!t)throw new G("Authentication error.");return t}function Ak(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Tk=({style:t,...e})=>c.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),c.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),c.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),Pk=({style:t,...e})=>c.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),c.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),Dk=({style:t,...e})=>c.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),c.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),Nk=t=>c.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),c.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),c.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),c.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),c.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function jk(t){return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"b",children:[c.jsx("stop",{offset:"0",stopColor:"#3771c8"}),c.jsx("stop",{stopColor:"#3771c8",offset:".128"}),c.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),c.jsxs("linearGradient",{id:"a",children:[c.jsx("stop",{offset:"0",stopColor:"#fd5"}),c.jsx("stop",{offset:".1",stopColor:"#fd5"}),c.jsx("stop",{offset:".5",stopColor:"#ff543e"}),c.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),c.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),c.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),c.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),c.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),c.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function Ok(t){return c.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),c.jsxs("defs",{children:[c.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:c.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),c.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function Rk(t){return c.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),c.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),c.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0_1715_1956",children:c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function Mk(t){return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[c.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),c.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function Lk(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:c.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const Fk=t=>c.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),c.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});function Ny(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),qe.del(Fp),window.history.replaceState({},"",t)}const jy=({address:t,chainId:e,nonce:n})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${n}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class nc{get meta(){var e,n,r,i;return{connectorType:(e=this.wallet)==null?void 0:e.connectorType,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,chainId:(r=this.wallet)==null?void 0:r.chainId,address:(i=this.wallet)==null?void 0:i.address,disableSignup:this._meta.disableSignup}}async authenticate(){var e,n,r;if(!this.client)throw new G("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:(e=this.wallet)==null?void 0:e.chainId,walletClientType:(n=this.wallet)==null?void 0:n.walletClientType,connectorType:(r=this.wallet)==null?void 0:r.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new G("SiweFlow has no wallet instance");let{message:i,signature:s}=await this.sign();return await this.client.authenticateWithSiweInternal({message:i,signature:s,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(i){throw yt(i)}}async link(){if(!this.client)throw new G("SiweFlow has no client instance");try{if(!this.wallet)throw new G("SiweFlow has no wallet instance");let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:n,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw yt(e)}}async sign(){if(!this.client)throw new G("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new G("Could not prepare SIWE message");if(!this.wallet)throw new G("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new G("SiweFlow has no client instance");if(!this.wallet)throw new G("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new G("SiweFlow has no client instance");if(!this.wallet)throw new G("SiweFlow has no wallet instance");let e=this.wallet.address,n=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=jy({address:e,chainId:n,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new yr(this._getNonceOnce.bind(this)),this.wallet=n,this.captchaToken=r,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s==null?void 0:s.message,this.signature=s==null?void 0:s.signature}}const Goe=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Bp{get meta(){var e;return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:(e=this.wallet)==null?void 0:e.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new G("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw yt(e)}}async link(){if(!this.client)throw new G("SiwsFlow has no client instance");try{let{message:e,signature:n}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:n,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw yt(e)}}async sign(){let e,n;if(!this.client)throw new G("SiwsFlow has no client instance");await this.buildMessage();let r=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new G("Could not prepare SIWS message");if(!r&&!this.wallet.provider.signMessage||r&&!this.wallet.provider.signTransaction)throw new G("Wallet does not support the necessary signing methods");if(r&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:Nh.decode(this.preparedMessage)});e=Nh.encode(i.signedTransaction),n=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});n=Nh.encode(i.signature)}return{message:e,signature:n}}async _getNonceOnce(){if(!this.client)throw new G("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new G("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=Goe({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,n,r,i=!1,s="plain",a){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new yr(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=n,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=a}}const Uk=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,Bk=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||Uk(t)!=="MetaMask")return!1;if(t.providers){for(let n of t.providers)if(!Bk(n))return!1}return!0},Wk=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},vc=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new Jt(`Unsupported chainId ${t}`,4901);return $s({transport:Is(da(s,n,r.appId)),chain:s})},da=(t,e,n)=>{var a,o,l;let r,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])r=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])r=e.rpcUrls[s];else if((a=t.rpcUrls.privy)!=null&&a.http[0]){let d=new URL(t.rpcUrls.privy.http[0]);d.searchParams.append("privyAppId",n),r=d.toString()}else r=(o=t.rpcUrls.public)!=null&&o.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!r)throw new Jt(`No RPC url found for ${i}`);return r},zk=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),fr=(t,e=3,n=4,r="ethereum")=>{if(!t)return"";let i=r==="ethereum"?2:0;return e+n+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-n,t.length)}`},v1=(t,e=3,n=4)=>fr(t,e,n,"solana"),Wp=t=>new Promise((e=>setTimeout(e,t))),Oy=(t,e={})=>{let n=e.delayMs||150,r=e.maxAttempts||270;return new Promise((async(i,s)=>{var l;let a=!1,o=0;for(;!a&&o<r;){if((l=e.abortSignal)!=null&&l.aborted)return;t().then((d=>{a=!0,i(d)}),((...d)=>{a=!0,s(...d)})),o+=1,await Wp(n)}a||s(Error("Exceeded max attempts before resolving function"))}))},Yoe=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),Ry=t=>typeof t=="string"?t:"0x"+t.toString(16);async function Zoe({store:t,walletList:e,externalWalletConfig:n,walletChainType:r,timeout:i=3e3}){let s=!1,a=window;return new Promise((o=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let d=t.getProviders();console.debug("Detected injected providers:",d.map((h=>h.info)));let u=[];for(let h of d)e.includes("coinbase_wallet")&&h.info.rdns==="com.coinbase.wallet"||r==="solana-only"&&h.info.rdns==="app.phantom"||u.push({type:h.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:h});if(r!=="solana-only")for(let h of(function(){var m;let p=window,f=p.ethereum;if(!f)return[];let g=[];if((m=f.providers)!=null&&m.length)for(let w of f.providers)w&&g.push(w);return g.push(p.ethereum),g})()){let p=Uk(h);if(!d.some((f=>f.info.name===p))){if(Bk(h,!0)&&!u.find((f=>f.type==="metamask"))){u.push({type:"metamask",legacyInjectedProvider:h});continue}if(p==="Phantom"&&!u.find((f=>f.type==="phantom"))){u.push({type:"phantom",legacyInjectedProvider:h});continue}if(p==="Coinbase Wallet"&&!u.find((f=>{var g,m,w;return f.type==="coinbase_wallet"&&((w=(m=(g=n.coinbaseWallet)==null?void 0:g.config)==null?void 0:m.preference)==null?void 0:w.options)!=="smartWalletOnly"}))){u.push({type:"coinbase_wallet",legacyInjectedProvider:h});continue}u.find((f=>f.type==="unknown_browser_extension"))||u.push({type:"unknown_browser_extension",legacyInjectedProvider:h})}}o(u)}a.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout((()=>{l()}),i))}))}function Nd(t){return`eip155:${String(Number(t))}`}const Joe=(t,e,n,r)=>{let i=Number(t),s=e.find((a=>a.id===i));if(!s)throw new Jt(`Unsupported chainId ${t}`,4901);return da(s,n,r)},Yh=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n=t.types.EIP712Domain??Object.entries(t.domain).map((([r,i])=>{if(i!=null&&typeof r=="string"&&r in e)return{name:r,type:e[r]}})).filter((r=>r!==void 0));return{...t,types:{...t.types,EIP712Domain:n}}},qk=y.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:se,setError:se,setExecuting:se,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:se,reset:se,execute:se});class tg extends ur{constructor(e,n,r){super(e||"Captcha failed"),this.type="Captcha",n instanceof Error&&(this.cause=n),this.privyErrorCode=r}}const Qoe=({children:t,id:e,captchaSiteKey:n,captchaEnabled:r})=>{let i=y.useRef(null),[s,a]=y.useState(),[o,l]=y.useState(),[d,u]=y.useState(!1),h=y.useMemo((()=>r?d||s||o?!d||s||o?s&&!o?{status:"success",token:s}:o?{status:"error",error:o}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[r,s,o,d]);return c.jsx(qk.Provider,{value:{...h,ref:i,enabled:r,siteKey:n,appId:e,setToken:a,setError:l,setExecuting:u,remove(){var p;r&&((p=i.current)==null||p.remove(),u(!1),l(void 0),a(void 0))},reset(){var p;r&&((p=i.current)==null||p.reset(),u(!1),l(void 0),a(void 0))},execute(){var p;r&&(u(!0),(p=i.current)==null||p.execute())},async waitForResult(){if(!r)return"";try{return await(function(p,{interval:f=100,timeout:g=5e3}={}){return new Promise(((m,w)=>{let v,C=0,_=()=>{C>=g?w("Max attempts reached without result"):(v=p(),C+=f,v==null?setTimeout(_,f):m(v))};_()}))})((()=>{var p;return(p=i.current)==null?void 0:p.getResponse()}),{interval:200,timeout:2e4})}catch{throw new tg("Captcha failed",null,Q.CAPTCHA_TIMEOUT)}}},children:t})},Lr=()=>y.useContext(qk);class Qc{async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post($L,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw yt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(IL,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw yt(e)}}constructor(e,n=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=n}}function K8(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===Q.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===Q.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===Q.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===Q.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===Q.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===Q.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===Q.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof tg&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function Xoe(){let t;return(t=(function(){let e=new URLSearchParams(window.location.search),n=Number(e.get("id")||""),r=e.get("hash"),i=Number(e.get("auth_date")||""),s=e.get("first_name");if(n&&s&&i&&r)return Object.fromEntries(e.entries())})())?(G8(),{flowType:"login-url",authData:t}):(t=(function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let n=Hk(e.replace("#tgWebAppData=","")),{user:r,auth_date:i,hash:s}=n;return r&&i&&s?n:void 0})())?(G8(),{flowType:"web-app",authData:t}):void 0}function Hk(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function G8(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let Y8=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const Ui=(t,e)=>{if(e!=null&&e.imported)return Y8(e);let n=Zi(t);if(!n)throw Error("Failed to find primary wallet");return Y8(n)},ele=({style:t,...e})=>c.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[c.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),Vk="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",Kk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class Gk extends Jt{constructor(){super("Wallet timeout"),this.type="wallet_error"}}const to=t=>t instanceof Jt?t:t!=null&&t.code?new or(t):new Jt("Unknown connector error",t);class rc extends ur{constructor(e,n,r){super(e),this.type="provider_error",this.code=n,this.data=r}}class or extends rc{constructor(e){var r,i,s;super(e.message,e.code,e.data);let n=Object.values(Bi).find((a=>a.eipCode===e.code));this.details=n||Bi.UNKNOWN_ERROR,e.code===-32002&&((r=e.message)!=null&&r.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=Bi.E32002_CONNECTION_ALREADY_PENDING:this.details=Bi.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Bi.E32002_WALLET_LOCKED))}}const Ao={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Bi};function Na(t){return t.type==="ethereum"}function Yk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if((r==null?void 0:r.address)!==(i==null?void 0:i.address)||r&&i&&Na(r)&&Na(i)&&(r==null?void 0:r.chainId)!==(i==null?void 0:i.chainId)||(r==null?void 0:r.connectorType)!==(i==null?void 0:i.connectorType)||(r==null?void 0:r.connectedAt)!==(i==null?void 0:i.connectedAt)||(r==null?void 0:r.walletClientType)!==(i==null?void 0:i.walletClientType)||(r==null?void 0:r.isConnected)!==(i==null?void 0:i.isConnected)||(r==null?void 0:r.linked)!==(i==null?void 0:i.linked))return!1}return!0}class Zk extends Zo{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const qw=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||Xf;function Xc(t){return t.chainType==="ethereum"}class sl extends Zk{buildConnectedWallet(e,n,r,i){let s=async()=>!!this.wallets.find((a=>Zn(a.address)===Zn(e)));return{type:"ethereum",address:Zn(e),chainId:n,meta:r,imported:i,switchChain:async a=>{var p,f,g,m;let o,l;if(!s)throw new Jt("Wallet is not currently connected.");let d=(p=this.wallets.find((w=>Zn(w.address)===Zn(e))))==null?void 0:p.chainId;if(!d)throw new Jt("Unable to determine current chainId.");if(typeof a=="number"?(o=`0x${a.toString(16)}`,l=a):(o=a,l=Number(a)),d===Nd(o))return;let u=this.chains.find((w=>w.id===l));if(!u)throw new Jt(`Unsupported chainId: ${a}`);let h=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:o}]})};try{return await h()}catch(w){if(((v,C)=>{var _;switch(C){case"coinbase_wallet":case"base_account":return v.message.includes("addEthereumChain");case"rabby_wallet":return v.message.includes("Unrecognized chain ID");default:return v.code===4902||((_=v.message)==null?void 0:_.includes("4902"))}})(w,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await Wp(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:o,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[((f=u.rpcUrls.default)==null?void 0:f.http[0])??""],blockExplorerUrls:[((g=u.blockExplorers)==null?void 0:g.default.url)??""]}]}),h();throw this.walletClientType==="rainbow"&&((m=w.message)!=null&&m.includes("wallet_switchEthereumChain"))?new Jt(`Rainbow does not support the chainId ${n}`):w}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new Jt("Wallet is not currently connected.");return this.proxyProvider},sign:async a=>{if(!await s())throw new Jt("Wallet is not currently connected.");return await this.sign(a)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let n,r=e;try{if(r===void 0){let l=await Oy((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(r=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let i=r[0],s=Zn(i),a=[];if(this.walletClientType==="privy"){let l=qe.get(w1(s));this.chains.find((d=>d.id===Number(l)))||(qe.del(w1(s)),l=null),n=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${n} on initialization`)}}else try{let l=await Oy((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")n=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");n=`0x${l.toString(16)}`}}catch(l){console.warn("Failed to get chainId from provider, defaulting to 0x1",l),n="0x1"}let o=Nd(n);if(!a.find((l=>Zn(l.address)===s))){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet(Zn(i),o,l,this.connectorType==="embedded_imported"))}Yk(a,this.wallets)||(this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((n,r)=>r.connectedAt-n.connectedAt)).find((n=>e.find((r=>Zn(r)===Zn(n.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){var n;return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[Yr(e),(n=this.wallets[0])==null?void 0:n.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,n,r,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach((a=>{a.chainId=Nd(s),this.walletClientType==="privy"&&qe.put(w1(a.address),s)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await Wp(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=n,this.defaultChain=r,this.rpcConfig=i,this.rpcTimeoutDuration=qw(i,e),this.connected=!1,this.initialized=!1}}class al{on(e,n){if(this.walletProvider)return this.walletProvider.on(e,n);this._subscriptions.push({eventName:e,listener:n})}async request(e){if(!this.walletProvider)throw new Jt(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((n=>{throw to(n)}))}constructor(e,n){this.removeListener=(r,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(r,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(r=new Gk,i=this.rpcTimeoutDuration)=>new Promise(((s,a)=>setTimeout((()=>{a(r)}),i))),this.setWalletProvider=r=>{this.walletProvider&&this._subscriptions.forEach((i=>{this.removeListener(i.eventName,i.listener)})),this.walletProvider=r,this._subscriptions.forEach((i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=n||Xf,this._subscriptions=[]}}const Jk=({...t})=>c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class Hw extends sl{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:n,icon:r,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new al(void 0,Xf),this.id=e,this.name=n,this.icon=r,this.connectorType=i}}const Vw=({style:t,...e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),My=({...t})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[c.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),c.jsx("g",{transform:"translate(4, 4)",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[c.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),c.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),c.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),c.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),c.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),c.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),c.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),c.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),c.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),c.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),c.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),c.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),c.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),Qk=({style:t,...e})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[c.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]}),tle=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],Kw=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:It.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r,i,s;if("phantom"in window){let a=window;if((e=(t=a==null?void 0:a.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((r=(n=a==null?void 0:a.phantom)==null?void 0:n.ethereum)!=null&&r.chainId)||(s=(i=a==null?void 0:a.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=$h({client:this.client,isSolana:e,connectOnly:n});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${r}?ref=${r}`}},solflare:{client:"solflare",name:"Solflare",installLink:It.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){var t;return"solflare"in window&&!!((t=window==null?void 0:window.solflare)!=null&&t.isSolflare)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=$h({client:this.client,isSolana:e,connectOnly:n});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${r}?ref=${r}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,n,r;return!(!("backpack"in window)||!((e=(t=window==null?void 0:window.backpack)==null?void 0:t.ethereum)!=null&&e.isBackpack)&&!((r=(n=window==null?void 0:window.backpack)==null?void 0:n.solana)!=null&&r.isBackpack))},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:n}){let r=$h({client:this.client,isSolana:e,connectOnly:n});return`${t?"backpack://ul/v1/":"https://backpack.app/ul/v1/"}browse/${r}?ref=${r}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){var t;return"okxwallet"in window&&!!((t=window==null?void 0:window.okxwallet)!=null&&t.isOkxWallet)},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+$h({client:this.client,isSolana:t,connectOnly:e}))}}});function Xk({connectorType:t,walletClientType:e}){for(let n of tle)if(t===n||e===n)return Kw[n]}function $h({client:t,isSolana:e,connectOnly:n}){let r=new URL(window.location.href);return r.searchParams.set("privy_connector",e?"solana_adapter":"injected"),r.searchParams.set("privy_wallet_client",t),r.searchParams.set("privy_connect_only",String(n)),encodeURIComponent(r.href.replace(/\/$/g,""))}const Zh=()=>{let t=qe.get(Sk);return t&&Array.isArray(t)&&t.map((e=>(n=>n&&typeof n.address=="string"&&typeof n.connectorType=="string"&&typeof n.walletClientType=="string"&&typeof n.connectedAt=="number")(e))).every(Boolean)?t:[]};let nle=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function Ly(t){return t.toLowerCase().split(" ").join("_")}class rle extends Zk{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map((e=>({type:"solana",provider:new SC({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:()=>{this.disconnect()}})))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){var e;this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await((e=this.wallet.features["standard:connect"])==null?void 0:e.connect({silent:!0}).catch((()=>{}))),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort(((e,n)=>n.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){var e;this._unsubscribeListeners=(e=this.wallet.features["standard:events"])==null?void 0:e.on("change",this.onChange)}unsubscribeListeners(){var e;(e=this._unsubscribeListeners)==null||e.call(this)}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!nle.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||Zh().some((({walletClientType:e})=>e==="phantom")))}constructor(e,n){super(Ly(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{var r;(r=this.wallet.features["standard:disconnect"])==null||r.disconnect().catch((i=>console.error("Error disconnecting",i)))},this.promptConnection=async()=>{var r;try{await((r=this.wallet.features["standard:connect"])==null?void 0:r.connect())}catch(i){throw to(i)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=n,this.wallets=[]}}class Gw extends rle{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:n,icon:r}){super({name:n},!1),this.connectorType="null",this.proxyProvider=new al(void 0,Xf),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=n,this.icon=r}}function ng(t){return t.chainType==="solana"}function ile(t){return t.type==="solana"}const zu=$c((()=>({listings:[]}))),sle=zu.setState,b1=t=>{let e;try{e=new URL(t).hostname}catch{return}return zu.getState().listings.find((({homepage:n})=>{let r;try{r=new URL(n).hostname}catch{return!1}return e.includes(r)}))},no=t=>zu((({listings:e})=>e.find((({slug:n})=>zp(n)===zp(t)))));function zp(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}const Bs={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let ale=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),Z8=t=>ale.has(t),J8=(t,e,n)=>n.indexOf(t)===e;function Ih(t,e){let n=Math.max(0,Math.min(1,t.toHsl().l+e));return Me({...t.toHsl(),l:n})}function x1(t,e){let n=t.getLuminance(),r=e.getLuminance();return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ole({backgroundTheme:t,accentHex:e}){let n,r;t==="light"?n=!1:t==="dark"?n=!0:(n=.5>=Me(t).getLuminance(),r=Me(t).toHslString());let i=n?"dark":"light",s=n?ed:Sh,{accent:a,accentLight:o,accentHover:l,accentDark:d,accentDarkest:u}=(function(g,m){if(!g){let v=m?ed:Sh;return{accent:Me(v.background.interactive),accentLight:Me(v.background.interactive),accentHover:Me(v.background["interactive-hover"]),accentDark:Me(v.background["interactive-clicked"]),accentDarkest:Me(v.background["interactive-disabled"])}}let w=Me(g);return{accent:w,accentLight:Ih(w,.15),accentHover:Ih(w,.3),accentDark:Ih(w,-.06),accentDarkest:Ih(w,-.6)}})(e,n),h=(function(g){let m=Me(Sh.text.default),w=Me(ed.text.default),v=x1(g,m),C=x1(g,w),_=g.toHsl();return _.h>=220&&_.h<=300&&C>=3?ed.text.default:v>C?Sh.text.default:ed.text.default})(a),p=Me(h),f=x1(a,Me(s.background.default))>=3;return{colorScheme:i,background:r||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:a.toHslString(),accentLight:o.toHslString(),accentHover:l.toHslString(),accentDark:d.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:p.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:f?"1":"0",linkNavigationColor:f?a.toHslString():s.text.default,linkNavigationDecoration:f?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const ed={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Sh={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function e$(t,e,n,r,i){var V,ee,ae,te,he,xe,ke,Ue,ge,Ce,Ee,re,We,ze,de,ve,St,Wt,pe,zt,Te,ht,bt,ct,st,un,be,_e,me,Be,at,Xe,Ve,De,Et,At,Kt,Ae,Cn,Fr,Ur,Pi,P,R,K,H,J,X,le,ce,Qe,it,dt,ft,Ne,Ze,je,He,Ke,pt,kt;let s,a,o,l,d,u,h,p,f,g,m,w,v,C,_,E,x=n?console.warn:()=>{};e!=null&&e.loginMethods?(s=e.loginMethods.includes("email"),a=e.loginMethods.includes("sms"),l=e.loginMethods.includes("wallet"),d=e.loginMethods.includes("google"),u=e.loginMethods.includes("twitter"),h=e.loginMethods.includes("discord"),g=e.loginMethods.includes("spotify"),m=e.loginMethods.includes("instagram"),p=e.loginMethods.includes("tiktok"),f=e.loginMethods.includes("line"),v=e.loginMethods.includes("github"),w=e.loginMethods.includes("linkedin"),C=e.loginMethods.includes("apple"),_=e.loginMethods.includes("farcaster"),E=e.loginMethods.includes("telegram"),o=e.loginMethods.includes("passkey")):(s=t.email_auth,a=t.sms_auth,l=t.wallet_auth||t.solana_wallet_auth,d=t.google_oauth,u=t.twitter_oauth,h=t.discord_oauth,v=t.github_oauth,g=t.spotify_oauth,m=t.instagram_oauth,p=t.tiktok_oauth,f=t.line_oauth,w=t.linkedin_oauth,C=t.apple_oauth,_=t.farcaster_auth,E=t.telegram_auth,o=t.passkey_auth),t.passkey_auth&&(o=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(o=!1);let b=[s,a].filter(Boolean),k=[d,u,h,v,g,m,p,f,w,C,_,E].filter(Boolean),S=[l].filter(Boolean),I=((V=e==null?void 0:e.loginMethods)==null?void 0:V.includes("passkey"))??!1,$=t.passkeys_for_signup_enabled??!1,A=[o&&($||I)].filter(Boolean);if(b.length+k.length+S.length+A.length===0)throw Error("You must enable at least one login method");let N=((ee=e==null?void 0:e.appearance)==null?void 0:ee.showWalletLoginFirst)!==void 0?(ae=e==null?void 0:e.appearance)==null?void 0:ae.showWalletLoginFirst:t.show_wallet_login_first;N&&S.length===0?(x("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),N=!1):N||k.length+b.length!==0||(x("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),N=!0);let O=((he=(te=e==null?void 0:e.externalWallets)==null?void 0:te.walletConnect)==null?void 0:he.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&x("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let D=(({input:nt,overrides:et})=>et?et.primary.concat(et.overflow??[]).filter(Z8).filter(J8):nt?nt.filter(Z8).filter(J8):Bs.appearance.walletList)({input:(xe=e==null?void 0:e.appearance)==null?void 0:xe.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder}),M=(({input:nt})=>{if(!nt||!nt.primary[0])return;let et=[nt.primary[0]],xt=[];for(let on of(nt.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),nt.primary.slice(1)))et.includes(on)?console.warn(`Duplicated login method: ${on}`):et.push(on);for(let on of nt.overflow??[])et.includes(on)||xt.includes(on)?console.warn(`Duplicated login method: ${on}`):xt.push(on);return{primary:et,overflow:xt}})({input:e==null?void 0:e.loginMethodsAndOrder}),B=((ke=e==null?void 0:e.intl)==null?void 0:ke.defaultCountry)??"US",{chains:U,defaultChain:L}=(function({supportedChains:nt,defaultChainFromConfig:et}){let xt;if(nt){if(nt.length===0)throw Error("`supportedChains` must contain at least one chain");xt=pC(nt)}else xt=[..._u];let on=nt?xt[0]:Si,_r=et??on;if(!xt.find((we=>we.id===_r.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:xt,defaultChain:_r}})({supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain}),T=!!(e!=null&&e.defaultChain),j=((Ue=e==null?void 0:e.customAuth)==null?void 0:Ue.getCustomAccessToken)&&((ge=e==null?void 0:e.customAuth)==null?void 0:ge.enabled)!==!1,W=j?"all-users":t.embedded_wallet_config.ethereum.create_on_login,Z=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!((Ee=(Ce=e==null?void 0:e.externalWallets)==null?void 0:Ce.solana)!=null&&Ee.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let z=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,ie=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:((re=e==null?void 0:e.appearance)==null?void 0:re.logo)??t.logo_url??void 0,landingHeader:((We=e==null?void 0:e.appearance)==null?void 0:We.landingHeader)??Bs.appearance.landingHeader,loginMessage:typeof((ze=e==null?void 0:e.appearance)==null?void 0:ze.loginMessage)=="string"?(de=e==null?void 0:e.appearance)==null?void 0:de.loginMessage.slice(0,100):(ve=e==null?void 0:e.appearance)==null?void 0:ve.loginMessage,footerLogo:(St=e==null?void 0:e.appearance)==null?void 0:St.footerLogo,palette:ole({backgroundTheme:((Wt=e==null?void 0:e.appearance)==null?void 0:Wt.theme)??Bs.appearance.theme,accentHex:((pe=e==null?void 0:e.appearance)==null?void 0:pe.accentColor)??t.accent_color}),loginGroupPriority:N?"web3-first":"web2-first",hideDirectWeb2Inputs:!!((zt=e==null?void 0:e.appearance)!=null&&zt.hideDirectWeb2Inputs),walletList:D,walletChainType:((Te=e==null?void 0:e.appearance)==null?void 0:Te.walletChainType)??(({evmWalletAuth:nt,solanaWalletAuth:et})=>nt&&et?"ethereum-and-solana":nt?"ethereum-only":et?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:l,email:s,sms:a,passkey:o,google:d,twitter:u,discord:h,github:v,spotify:g,instagram:m,tiktok:p,line:f,linkedin:w,apple:C,farcaster:_,telegram:E},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:M,legal:{termsAndConditionsUrl:((ht=e==null?void 0:e.legal)==null?void 0:ht.termsAndConditionsUrl)??t.terms_and_conditions_url,privacyPolicyUrl:((bt=e==null?void 0:e.legal)==null?void 0:bt.privacyPolicyUrl)??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.wallet_connect_cloud_project_id??Bs.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:((ct=e==null?void 0:e.externalWallets)==null?void 0:ct.signatureRequestTimeouts)??{}},chains:U,defaultChain:L,intl:{defaultCountry:B},shouldEnforceDefaultChainOnConnect:T,captchaEnabled:t.captcha_enabled??Bs.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...(be=(un=(st=e==null?void 0:e.externalWallets)==null?void 0:st.coinbaseWallet)==null?void 0:un.config)==null?void 0:be.preference},...(me=(_e=e==null?void 0:e.externalWallets)==null?void 0:_e.coinbaseWallet)==null?void 0:me.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...(at=(Be=e==null?void 0:e.externalWallets)==null?void 0:Be.baseAccount)==null?void 0:at.config,preference:{...(De=(Ve=(Xe=e==null?void 0:e.externalWallets)==null?void 0:Xe.baseAccount)==null?void 0:Ve.config)==null?void 0:De.preference,telemetry:!1}}},walletConnect:{enabled:O},solana:{connectors:(At=(Et=e==null?void 0:e.externalWallets)==null?void 0:Et.solana)==null?void 0:At.connectors},disableAllExternalWallets:((Kt=e==null?void 0:e.externalWallets)==null?void 0:Kt.disableAllExternalWallets)??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!j&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:j?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:((Ae=e==null?void 0:e.embeddedWallets)==null?void 0:Ae.priceDisplay)??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:((Fr=(Cn=e==null?void 0:e.embeddedWallets)==null?void 0:Cn.ethereum)==null?void 0:Fr.createOnLogin)??W},solana:{createOnLogin:((Pi=(Ur=e==null?void 0:e.embeddedWallets)==null?void 0:Ur.solana)==null?void 0:Pi.createOnLogin)??Z},disableAutomaticMigration:((P=e==null?void 0:e.embeddedWallets)==null?void 0:P.disableAutomaticMigration)??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:((R=e==null?void 0:e.embeddedWallets)==null?void 0:R.showWalletUIs)??t.enforce_wallet_uis??!0,extendedCalldataDecoding:((K=e==null?void 0:e.embeddedWallets)==null?void 0:K.extendedCalldataDecoding)??!1,transactionScanning:{enabled:((J=(H=e==null?void 0:e.embeddedWallets)==null?void 0:H.transactionScanning)==null?void 0:J.enabled)??!1,domain:((le=(X=e==null?void 0:e.embeddedWallets)==null?void 0:X.transactionScanning)==null?void 0:le.domain)??r??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:((ce=e==null?void 0:e.mfa)==null?void 0:ce.noPromptOnMfaRequired)??!1},passkeys:{shouldUnlinkOnUnenrollMfa:(Qe=e==null?void 0:e.passkeys)==null?void 0:Qe.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:(it=e==null?void 0:e.passkeys)==null?void 0:it.shouldUnenrollMfaOnUnlink},customAuth:j?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:z,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!(e!=null&&e.headless),render:{standalone:((dt=e==null?void 0:e._render)==null?void 0:dt.standalone)??Bs._render.standalone},fundingConfig:ie,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??Bs.fundingMethodConfig,moonpay:{...((ft=e==null?void 0:e.fundingMethodConfig)==null?void 0:ft.moonpay)??Bs.fundingMethodConfig.moonpay,useSandbox:((Ne=e==null?void 0:e.fundingMethodConfig)==null?void 0:Ne.moonpay.useSandbox)??Bs.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e==null?void 0:e.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":((je=(Ze=e==null?void 0:e.solana)==null?void 0:Ze.rpcs)==null?void 0:je["solana:mainnet"])??null,"solana:devnet":((Ke=(He=e==null?void 0:e.solana)==null?void 0:He.rpcs)==null?void 0:Ke["solana:devnet"])??null,"solana:testnet":((kt=(pt=e==null?void 0:e.solana)==null?void 0:pt.rpcs)==null?void 0:kt["solana:testnet"])??null}}}const t$={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1};let Yw=y.createContext({appConfig:e$(t$,void 0,!1),isServerConfigLoaded:!1});const lle=({children:t,client:e,legacyClient:n,clientConfig:r,appClientId:i})=>{let[s,a]=y.useState(null),o=y.useMemo((()=>e$(s??t$,r,!!s,typeof window<"u"?window.location.origin:void 0,i)),[s,r,i]);return y.useEffect((()=>{if(!s)return;let l=(function(h){var v,C;if(!h)return{};let{appearance:p,supportedChains:f,defaultChain:g,externalWallets:m,...w}=h;return{...w,...f?{supportedChains:f.map((_=>_.id))}:void 0,...g?{defaultChain:g.id}:void 0,...m?{walletConnect:m.walletConnect?{enabled:m.walletConnect.enabled}:void 0,coinbaseWallet:m.coinbaseWallet,solana:{connectors:(C=(v=m.solana)==null?void 0:v.connectors)==null?void 0:C.get().map((_=>_.walletClientType))}}:void 0}})(r),d=(function(h,p=0){let f=3735928559^p,g=1103547991^p;for(let m,w=0;w<h.length;w++)f=Math.imul(f^(m=h.charCodeAt(w)),2654435761),g=Math.imul(g^m,1597334677);return f=Math.imul(f^f>>>16,2246822507)^Math.imul(g^g>>>13,3266489909),4294967296*(2097151&(g=Math.imul(g^g>>>16,2246822507)^Math.imul(f^f>>>13,3266489909)))+(f>>>0)})(JSON.stringify(l)).toString(),u=`privy:sent:${s.id}:${d}`;localStorage.getItem(u)||(n.createAnalyticsEvent({eventName:"sdk_initialize",payload:l}),localStorage.setItem(u,"t"))}),[r,s]),y.useEffect((()=>{s||(async()=>{try{await e.initialize();let l=e.app.getConfig();l.custom_api_url&&n.updateApiUrl(l.custom_api_url),a(l)}catch(l){console.warn("Error generating app config: ",l)}})()}),[]),c.jsx(Yw.Provider,{value:{appConfig:o,isServerConfigLoaded:!!s},children:t})},Re=()=>{let{appConfig:t}=y.useContext(Yw);return t},n$=()=>{let{isServerConfigLoaded:t}=y.useContext(Yw);return t},cle=({style:t,...e})=>{let n=Re();return c.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[c.jsx("rect",{width:"28",height:"28",rx:"3",fill:(n==null?void 0:n.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),c.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:c.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0_1765_9946",children:c.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},r$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class ic extends sl{async initialize(){var n,r,i,s,a;let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&((r=(n=this.walletProvider)==null?void 0:n.session)!=null&&r.peer.metadata.url&&(this.walletEntry=b1((s=(i=this.walletProvider)==null?void 0:i.session)==null?void 0:s.peer.metadata.url),this.walletClientType=((a=this.walletEntry)==null?void 0:a.slug)||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var n,r,i,s,a,o,l;let e=(i=(r=(n=this.walletProvider)==null?void 0:n.session)==null?void 0:r.peer.metadata.icons)==null?void 0:i[0];return{name:Yoe(((a=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:a.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:r$,id:((l=(o=this.walletProvider)==null?void 0:o.session)==null?void 0:l.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,(function(){try{localStorage.removeItem(g1)}catch{}})(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,n)=>{(async()=>{var s,a,o,l,d,u;let r="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(r=i[0]),!r||r==="")throw new Jt("Unable to retrieve address");(o=(a=this.walletProvider)==null?void 0:a.session)!=null&&o.peer.metadata.url&&(this.walletEntry=b1((d=(l=this.walletProvider)==null?void 0:l.session)==null?void 0:d.peer.metadata.url),this.walletClientType=((u=this.walletEntry)==null?void 0:u.slug)||"unknown",this.proxyProvider.rpcTimeoutDuration=qw(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch((r=>{n(r?to(r):new Jt("Unknown error during connection"))}))}))}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let a=Joe(s.id,this.chains,this.rpcConfig,this.privyAppId);a&&(e[s.id]=a)}let n=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map((s=>s.id)),i=await Zne.init({projectId:this.walletConnectCloudProjectId,chains:n,optionalChains:r,optionalEvents:W_,optionalMethods:B_,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",(s=>{var a;if(i.signer.abortPairingAttempt(),(function(){try{localStorage.removeItem(g1)}catch{}})(),!this.showPrivyQrModal)throw new Jt("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(It.isMobile&&this.walletEntry){let{redirect:o,href:l}=(function(u,h){let p=Ck(h);if(p.deepLink)return Ek(p.deepLink,u);if(p.universalLink)return Uw(p.universalLink,u);throw new G(`Unsupported wallet ${h.id}`)})(s,this.walletEntry);kk(o,"_self"),(function({href:u,name:h}){try{localStorage.setItem(g1,JSON.stringify({href:u,name:h}))}catch{}})({href:l,name:((a=this.walletEntry.metadata)==null?void 0:a.shortName)||this.walletEntry.name});let d=z8(s,this.walletEntry);return this.redirectUri=o,this.fallbackUniversalRedirectUri=d==null?void 0:d.redirect,this.showPrivyQrModal({native:o,universal:o})}if(this.redirectUri=void 0,this.walletEntry){let o=z8(s,this.walletEntry);this.fallbackUniversalRedirectUri=o==null?void 0:o.redirect}this.showPrivyQrModal({native:s,universal:void 0})})),i.on("connect",(()=>{var s,a,o;(s=i.session)!=null&&s.peer.metadata.url&&(this.walletEntry=b1((a=i.session)==null?void 0:a.peer.metadata.url),this.walletClientType=((o=this.walletEntry)==null?void 0:o.slug)||"unknown")})),i}async enableProvider(){var e,n;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((n=this.walletProvider)==null?void 0:n.enable())}setWalletEntry(e,n){this.walletEntry=e,this.showPrivyQrModal=n}constructor({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:a,privyAppName:o,walletClientType:l}){super(l||"unknown",r,i,n),this.connectorType="wallet_connect_v2",this.privyAppId=a,this.privyAppName=o,this.walletConnectCloudProjectId=e,this.rpcConfig=n,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new al(void 0,this.rpcTimeoutDuration),l&&(this.walletEntry=(d=>zu.getState().listings.find((({slug:u})=>zp(u)===zp(d))))(l),this.walletClientType=l)}}function dle({src:t,...e}){return c.jsx("img",{src:t,...e,style:{display:"none"}})}const i$=y.createContext({currentScreen:null,lastScreen:null,navigate:se,navigateBack:se,resetNavigation:se,setModalData:se,onUserCloseViaDialogOrKeybindRef:void 0}),ule=t=>{var o;let e=Re(),n=t.authenticated,[r,i]=y.useState(t.initialScreen);y.useEffect((()=>{n||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)}),[n]);let s=y.useRef(null);y.useEffect((()=>{t.open||(s.current=null)}),[t.open]),y.useEffect((()=>{s.current=null}),[t.initialScreen]);let a={data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:r,navigate:(l,d=!0)=>{t.setInitialScreen(l),d&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(r)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return c.jsxs(i$.Provider,{value:a,children:[(typeof e.appearance.logo=="string"||((o=e.appearance.logo)==null?void 0:o.type)==="img")&&c.jsx(dle,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},Le=()=>y.useContext(i$),hle={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},s$=y.createContext(void 0);let a$=()=>y.useContext(s$);function Lc(t,e){if(!e)return;let n=a$().current[t];return y.useEffect((()=>{var r;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(r=n[i])==null||r.push(s);return()=>{var i;for(let[s,a]of Object.entries(e))Object.prototype.hasOwnProperty.call(n,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),n[s]=(i=n[s])==null?void 0:i.filter((o=>o!==a))}}),[e])}function ue(t,e,n,...r){for(let i of t.current[e][n])i(...r)}function ol(){let t=a$();return(e,n,...r)=>ue(t,e,n,...r)}const bc=F.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),ple=F.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),Fy=F.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),o$=F(Fy).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],(t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0));let fle=Ln(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const gle=F.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),cn=F.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],fle),Ki=F.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],(t=>t.$fullSize?"0":"4px"),(t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)")),xc=F.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],(t=>t.$if?"display: none;":"")),mle=F.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],(t=>t.$withPadding?"64px 0px":"0px")),yle=F.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function wle(t){return c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:c.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:c.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let Q8=F.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function Zw({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:n}},alwaysShowImplicitConsent:r}){let i=!(!t||!e);return n&&!r||!e&&!t?c.jsx(Q8,{}):c.jsxs(Q8,{children:["By logging in I agree to the"," ",e&&c.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&c.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const jt=({className:t})=>{let{appearance:e}=Re();return c.jsx(xn,{className:t,children:e.footerLogo??c.jsx(vle,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:c.jsx(wle,{color:"currentColor",height:13,width:150})})})};let vle=F.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const xn=F.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),l$=({success:t,fail:e})=>c.jsxs(ble,{children:[c.jsx(X8,{children:c.jsx(Jw,{className:t?"success":e?"fail":""})}),c.jsx(X8,{children:c.jsx(ki,{className:t?"success":e?"fail":""})})]});let X8=F.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),ble=F.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const ki=F.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],(t=>t.color??"var(--privy-color-icon-subtle)")),Jw=F(ki).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],(t=>t.color??"var(--privy-color-border-default)"),(t=>t.color??"var(--privy-color-border-default)")),ro=t=>c.jsx(xle,{color:t.color||"var(--privy-color-foreground-3)"});let xle=F(ki).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const Vo=({variant:t="primary",size:e="lg",children:n,success:r,...i})=>{switch(t){case"secondary":return c.jsx(Xi,{size:e,...i,children:n});case"error":return c.jsx(Xi,{$warn:!0,size:e,...i,children:n});case"muted":return c.jsx(Ele,{size:e,...i,children:n});default:return c.jsx(Bt,{size:e,success:r,...i,children:n})}},rg=F.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],(({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)"),(({$size:t})=>t==="sm"?"28px":"48px"),(({$size:t})=>t==="sm"?"10px":"16px")),Bt=({children:t,loading:e,disabled:n,success:r,size:i="lg",loadingText:s="Loading...",as:a,onClick:o,...l})=>{let d=a==="a",u=!(!e&&!n);return c.jsx(_le,{as:a,disabled:d?void 0:u,"aria-disabled":d?u:void 0,$success:r,$size:i,onClick:h=>{d&&u?h.preventDefault():o==null||o(h)},...l,children:e?c.jsxs(c.Fragment,{children:[c.jsx(ro,{}),s?c.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},qp=({children:t,loading:e,disabled:n,...r})=>c.jsx(Cle,{disabled:n,...r,children:e?c.jsx(ro,{color:"var(--privy-color-foreground-accent)"}):t});let Cle=F(rg).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),_le=F(rg).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.disabled&&Ln(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const Xi=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:a,...o})=>{let l=s==="a",d=!(!e&&!n);return c.jsx(kle,{as:s,disabled:l?void 0:d,"aria-disabled":l?d:void 0,$size:r,onClick:u=>{l&&d?u.preventDefault():a==null||a(u)},...o,children:e?c.jsxs(c.Fragment,{children:[c.jsx(ro,{}),i?c.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},Ele=({children:t,loading:e,disabled:n,size:r="lg",loadingText:i="Loading...",as:s,onClick:a,...o})=>{let l=s==="a",d=!(!e&&!n);return c.jsx($le,{as:s,disabled:l?void 0:d,"aria-disabled":l?d:void 0,$size:r,onClick:u=>{l&&d?u.preventDefault():a==null||a(u)},...o,children:e?c.jsxs(c.Fragment,{children:[c.jsx(ro,{}),i?c.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let kle=F(rg).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)"),(t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)"),(t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.disabled&&Ln(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]))),$le=F(rg).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.disabled&&Ln(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const ig=({children:t,onClick:e,disabled:n,isSubmitting:r,...i})=>c.jsxs(Ile,{$isSubmitting:r,onClick:e,disabled:n,...i,children:[c.jsx("span",{children:t}),c.jsx("span",{children:c.jsx(ro,{})})]});let Ile=F.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],(t=>t.$isSubmitting?0:1),(t=>t.$isSubmitting?1:0));const Sle=({backFn:t})=>c.jsx("div",{children:c.jsx(Qw,{onClick:t,children:c.jsx(PU,{height:"16px",width:"16px",strokeWidth:2})})}),Ale=({infoFn:t})=>c.jsx("div",{children:c.jsx(Ple,{"aria-label":"info",onClick:t,children:c.jsx(Jl,{height:"22px",width:"22px",strokeWidth:2})})}),Tle=t=>c.jsx("div",{children:c.jsx(Qw,{"aria-label":"close modal",onClick:t.onClose,children:c.jsx(RU,{height:"16px",width:"16px",strokeWidth:2})})}),ut=({backFn:t,infoFn:e,onClose:n,title:r,closeable:i=!0,className:s})=>{let{closePrivyModal:a}=Se(),o=Re();return c.jsxs(Dle,{className:s,children:[c.jsxs(Nle,{children:[t&&c.jsx(Sle,{backFn:t}),e&&c.jsx(Ale,{infoFn:e})]}),r&&c.jsx(Ole,{id:"privy-dialog-title",children:r}),c.jsx(jle,{children:!o.render.standalone&&i&&c.jsx(Tle,{onClose:n||(()=>a())})})]})};let Qw=F.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),Ple=F(Qw).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),Dle=F.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),Nle=F.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),jle=F.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),Ole=F.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const Fc=({size:t,centerIcon:e})=>c.jsx(Rle,{$size:t,children:c.jsxs(Mle,{children:[c.jsx(Fle,{}),c.jsx(Ule,{}),e?c.jsx(Lle,{children:e}):null]})});let Rle=F.div.withConfig({displayName:"LoadingContainer",componentId:"sc-ebc93df8-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],(t=>t.$size?t.$size:"96px")),Mle=F.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-ebc93df8-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),Lle=F.div.withConfig({displayName:"CenterIconContainer",componentId:"sc-ebc93df8-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;svg,img{width:calc(var(--spinner-size) * 0.4);height:calc(var(--spinner-size) * 0.4);border-radius:var(--privy-border-radius-full);}"]),Fle=F.div.withConfig({displayName:"CircleFixed",componentId:"sc-ebc93df8-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),Ule=F.div.withConfig({displayName:"CircleRotate",componentId:"sc-ebc93df8-4"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const Ble=F.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),Wle=F.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),zle=F.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),qle=F(ut).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),Hle=F.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],(({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0)),Vle=F.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let Kle=F.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),Gle=F.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),Yle=F.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),Zle=F.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),e6=F.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}})),Jle=F.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),Qle=F.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const Ft=({children:t,...e})=>c.jsx(Ble,{children:c.jsx(Wle,{...e,children:t})});let Xle=F.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),ece=F(jt).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),tce=F.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],(({pct:t})=>t)),nce=({step:t})=>t?c.jsx(Xle,{children:c.jsx(tce,{pct:Math.min(100,t.current/t.total*100)})}):null;Ft.Header=({title:t,subtitle:e,icon:n,iconVariant:r,iconLoadingStatus:i,showBack:s,onBack:a,showInfo:o,onInfo:l,showClose:d,onClose:u,step:h,...p})=>c.jsxs(zle,{...p,children:[c.jsx(qle,{backFn:s?a:void 0,infoFn:o?l:void 0,onClose:d?u:void 0,closeable:d}),(n||r||t||e)&&c.jsxs(Kle,{children:[n||r?c.jsx(Ft.Icon,{icon:n,variant:r,loadingStatus:i}):null,c.jsxs(Gle,{children:[t&&c.jsx(Yle,{children:t}),e&&c.jsx(Zle,{children:e})]})]}),h&&c.jsx(nce,{step:h})]}),Ft.Body=Ie.forwardRef((({children:t,...e},n)=>c.jsx(Hle,{ref:n,...e,children:t}))),Ft.Body.displayName="Screen.Body",Ft.Footer=({children:t,...e})=>c.jsx(Vle,{...e,children:t}),Ft.Actions=({children:t,...e})=>c.jsx(rce,{...e,children:t}),Ft.HelpText=({children:t,...e})=>c.jsx(ice,{...e,children:t}),Ft.Watermark=()=>c.jsx(ece,{}),Ft.Icon=({icon:t,variant:e="subtle",loadingStatus:n})=>e==="logo"&&t?c.jsx(Jle,typeof t=="string"?{children:c.jsx("img",{src:t,alt:""})}:Ie.isValidElement(t)?{children:t}:{children:Ie.createElement(t)}):e==="loading"?t?c.jsx(Qle,{children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[c.jsx(l$,{success:n==null?void 0:n.success,fail:n==null?void 0:n.fail}),typeof t=="string"?c.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):Ie.isValidElement(t)?Ie.cloneElement(t,{style:{width:"38px",height:"38px"}}):Ie.createElement(t,{style:{width:"38px",height:"38px"}})]})}):c.jsx(e6,{$variant:e,children:c.jsx(Fc,{size:"64px"})}):c.jsx(e6,{$variant:e,children:t&&(typeof t=="string"?c.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):Ie.isValidElement(t)?t:Ie.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let rce=F.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),ice=F.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const vt=({primaryCta:t,secondaryCta:e,helpText:n,watermark:r=!0,children:i,...s})=>{let a=t||e?c.jsxs(c.Fragment,{children:[t&&(()=>{let{label:o,...l}=t,d=l.variant||"primary";return c.jsx(Vo,{...l,variant:d,style:{width:"100%",...l.style},children:o})})(),e&&(()=>{let{label:o,...l}=e,d=l.variant||"secondary";return c.jsx(Vo,{...l,variant:d,style:{width:"100%",...l.style},children:o})})()]}):null;return c.jsxs(Ft,{id:s.id,className:s.className,children:[c.jsx(Ft.Header,{...s}),i?c.jsx(Ft.Body,{children:i}):null,n||a||r?c.jsxs(Ft.Footer,{children:[n?c.jsx(Ft.HelpText,{children:n}):null,a?c.jsx(Ft.Actions,{children:a}):null,r?c.jsx(Ft.Watermark,{}):null]}):null]})},C1=({label:t,children:e,valueStyles:n})=>c.jsxs(sce,{children:[c.jsx("div",{children:t}),c.jsx(ace,{style:{...n},children:e})]});let sce=F.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),ace=F.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),oce=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),c$=t=>oce.format(t);const d$=(t,e)=>{let n=c$(e*parseFloat(t));return n!=="$0.00"?n:"<$0.01"},jo=(t,e)=>{let n=c$(e*parseFloat(rf(t)));return n==="$0.00"?"<$0.01":n},Gi=(t,e,n=6,r=!1)=>`${u$(t,n,r)} ${e}`,u$=(t,e=6,n=!1)=>{let r=parseFloat(rf(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return n?r:`${r==="0"?"<0.001":r}`},Xw=t=>t.reduce(((e,n)=>e+n),0n),lce=(t,e)=>{let{chains:n}=Se(),r=`https://etherscan.io/address/${e}`,i=`${((s,a)=>{var d;let o=Number(s),l=a.find((u=>u.id===o));if(!l)throw new Jt(`Unsupported chainId ${s}`,4901);return(d=l.blockExplorers)==null?void 0:d.default.url})(t,n)}/address/${e}`;if(!i)return r;try{new URL(i)}catch{return r}return i},cce=1e9,dce={"solana:mainnet":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:devnet":{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:testnet":{}};function _1(t,e){let n=parseFloat(t.toString())/cce,r=uce.format(e*n);return r==="$0.00"?"<$0.01":r}let uce=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function Jh(t,e=6,n=!1,r=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=r?"":" SOL";return n?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}const hce=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=Xw(t),i=e?jo(r,e):void 0,s=Gi(r,n);return c.jsx(p$,{children:i||s})},h$=({weiQuantities:t,tokenPrice:e,tokenSymbol:n})=>{let r=Xw(t),i=e?jo(r,e):void 0,s=Gi(r,n);return c.jsx(p$,{children:i?c.jsxs(c.Fragment,{children:[c.jsx(pce,{children:"USD"}),i==="<$0.01"?c.jsxs(gce,{children:[c.jsx(fce,{children:"<"}),"$0.01"]}):i]}):s})};let p$=F.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),pce=F.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),fce=F.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),gce=F.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const f$=F.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),g$=F.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),mce=F.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),yce=F(g$).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),sg=F(g$).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),ag=F.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),ev=F.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),wce=F.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),Rs=F.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),ss=F.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),vce=F.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],(t=>t.height??"12")),bce=({gas:t,tokenPrice:e,tokenSymbol:n})=>c.jsxs(ag,{style:{paddingBottom:"12px"},children:[c.jsxs(m$,{children:[c.jsx(w$,{children:"Est. Fees"}),c.jsx("div",{children:c.jsx(h$,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:n})})]}),e&&c.jsx(y$,{children:`${Gi(BigInt(t),n)}`})]}),xce=({value:t,gas:e,tokenPrice:n,tokenSymbol:r})=>{let i=BigInt(t??0)+BigInt(e);return c.jsxs(ag,{children:[c.jsxs(m$,{children:[c.jsx(w$,{children:"Total (including fees)"}),c.jsx("div",{children:c.jsx(h$,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:n,tokenSymbol:r})})]}),n&&c.jsx(y$,{children:Gi(i,r)})]})};let m$=F.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),y$=F.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),w$=F.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const qu=y.createContext(void 0),og=y.createContext(void 0),Cce=({defaultValue:t,children:e})=>{let[n,r]=y.useState(t||null);return c.jsx(qu.Provider,{value:{activePanel:n,togglePanel:i=>{r(n===i?null:i)}},children:c.jsx(Ice,{children:e})})},_ce=({value:t,children:e})=>{let{activePanel:n,togglePanel:r}=y.useContext(qu),i=n===t;return c.jsx(og.Provider,{value:{onToggle:()=>r(t),value:t},children:c.jsx(Pce,{isActive:i?"true":"false","data-open":String(i),children:e})})},Ece=({children:t})=>{let{activePanel:e}=y.useContext(qu),{onToggle:n,value:r}=y.useContext(og),i=e===r;return c.jsxs(c.Fragment,{children:[c.jsxs(Sce,{onClick:n,"data-open":String(i),children:[c.jsx(Tce,{children:t}),c.jsx(Nce,{isactive:i?"true":"false",children:c.jsx(Z2,{height:"16px",width:"16px",strokeWidth:"2"})})]}),c.jsx(Ace,{})]})},kce=({children:t})=>{let{activePanel:e}=y.useContext(qu),{value:n}=y.useContext(og);return c.jsx(Dce,{"data-open":String(e===n),children:c.jsx(v$,{children:t})})},$ce=({children:t})=>{let{activePanel:e}=y.useContext(qu),{value:n}=y.useContext(og);return c.jsx(v$,{children:typeof t=="function"?t({isActive:e===n}):t})};let Ice=F.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),Sce=F.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),Ace=F.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),Tce=F.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),Pce=F.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),Dce=F.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),v$=F.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),Nce=F.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],(t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)"));function jce(t,e){return`https://explorer.solana.com/account/${t}?chain=${e}`}const t6=t=>c.jsx(Oce,{href:t.chainType==="ethereum"?lce(t.chainId,t.walletAddress):jce(t.walletAddress,t.chainId),target:"_blank",children:fr(t.walletAddress)});let Oce=F.a.withConfig({displayName:"StyledLink",componentId:"sc-dd6c0f9f-0"})(["&:hover{text-decoration:underline;}"]);const b$=({from:t,to:e,txn:n,transactionInfo:r,tokenPrice:i,gas:s,tokenSymbol:a})=>{let o=BigInt((n==null?void 0:n.value)||0);return c.jsx(Cce,{...Re().render.standalone?{defaultValue:"details"}:{},children:c.jsxs(_ce,{value:"details",children:[c.jsx(Ece,{children:c.jsxs(Rce,{children:[c.jsx("div",{children:(r==null?void 0:r.title)||"Details"}),c.jsx(Mce,{children:c.jsx(hce,{weiQuantities:[o],tokenPrice:i,tokenSymbol:a})})]})}),c.jsxs(kce,{children:[c.jsx(C1,{label:"From",children:c.jsx(t6,{walletAddress:t,chainId:n.chainId||1,chainType:"ethereum"})}),c.jsx(C1,{label:"To",children:c.jsx(t6,{walletAddress:e,chainId:n.chainId||1,chainType:"ethereum"})}),r&&r.action&&c.jsx(C1,{label:"Action",children:r.action}),s&&c.jsx(bce,{value:n.value,gas:s,tokenPrice:i,tokenSymbol:a})]}),c.jsx($ce,{children:({isActive:l})=>c.jsx(xce,{value:n.value,displayFee:l,gas:s||"0x0",tokenPrice:i,tokenSymbol:a})})]})})};let Rce=F.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-2eff9f5c-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),Mce=F.div.withConfig({displayName:"TotalText",componentId:"sc-2eff9f5c-1"})(["flex-shrink:0;padding-left:8px;"]);const Lce=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:n}=Se(),[r,i]=y.useState(!0),[s,a]=y.useState(void 0),[o,l]=y.useState(void 0);return y.useEffect((()=>{(async()=>{if(e&&t)try{i(!0);let d=await n();d?l(d):a(Error("Unable to fetch SOL price"))}catch(d){a(d)}finally{i(!1)}else i(!1)})()}),[]),{solPrice:o,isSolPriceLoading:r,solPriceError:s}};function Hu(t){let{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}=(o=>{let{showFiatPrices:l,getUsdTokenPrice:d,chains:u}=Se(),[h,p]=y.useState(!0),[f,g]=y.useState(void 0),[m,w]=y.useState(void 0);return y.useEffect((()=>{o||(o=1);let v=j2(u).find((C=>C.id===Number(o)));(async()=>{if(l){if(!v)return p(!1),void g(Error(`Unable to fetch token price on chain id ${o}`));try{p(!0);let C=await d(v);C?w(C):g(Error(`Unable to fetch token price on chain id ${v.id}`))}catch(C){g(C)}finally{p(!1)}}else p(!1)})()}),[o]),{tokenPrice:m,isTokenPriceLoading:h,tokenPriceError:f}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:a}=Lce({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:a}:{tokenPrice:e,isTokenPriceLoading:n,tokenPriceError:r}}const x$=y.createContext(null);function ll(){let t=y.useContext(x$);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function Hp(t,e,n,r){let i=lp(t),s=await(async()=>r?await r():await e.prepareTransactionRequest({...i,account:{address:n,type:"json-rpc"}}))();return{...s,type:yC[s.type]}}let C$=F.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const Fce=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];let pn=class extends Error{constructor(e,n){super(n),this.type=e}};function Uc(t){let e=t.type;return typeof e=="string"&&Fce.includes(e)}function gu(t){return Uc(t)&&t.type==="wallet_not_on_device"}function tv(t){return!!Uc(t)&&t.type==="mfa_timeout"}function nv(t){return!!Uc(t)&&t.type==="missing_or_invalid_mfa"}function Uce(t){return!!Uc(t)&&t.type==="mfa_verification_max_attempts_reached"}function _$(t){return!(!Uc(t)||!t.message.includes("code 429"))}function E$(t){return!!(function(e){let n=e.type;return typeof n=="string"&&n==="client_error"})(t)&&t.message==="MFA canceled"}const lg=()=>window.open(void 0,void 0,Bce({w:440,h:680}));let Bce=({w:t,h:e})=>{let n=window.screenLeft!==void 0?window.screenLeft:window.screenX,r=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+n},top=${(s-e)/2/(s/window.screen.availHeight)+r}`};const Wce=({title:t,description:e,children:n,...r})=>c.jsx(k$,{...r,children:c.jsxs(c.Fragment,{children:[c.jsx("h3",{children:t}),typeof e=="string"?c.jsx("p",{children:e}):e,n]})}),es=({title:t,description:e,icon:n,children:r,...i})=>c.jsxs(zce,{...i,children:[n||null,c.jsx("h3",{children:t}),e&&typeof e=="string"?c.jsx("p",{children:e}):e,r]});let k$=F.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),zce=F(k$).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const $$=t=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[c.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[c.jsx("stop",{stopColor:"#3E82F4"}),c.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),I$=({style:t,...e})=>c.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[c.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[c.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),c.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),c.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),c.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),c.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),c.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0_2115_829",children:c.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function n6({url:t,popup:e,provider:n}){return e.location=t,new Promise(((r,i)=>{function s(){e==null||e.close(),window.removeEventListener("message",a)}function a(o){o.data&&(o.data.type==="PRIVY_OAUTH_RESPONSE"&&o.data.stateCode&&o.data.authorizationCode&&(r(o.data),s()),o.origin==="https://cdn.apple-cloudkit.com"&&o.data.ckSession&&(r({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:o.data.ckSession}),s()),o.data.type==="PRIVY_OAUTH_ERROR"&&(i(o.data.error),s()))}window.addEventListener("message",a)}))}async function qce({api:t,provider:e,stateCode:n,codeVerifier:r,authorizationCode:i}){if(!i||!n)throw new G("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new G("User denied confirmation during OAuth flow");try{return(await t.post(vL,{authorization_code:i,state_code:n,code_verifier:r,provider:e})).access_token}catch(s){let a=yt(s);throw a.privyErrorCode?new G(a.message||"Invalid code during OAuth flow.",void 0,a.privyErrorCode):a.message==="User denied confirmation during OAuth flow"?new G("Invalid code during oauth flow.",void 0,Q.OAUTH_USER_DENIED):new G("Invalid code during OAuth flow.",void 0,Q.UNKNOWN_AUTH_ERROR)}}async function r6({api:t,provider:e}){let n=eg(),r=Ww(),i=await zw(n);try{return e==="icloud"?{url:(await t.post(wL,{client_type:"web"})).url}:{url:(await t.post(yL,{redirect_to:window.location.href,code_challenge:i,state_code:r})).url,codeVerifier:n,stateCode:r,provider:e}}catch(s){throw yt(s)}}const rv=(t,{chainType:e,walletIndex:n}={})=>(t==null?void 0:t.linkedAccounts.filter((r=>!(r.type!=="wallet"||r.walletClientType!=="privy"||n!==void 0&&r.walletIndex!==n||e!==void 0&&r.chainType!==e))))??[],S$=async({user:t,accessToken:e,proxy:n,refreshSessionAndUser:r,privy:i,appConfig:s,recoverEmbeddedWallet:a,setUser:o,walletIndex:l,chainType:d,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:p})=>{if(l===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await h0(i,{request:{chain_type:d}});else if(d==="ethereum"){let m=ff(t);m&&await a({address:m.address}),await n.create({accessToken:e,solanaAddress:m==null?void 0:m.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:p})}else{if(d!=="solana")throw Error("Invalid input to create wallet");{let m=ys(t);m&&await a({address:m.address}),await n.createSolana({accessToken:e,ethereumAddress:m==null?void 0:m.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:p})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await h0(i,{request:{chain_type:d}});else{let{entropyId:m,entropyIdVerifier:w}=Ui(t);await a(),await n.addWallet({accessToken:e,entropyId:m,entropyIdVerifier:w,chainType:d,hdWalletIndex:l})}let f=await r(),g=rv(f,{chainType:d,walletIndex:l})[0];return o(f),{user:f,account:g}},iv=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:n,refreshSessionAndUser:r,privy:i,client:s}=Se(),a=Re();return{create:async({walletIndex:o,chainType:l,latestUser:d,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:p})=>{let f=d;f||(f=await r());let g=await s.getAccessToken();if(!f||!g||!t)throw Error("User must be authenticated before creating a Privy wallet");return await S$({appConfig:a,user:f,refreshSessionAndUser:r,privy:i,accessToken:g,proxy:t,recoverEmbeddedWallet:e,setUser:n,walletIndex:o,chainType:l,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:p})}}},Hce=({title:t,description:e,onClose:n})=>c.jsx(vt,{title:t,subtitle:e,icon:ku,iconVariant:"success",watermark:!0,onBack:n}),sv={component:()=>{let{user:t}=wt(),{closePrivyModal:e,isNewUserThisSession:n,updateWallets:r}=Se(),{data:i,onUserCloseViaDialogOrKeybindRef:s}=Le(),a=Re(),{onSuccess:o,onFailure:l,callAuthOnSuccessOnClose:d}=i.createWallet,u=()=>{let h=ys(t)??ff(t);t&&h?(r(),o({user:t,account:h})):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:d})};return y.useEffect((()=>{let h=setTimeout(u,2500);return()=>clearTimeout(h)}),[]),s.current=u,c.jsx(Hce,{title:n?"Welcome"+(a!=null&&a.name?` to ${a==null?void 0:a.name}`:""):"All set!",description:n?"You've successfully created an account.":"Your account is secured.",onClose:u})}},Uy=F.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),Vce=F.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let i6={"google-drive":{name:"Google Drive",component:I$},icloud:{name:"iCloud",component:$$}};const A$={component:()=>{var $;let{logout:t}=wt(),{navigate:e,setModalData:n,data:r}=Le(),{closePrivyModal:i,createAnalyticsEvent:s}=Se(),{execute:a}=(()=>{let{client:A,walletProxy:N,refreshSessionAndUser:O}=Se(),{data:D}=Le(),{user:M}=wt(),B=ol(),{create:U}=iv();return{execute:async({provider:L,action:T,popup:j,shouldCreateEth:W,shouldCreateSol:Z})=>{var ee,ae;let z,ie;if(!A)throw new G("Missing client");function V(te){if(!te&&A)throw A.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:L}}),new G("Recovery OAuth failed")}switch(L){case"google-drive":{let te,he,{url:xe,codeVerifier:ke,stateCode:Ue}=await r6({api:A.api,provider:L});V(xe);try{let ge=await n6({url:xe,popup:j,provider:L});if(te=ge.stateCode,he=ge.authorizationCode,te!==Ue)throw A.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:L,storedStateCode:Ue??"",returnedStateCode:te??""}}),new G("Unexpected auth flow. This may be a phishing attempt.",void 0,Q.OAUTH_UNEXPECTED)}catch(ge){throw A.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:ge.toString(),provider:L}}),new G("Recovery OAuth failed")}[z,ie]=await Promise.all([A.getAccessToken(),qce({api:A.api,provider:L,codeVerifier:ke,stateCode:te,authorizationCode:he})]);break}case"icloud":{let{url:te}=await r6({api:A.api,provider:L});V(te);let{ckWebAuthToken:he}=await n6({url:te,popup:j,provider:L});ie=he,z=await A.getAccessToken()}}if(!N)throw new G("Cannot connect to wallet proxy");if(!z)throw new G("Unable to authorize user");switch(T){case"recover":{let te=(ee=D==null?void 0:D.recoverWallet)==null?void 0:ee.entropyId,he=(ae=D==null?void 0:D.recoverWallet)==null?void 0:ae.entropyIdVerifier;if(!te||!he)throw new G("Recovery OAuth failed");A.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:te,recoveryMethod:L}}),await N.recover({accessToken:z,entropyId:te,entropyIdVerifier:he,recoveryAccessToken:ie}),A.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:te,recoveryMethod:L}});break}case"create-wallet":{let te;if(A.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),W&&Z)te=await U({recoveryMethod:L,recoveryAccessToken:ie,chainType:"ethereum",walletIndex:0,latestUser:M}),te=await U({chainType:"solana",walletIndex:0,latestUser:te.user});else if(Z)te=await U({recoveryMethod:L,recoveryAccessToken:ie,chainType:"solana",walletIndex:0,latestUser:M});else{if(!W)throw Error("Invalid args to create wallet");te=await U({recoveryMethod:L,recoveryAccessToken:ie,chainType:"ethereum",walletIndex:0,latestUser:M})}if(!te)throw B("createWallet","onError",Q.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");A.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:te.account.address}}),B("createWallet","onSuccess",{wallet:te.account});break}case"set-recovery":{let te=Zi(M);if(!te)throw B("setWalletRecovery","onError",Q.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");A.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:te.address,existingRecoveryMethod:te.recoveryMethod,targetRecoveryMethod:L}});let{entropyId:he,entropyIdVerifier:xe}=Ui(M);await N.setRecovery({accessToken:z,entropyId:he,entropyIdVerifier:xe,recoveryMethod:L,recoveryAccessToken:ie});let ke=Zi(await O());if(!ke)throw B("createWallet","onError",Q.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");A.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:te.address,existingRecoveryMethod:te.recoveryMethod,targetRecoveryMethod:L}}),B("setWalletRecovery","onSuccess",{method:L,wallet:ke});break}default:throw new G("Unsupported recovery action")}}}})(),[o,l]=y.useState(!1),{provider:d,action:u,isInAccountCreateFlow:h,shouldCreateEth:p,shouldCreateSol:f}=r==null?void 0:r.recoveryOAuthStatus,[g,m]=y.useState(void 0),[w,v]=y.useState(u==="create-wallet");if(d==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let C=i6[d].name,_=i6[d].component,E=($=r==null?void 0:r.recoverWallet)==null?void 0:$.onCompleteNavigateTo,x=new yr((async(A="create-wallet")=>(v(!0),new Promise(((N,O)=>{setTimeout((async()=>{try{let D=window.open();await a({provider:d,action:A,popup:D,shouldCreateEth:p,shouldCreateSol:f}),l(!0),N()}catch{m({message:`${A==="recover"?"Recovery":"Back up"} with ${C} unsuccessful`,detail:u==="recover"?`Please verify that you are selecting the ${C} account associated with your backup.`:"",retryable:!0}),O()}}),0)})))));y.useEffect((()=>{u!=="recover"&&x.execute(h?"create-wallet":"set-recovery")}),[]),y.useEffect((()=>{if(!o)return;let A=setTimeout((()=>{h?(n({createWallet:{onSuccess:()=>{},onFailure:N=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:N,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(sv)):i({shouldCallAuthOnSuccess:!1})}),an);return()=>clearTimeout(A)}),[o]);let b=y.useCallback((async()=>{await x.execute("recover"),E?e(E):l(!0)}),[]),k=d==="google-drive"?"Google Drive":"Apple iCloud",S=o&&`Successfully ${u==="recover"?"recovered":"backed up"} with ${k}.`||g&&g.message||`${u==="recover"?"Recovering":"Backing up"} with ${k}...`,I=g?g.detail:"";return c.jsxs(c.Fragment,{children:[c.jsx(ut,{}),w?c.jsx(c.Fragment,{children:c.jsxs(Uy,{children:[c.jsx(es,{title:S,icon:c.jsx(_,{style:{width:"38px",height:"38px"}}),description:I}),g&&(g!=null&&g.retryable)?c.jsx(Bt,{onClick:()=>{Ny(),m(void 0),u==="create-wallet"?x.execute("create-wallet"):b()},disabled:!o&&!(g!=null&&g.retryable),children:"Try again"}):null]})}):c.jsxs(Uy,{children:[c.jsx(es,{title:"Confirm it's really you",icon:c.jsx(_,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${k} where your account is backed up.`}),c.jsxs(Bt,{onClick:b,children:["Confirm with ",k]})]}),c.jsx(jt,{})]})}};let E1=F.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),Kce={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},Gce=({onClose:t})=>c.jsxs(Vce,{children:[c.jsx(es,{title:"Why do I need to secure my account?",icon:c.jsx(Jl,{width:48}),description:c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),c.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),c.jsx(Bt,{onClick:t,children:"Select backup method"})]});const By={component:()=>{let[t,e]=y.useState(!1),{navigate:n,lastScreen:r,navigateBack:i,setModalData:s,data:a,onUserCloseViaDialogOrKeybindRef:o}=Le(),{user:l}=wt(),{embeddedWallets:d}=Re(),{closePrivyModal:u}=Se(),h=Zi(l),p=h===null,{isInAccountCreateFlow:f,isResettingPassword:g,shouldCreateEth:m,shouldCreateSol:w}=a.recoverySelection,v=h&&h.recoveryMethod!=="privy",C=v?c.jsxs("span",{children:["Your account is currently secured using"," ",c.jsx("strong",{children:Kce[(h==null?void 0:h.recoveryMethod)||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function _(x){s({recoveryOAuthStatus:{provider:x,action:p?"create-wallet":"set-recovery",isInAccountCreateFlow:f,shouldCreateEth:m,shouldCreateSol:w}}),n(A$)}function E(){var x,b;(x=a==null?void 0:a.setWalletPassword)==null||x.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:((b=a==null?void 0:a.setWalletPassword)==null?void 0:b.callAuthOnSuccessOnClose)??!1})}return o.current=E,c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:E,backFn:t?()=>e(!1):r?i:void 0,infoFn:r||t?void 0:()=>e(!0)},"header"),t?c.jsx(Gce,{onClose:()=>e(!1)}):c.jsxs(c.Fragment,{children:[c.jsx(es,{title:v?"Update backup method":"Secure your account",icon:c.jsx(_7,{width:48}),description:C}),c.jsx(Uy,{children:d.userOwnedRecoveryOptions.filter((x=>!["icloud","google-drive"].includes((h==null?void 0:h.recoveryMethod)||"")||x!==(h==null?void 0:h.recoveryMethod))).sort().map((x=>{switch(x){case"google-drive":return c.jsxs(cn,{onClick:()=>_("google-drive"),children:[c.jsx(E1,{children:c.jsx(I$,{style:{width:18}})}),"Back up to Google Drive"]},x);case"icloud":return c.jsxs(cn,{onClick:()=>_("icloud"),children:[c.jsx(E1,{children:c.jsx($$,{style:{width:24}})}),"Back up to Apple iCloud"]},x);case"user-passcode":return c.jsxs(cn,{onClick:()=>{n(HI({isCreatingWallet:p,skipSplashScreen:!0}))},children:[c.jsx(E1,{children:c.jsx(sB,{style:{width:18}})}),g?"Reset your":"Set a"," password"]},x);default:return null}}))})]}),c.jsx(jt,{})]})}};let Yce=Ln(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const T$=F.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],Yce,(({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),(({error:t})=>t?"":"capitalize")),cg=F.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),dg=F(Bt).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],(({$hideAnimations:t})=>t&&Ln(["&&{transition:none;}"])));let P$=Ln(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const av=F.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],P$),Zce=F.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],P$),ug=F.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],(({centered:t})=>t?"center":"space-between")),hg=F.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),ov=F.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),Wy=F.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),s6=F(Vo).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),pg=F.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),Jce=F(oB).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),fg=F(uB).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),gg=F(cB).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),Qce=F.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],(({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)")),Xce=({buttonHideAnimations:t,buttonLoading:e,password:n,onSubmit:r,onBack:i})=>{let[s,a]=y.useState(!0),[o,l]=y.useState(!1),[d,u]=y.useState(""),h=n===d;return y.useEffect((()=>{d&&!o&&l(!0)}),[d]),c.jsxs(c.Fragment,{children:[c.jsx(ut,{closeable:!1,backFn:i}),c.jsx(Rs,{}),c.jsxs(cg,{children:[c.jsxs(hg,{children:[c.jsx(Jo,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),c.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),c.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),c.jsxs(ug,{children:[c.jsx(av,{value:d,onChange:p=>u(p.target.value),onKeyUp:p=>{p.key==="Enter"&&r()},onBlur:()=>l(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),c.jsx(pg,{style:{right:"0.75rem"},children:s?c.jsx(fg,{onClick:()=>a(!1)}):c.jsx(gg,{onClick:()=>a(!0)})})]}),c.jsx(T$,{"aria-hidden":!o||h,error:!0,children:"Passwords do not match"})]}),c.jsx(dg,{onClick:r,loading:e,disabled:!h,$hideAnimations:t,children:"Continue"}),c.jsx(ss,{}),c.jsx(jt,{})]})},D$=({className:t,checked:e,color:n="var(--privy-color-accent)",...r})=>c.jsx("label",{children:c.jsxs(ede,{className:t,children:[c.jsx(j$,{checked:e,...r}),c.jsx(tde,{color:n,checked:e,children:c.jsx(N$,{viewBox:"0 0 24 24",children:c.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let ede=F.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),N$=F.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),j$=F.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),tde=F.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],(t=>t.color),(t=>t.checked?t.color:"var(--privy-color-background)"),j$,(t=>t.color),N$,(t=>t.checked?"visible":"hidden"));const nde=({buttonHideAnimations:t,buttonLoading:e,onSubmit:n,onBack:r,config:i})=>{let[s,a]=y.useState(!1);return c.jsxs(c.Fragment,{children:[c.jsx(ut,{closeable:!1,backFn:r}),c.jsx(Rs,{}),c.jsxs(cg,{children:[c.jsxs(hg,{children:[c.jsx(Jo,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),c.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),c.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),c.jsx(ov,{children:c.jsxs(Wy,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:o=>{o.preventDefault(),a((l=>!l))},children:[c.jsx(D$,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),c.jsx(c.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),c.jsxs(rde,{children:[i.initiatedBy==="user"&&c.jsx(Xi,{onClick:i.onCancel,disabled:e,children:"Cancel"}),c.jsx(dg,{onClick:n,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),c.jsx(ss,{}),c.jsx(jt,{})]})};let rde=F.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),ide=/[a-z]/,sde=/[A-Z]/,ade=/[0-9]/,O$="!@#$%^&*()\\-_+.",R$=`a-zA-Z0-9${O$}`,ode=RegExp(`[${O$}]`),lde=RegExp(`[${R$}]`);const cde=RegExp(`^[${R$}]{6,}$`),M$=()=>eB(4,nB);function dde(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function ude(t=""){return(.3*(function(e){if(e.length<8)return 0;let n=0;return ide.test(e)&&(n+=1),sde.test(e)&&(n+=1),ade.test(e)&&(n+=1),ode.test(e)&&(n+=1),Math.max(0,Math.min(1,n/3))})(t)+GU(t)/95)/2}const hde=({buttonHideAnimations:t,buttonLoading:e,password:n="",config:r,isResettingPassword:i,onSubmit:s,onClose:a,onBack:o,onPasswordChange:l,onPasswordGenerate:d})=>{let[u,h]=y.useState(!1),[p,f]=y.useState(!1);y.useEffect((()=>{n&&!p&&f(!0)}),[n]);let g=y.useMemo((()=>p?6>((n==null?void 0:n.length)||0)?"Password must be at least 6 characters":cde.test(n||"")?null:`Invalid characters used ( ${((v="")=>[...new Set(v.split("").filter((C=>!lde.test(C))).map((C=>C.replace(" ","SPACE"))))])(n).join(" ")} )`:null),[n,p]),m=y.useMemo((()=>g?{value:0,label:"Weak"}:(function(v=""){let C=ude(v);return{value:C,label:dde(C)}})(n)),[n,g]),w=y.useMemo((()=>!(n!=null&&n.length)||!!g),[g,n]);return c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:a,closeable:r.initiatedBy==="user",backFn:o}),c.jsx(Rs,{}),c.jsxs(cg,{children:[c.jsxs(hg,{children:[c.jsx(pB,{height:48,width:48,stroke:"var(--privy-color-accent)"}),c.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),c.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),c.jsxs(ug,{children:[c.jsx(av,{value:n,onChange:v=>l(v.target.value),onKeyUp:v=>{v.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),c.jsxs(pg,{style:{width:"3.5rem"},children:[u?c.jsx(fg,{onClick:()=>h(!1)}):c.jsx(gg,{onClick:()=>h(!0)}),c.jsx(Jce,{onClick:d})]})]}),c.jsx(Qce,{value:m.value===0?.01:m.value,label:m.label}),c.jsx(T$,{error:!!g,children:g||`Password Strength: ${p?m.label:"--"}`}),c.jsxs(fde,{children:[c.jsx(pde,{children:c.jsxs(ov,{children:[c.jsxs(Wy,{children:[c.jsx(ru,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),c.jsxs(Wy,{children:[c.jsx(ru,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),c.jsx(dg,{onClick:s,loading:e,disabled:w,$hideAnimations:t,children:"Continue"})]})]}),c.jsx(ss,{}),c.jsx(jt,{})]})};let pde=F(ov).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),fde=F.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const gde=({buttonHideAnimations:t,buttonLoading:e,appName:n,password:r,onSubmit:i,onBack:s})=>{let[a,o]=y.useState(!1),[l,d]=y.useState(!0),u=y.useCallback((()=>{o(!0),r&&navigator.clipboard.writeText(r)}),[r]),h=y.useCallback((()=>{let p=document.createElement("a"),f=n.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),g=new Blob([mde(n,r)],{type:"text/plain"}),m=URL.createObjectURL(g);p.href=m,p.target="_blank",p.download=`${f}-privy-wallet-recovery.txt`,document.body.appendChild(p),p.click(),setTimeout((()=>{p.remove(),URL.revokeObjectURL(m)}),5e3)}),[r]);return c.jsxs(c.Fragment,{children:[c.jsx(ut,{backFn:s,closeable:!1}),c.jsx(Rs,{}),c.jsxs(cg,{children:[c.jsxs(hg,{children:[c.jsx(Jo,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),c.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),c.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),c.jsxs(ug,{centered:!0,children:[c.jsx(Zce,{children:l?"".repeat(r.length):r}),c.jsx(pg,{style:{right:"0.75rem"},children:l?c.jsx(fg,{onClick:()=>d(!1)}):c.jsx(gg,{onClick:()=>d(!0)})})]}),c.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[c.jsx(s6,{onClick:u,children:c.jsxs(c.Fragment,a?{children:[c.jsx(E7,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[c.jsx(vB,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),c.jsxs(s6,{onClick:h,children:[c.jsx(mB,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),c.jsx(dg,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),c.jsx(ss,{}),c.jsx(jt,{})]})};let mde=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const yde=({error:t,onClose:e})=>c.jsxs(c.Fragment,{children:[c.jsx(ut,{closeable:!1}),c.jsx(Rs,{}),c.jsxs(sg,t?{children:[c.jsx(xB,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),c.jsx(es,{title:"Something went wrong",description:t})]}:{children:[c.jsx(ru,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),c.jsx(es,{title:"Success"})]}),c.jsx(Bt,{onClick:e,children:"Close"}),c.jsx(ss,{}),c.jsx(jt,{})]});let wde=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const L$=({onSubmit:t,...e})=>{let{lastScreen:n,navigate:r}=Le(),{send:i,state:s}=(()=>{let[d,u]=y.useReducer(wde,"creating");return{send:u,state:d}})(),a=y.useCallback((async()=>{s==="finalizing"&&await t(),i("next")}),[s,i,t]);y.useEffect((()=>{let d;return s==="done"&&e.config.initiatedBy==="automatic"&&(d=setTimeout((()=>{var u;return(u=e.onClose)==null?void 0:u.call(e)}),an)),()=>{d&&clearTimeout(d)}}),[s,e.config.initiatedBy,e.onClose]);let o=y.useCallback((()=>{i("back")}),[i]),l=y.useCallback((()=>{r(By)}),[n,r]);return s==="creating"?c.jsx(hde,{...e,onSubmit:a,onBack:n===By?l:void 0}):s==="saving"?c.jsx(gde,{...e,onSubmit:a,onBack:o}):s==="confirming"?c.jsx(Xce,{...e,onSubmit:a,onBack:o}):s==="finalizing"?c.jsx(nde,{...e,onSubmit:a,onBack:o}):s==="done"?c.jsx(yde,{...e,onSubmit:a}):null};let vde={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const mg=t=>{let e=vde[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let F$=y.createContext({});const bde=({children:t})=>{let e=Re(),[n,r]=y.useState({});return Lc("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(qe.put(a6(e.id),i.type),i.type==="wallet"?(qe.put(k1(e.id),i.walletClientType),qe.put($1(e.id),i.chainType),r({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(qe.del(k1(e.id)),qe.del($1(e.id)),r({accountType:i.type})))}}),y.useEffect((()=>{if(!e.id)return;let i=qe.get(a6(e.id)),s=qe.get(k1(e.id)),a=qe.get($1(e.id));i&&r(i==="wallet"?{accountType:i,walletClientType:s,chainType:a}:{accountType:i})}),[e.id]),c.jsx(F$.Provider,{value:n,children:t})};let a6=t=>`privy:${t}:recent-login-method`,k1=t=>`privy:${t}:recent-login-wallet-client`,$1=t=>`privy:${t}:recent-login-chain-type`;const io=()=>y.useContext(F$),U$=()=>{var i;let t=Re(),e=(i=t==null?void 0:t.appearance)==null?void 0:i.logo,n=`${t==null?void 0:t.name} logo`,r={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?c.jsx("img",{src:e,alt:n,style:r}):e.type==="svg"||e.type==="img"?Ie.cloneElement(e,{alt:n,style:r}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},xde=t=>{let e=Re();return e!=null&&e.appearance.logo?c.jsx(Cde,{...t,children:c.jsx(U$,{})}):null},Cde=F.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-b210074-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),_de=({name:t,logoUrl:e,size:n="38px"})=>typeof e=="string"?c.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:n,height:n,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):c.jsx("span",{}),Ede=({appId:t})=>{let[e,n]=y.useState(void 0),{startCrossAppAuthFlow:r,authenticated:i}=wt(),{client:s}=Se();return y.useEffect((()=>{(async()=>s&&n(await s.getCrossAppProviderDetails(t)))()}),[s]),c.jsx(cn,{onClick:()=>r({appId:t,action:i?"link":"login"}),disabled:!e,children:e?c.jsxs(c.Fragment,{children:[c.jsx(_de,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):c.jsx(ro,{})})};let kde=F.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],(({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)"),(({$disabled:t})=>t?"not-allowed":"pointer"),(({$disabled:t})=>t?.5:1),(({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}}),(({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}}),(({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$disabled:t})=>t?"none":"underline"),(({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)"));const Cc=({size:t="md",variant:e="navigation",disabled:n=!1,as:r,children:i,onClick:s,...a})=>c.jsx(kde,{as:r,$size:t,$variant:e,$disabled:n,onClick:o=>{n?o.preventDefault():s==null||s(o)},...a,children:i}),lv=(t,e)=>!ys(t)&&(e==="all-users"||e==="users-without-wallets"&&!$de(t).length);let $de=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const cv=(t,e)=>!ff(t)&&(e==="all-users"||e==="users-without-wallets"&&!Ide(t).length);let Ide=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));const so=(t,e)=>lv(t,e.ethereum.createOnLogin)||cv(t,e.solana.createOnLogin),Sde=({title:t="Account not found",subtitle:e,appName:n="this app",ctaText:r="Try logging in again",onRetry:i})=>c.jsx(vt,{title:t,subtitle:e||`Please try logging in again or go to ${n} to create an account.`,icon:KL,iconVariant:"warning",primaryCta:{label:r,onClick:i},watermark:!0}),Vu={component:()=>{let{navigate:t,setModalData:e,data:n}=Le(),r=Re(),{getAuthMeta:i,client:s}=Se();return c.jsx(Sde,{appName:r==null?void 0:r.name,onRetry:()=>{let a=i();e({...n,login:{...n==null?void 0:n.login,...a!=null&&a.disableSignup?{disableSignup:!0}:{}}}),s!=null&&s.authFlow&&(s.authFlow=void 0),t(hr)}})}},Ade=F.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],(t=>t.color??"var(--privy-color-accent)"),(t=>t.color??"var(--privy-color-accent)")),Dr=({address:t,showCopyIcon:e,url:n,className:r})=>{let[i,s]=y.useState(!1);function a(o){o.stopPropagation(),navigator.clipboard.writeText(t).then((()=>s(!0))).catch(console.error)}return y.useEffect((()=>{if(i){let o=setTimeout((()=>s(!1)),3e3);return()=>clearTimeout(o)}}),[i]),c.jsxs(Tde,n?{children:[c.jsx(Dde,{title:t,className:r,href:`${n}/address/${t}`,target:"_blank",children:fr(t)}),e&&c.jsx(Xi,{onClick:a,size:"sm",style:{gap:"0.375rem"},children:c.jsxs(c.Fragment,i?{children:["Copied",c.jsx(tu,{size:16})]}:{children:["Copy",c.jsx(hp,{size:16})]})})]}:{children:[c.jsx(Pde,{title:t,className:r,children:fr(t)}),e&&c.jsx(Xi,{onClick:a,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:c.jsxs(c.Fragment,i?{children:["Copied",c.jsx(tu,{size:14})]}:{children:["Copy",c.jsx(hp,{size:14})]})})]})};let Tde=F.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),Pde=F.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),Dde=F.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);function Nde(t){return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),c.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}const zy=792703809,qy="11111111111111111111111111111111";let o6="0x0000000000000000000000000000000000000000";const sc=({originCurrency:t,destinationCurrency:e,...n})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??o6,destinationCurrency:e??o6,...n});let B$="https://api.relay.link",W$="https://api.testnets.relay.link";const mu=async({input:t,isTestnet:e})=>{let n=await fetch((e?W$:B$)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await n.json();if(!(n.ok||typeof r.message=="string"&&r.message.startsWith("Invalid address")))throw console.error("Relay error:",r),Error(r.message??"Error fetching quote from relay");return r},Vp=t=>{var n,r;let e=(r=(n=t.steps[0])==null?void 0:n.items)==null?void 0:r[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};async function jde({transactionHash:t,isTestnet:e}){var i;let n=await fetch((e?W$:B$)+"/requests/v2?hash="+t),r=await n.json();if(!n.ok)throw"message"in r&&typeof r.message=="string"?Error(r.message):Error("Error fetching request from relay");return((i=r.requests.at(0))==null?void 0:i.status)??"pending"}function dv({transactionHash:t,isTestnet:e,bridgingStatus:n,setBridgingStatus:r,onSuccess:i,onFailure:s}){y.useEffect((()=>{if(t&&n){if(["delayed","waiting","pending"].includes(n)){let a=setInterval((async()=>{try{let o=await jde({transactionHash:t,isTestnet:e});r(o)}catch(o){console.error(o)}}),1e3);return()=>clearInterval(a)}n==="success"?i({transactionHash:t}):["refund","failure"].includes(n)&&s({error:new z$(t,e)})}}),[n,t,e])}let z$=class extends G{constructor(e,n){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,Q.TRANSACTION_FAILURE),this.relayLink=n?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}};const yg=({error:t,allowlistConfig:e,onRetry:n,onCaptchaReset:r,onBack:i})=>{let s=((a,o)=>{if(a instanceof z$)return{title:"Transaction failed",detail:c.jsxs(c.Fragment,{children:[c.jsx("span",{children:a.message}),c.jsxs("span",{children:[" ","Check the"," ",c.jsx(Ode,{href:a.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:Wr};if(a instanceof G)switch(a.privyErrorCode){case Q.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:a.message,ctaText:"Try again",icon:Wr};case Q.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:a.message,ctaText:"Try again",icon:Wr};case Q.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:a.message,ctaText:"Try again",icon:Wr};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Wr}}else{if(a instanceof pn&&a.type==="twilio_verification_failed")return{title:"Something went wrong",detail:a.message,ctaText:"Try again",icon:JL};if(!(a instanceof ur))return a instanceof Zr&&a.status&&[400,422].includes(a.status)?{title:"Something went wrong",detail:a.message,ctaText:"Try again",icon:Wr}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Wr};switch(a.privyErrorCode){case Q.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:Wr};case Q.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:a.message,ctaText:"Try another method",icon:Wr};case Q.ALLOWLIST_REJECTED:return{title:o.errorTitle||"You don't have access to this app",detail:o.errorDetail||"Have you been invited?",ctaText:o.errorCtaText||"Try another account",icon:F2};case Q.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case Q.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case Q.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:Wr};case Q.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:Wr};case Q.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:Wr};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Wr}}}})(t,e);return c.jsx(vt,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof ur&&(t.privyErrorCode===Q.INVALID_CAPTCHA&&(r==null||r()),t.privyErrorCode===Q.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:n==null||n()},variant:"error"},watermark:!0})},dn={component:()=>{var o,l;let{navigate:t,data:e,lastScreen:n,currentScreen:r}=Le(),i=Re(),{reset:s}=Lr(),a=((o=e==null?void 0:e.errorModalData)==null?void 0:o.previousScreen)||(n===r?void 0:n);return c.jsx(yg,{error:((l=e==null?void 0:e.errorModalData)==null?void 0:l.error)||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(a||hr,!1)},onCaptchaReset:s})}};let Ode=F.a.withConfig({displayName:"Link",componentId:"sc-e29a7de8-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const q$=({onTransfer:t,isTransferring:e,transferSuccess:n})=>c.jsx(Bt,{...n?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),H$=F.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),Hy=F.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),V$=F.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),Rde=F(Y2).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],(({$iconSize:t})=>`${t}px`),(({$iconSize:t})=>`${t}px`)),Mde=F(HU).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),Lde=F.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),l6=F.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),Fde=F.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let Ude=()=>c.jsx(Fde,{children:c.jsx(Rde,{$iconSize:60})});const Bde=({address:t,onClose:e,onRetry:n,onTransfer:r,isTransferring:i,transferSuccess:s})=>{var l;let{defaultChain:a}=Re(),o=((l=a.blockExplorers)==null?void 0:l.default.url)??"https://etherscan.io";return c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:e,backFn:n}),c.jsxs(H$,{children:[c.jsx(Ude,{}),c.jsxs(Hy,{children:[c.jsx("h3",{children:"Check account assets before transferring"}),c.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),c.jsxs(Lde,{children:[c.jsx("p",{children:" To check your balance, you can:"}),c.jsx(l6,{children:"Log out and log back into the other account, or "}),c.jsxs(l6,{children:["Copy your wallet address and use a"," ",c.jsx("u",{children:c.jsx("a",{target:"_blank",href:o,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),c.jsxs(V$,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[c.jsx(Cf,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),c.jsx(Dr,{address:t,showCopyIcon:!1}),c.jsx(Mde,{})]}),c.jsx(q$,{onTransfer:r,isTransferring:i,transferSuccess:s})]})]}),c.jsx(jt,{})]})},cl={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=Se(),{data:n,navigate:r,lastScreen:i,setModalData:s}=Le(),[a,o]=y.useState(void 0),[l,d]=y.useState(!1),[u,h]=y.useState(!1),p=async()=>{var f,g,m,w,v,C,_,E,x,b;try{if(!((f=n==null?void 0:n.accountTransfer)!=null&&f.nonce)||!((g=n==null?void 0:n.accountTransfer)!=null&&g.account))throw Error("missing account transfer inputs");h(!0),await t({nonce:(m=n==null?void 0:n.accountTransfer)==null?void 0:m.nonce,account:(w=n==null?void 0:n.accountTransfer)==null?void 0:w.account,accountType:(v=n==null?void 0:n.accountTransfer)==null?void 0:v.linkMethod,externalWalletMetadata:(C=n==null?void 0:n.accountTransfer)==null?void 0:C.externalWalletMetadata,telegramWebAppData:(_=n==null?void 0:n.accountTransfer)==null?void 0:_.telegramWebAppData,telegramAuthResult:(E=n==null?void 0:n.accountTransfer)==null?void 0:E.telegramAuthResult,farcasterEmbeddedAddress:(x=n==null?void 0:n.accountTransfer)==null?void 0:x.farcasterEmbeddedAddress,oAuthUserInfo:(b=n==null?void 0:n.accountTransfer)==null?void 0:b.oAuthUserInfo}),d(!0),h(!1),setTimeout(e,1e3)}catch(k){s({errorModalData:{error:k,previousScreen:i||cl}}),r(dn,!0)}};return a?c.jsx(Bde,{address:a,onClose:e,onRetry:()=>o(void 0),onTransfer:p,isTransferring:u,transferSuccess:l}):c.jsx(Wde,{onClose:e,onInfo:()=>{var f;return o((f=n==null?void 0:n.accountTransfer)==null?void 0:f.embeddedWalletAddress)},onContinue:()=>{var f;return o((f=n==null?void 0:n.accountTransfer)==null?void 0:f.embeddedWalletAddress)},onTransfer:p,isTransferring:u,transferSuccess:l,data:n})}},Wde=({onClose:t,onContinue:e,onInfo:n,onTransfer:r,transferSuccess:i,isTransferring:s,data:a})=>{var l,d,u,h,p,f,g;if(!((l=a==null?void 0:a.accountTransfer)!=null&&l.linkMethod)||!((d=a==null?void 0:a.accountTransfer)!=null&&d.displayName))return;let o={method:(u=a==null?void 0:a.accountTransfer)==null?void 0:u.linkMethod,handle:(h=a==null?void 0:a.accountTransfer)==null?void 0:h.displayName,disclosedAccount:(p=a==null?void 0:a.accountTransfer)!=null&&p.embeddedWalletAddress?{type:"wallet",handle:(f=a==null?void 0:a.accountTransfer)==null?void 0:f.embeddedWalletAddress}:void 0};return c.jsxs(c.Fragment,{children:[c.jsx(ut,{closeable:!0}),c.jsxs(H$,{children:[c.jsx(C$,{children:c.jsxs("div",{children:[c.jsx(Ade,{color:"var(--privy-color-error)"}),c.jsx(Jo,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),c.jsxs(Hy,{children:[c.jsxs("h3",{children:[(function(m){switch(m){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${Ak(m.replace("_oauth",""))} profile`;default:return m.startsWith("privy:")?"Cross-app account":m}})(o.method)," is associated with another account"]}),c.jsxs("p",{children:["Do you want to transfer",c.jsx("b",{children:o.handle?` ${o.handle}`:""})," to this account instead? This will delete your other account."]}),c.jsx(zde,{onClick:n,disclosedAccount:o.disclosedAccount})]}),c.jsxs(Hy,{style:{gap:12,marginTop:12},children:[(g=a==null?void 0:a.accountTransfer)!=null&&g.embeddedWalletAddress?c.jsx(Bt,{onClick:e,children:"Continue"}):c.jsx(q$,{onTransfer:r,transferSuccess:i,isTransferring:s}),c.jsx(Xi,{onClick:t,children:"No thanks"})]})]}),c.jsx(jt,{})]})};function zde({disclosedAccount:t,onClick:e}){return t?c.jsxs(V$,{onClick:e,children:[c.jsx(Cf,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),c.jsx(Dr,{address:t.handle,showCopyIcon:!1}),c.jsx(Nde,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const qde=({errorMessage:t,onClose:e})=>c.jsx(vt,t?{title:"Something went wrong",subtitle:t,icon:hf,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),ga={component:()=>{let{setModalData:t,navigate:e,data:n,onUserCloseViaDialogOrKeybindRef:r}=Le(),i=Re(),[s,a]=y.useState(""),{embeddedWallets:o}=Re(),{authenticated:l,user:d}=wt(),{closePrivyModal:u,walletProxy:h,client:p}=Se(),{onSuccess:f,onFailure:g,callAuthOnSuccessOnClose:m,shouldCreateEth:w,shouldCreateSol:v}=n.createWallet,C=i.embeddedWallets.mode==="legacy-embedded-wallets-only"&&(i==null?void 0:i.embeddedWallets.requireUserOwnedRecoveryOnCreate)===!0,[_,E]=y.useState(null),{create:x}=iv(),b=w??(!!d&&lv(d,i.embeddedWallets.ethereum.createOnLogin)),k=v??(!!d&&cv(d,i.embeddedWallets.solana.createOnLogin)),S=new yr((async()=>{let I=await p.getAccessToken();if(d&&I&&h)try{let $;if(b&&k)$=await x({chainType:"ethereum",walletIndex:0,latestUser:d}),$=await x({chainType:"solana",walletIndex:0,latestUser:$.user});else if(k)$=await x({chainType:"solana",walletIndex:0,latestUser:d});else{if(!b)return void u({shouldCallAuthOnSuccess:m});$=await x({chainType:"ethereum",walletIndex:0,latestUser:d})}E($),e(sv)}catch($){a($.message)}}));return y.useEffect((()=>l&&d?C?(t({...n,createWallet:{...n.createWallet,shouldCreateEth:b,shouldCreateSol:k},recoverySelection:{...n==null?void 0:n.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:b,shouldCreateSol:k}}),e(VI({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:o.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void S.execute():(e(hr),void g(Error("User must be authenticated before creating a Privy wallet")))),[C,l]),r.current=()=>null,c.jsx(qde,{errorMessage:s||void 0,onClose:()=>{_?(f(_),u({shouldCallAuthOnSuccess:m})):(g(new qa("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))}})}},dl={component:()=>{let{user:t,logout:e}=wt(),{onUserCloseViaDialogOrKeybindRef:n,setModalData:r,navigate:i}=Le(),s=Re(),{acceptTerms:a,closePrivyModal:o,createAnalyticsEvent:l}=Se(),d=u=>{u==null||u.preventDefault(),o({shouldCallAuthOnSuccess:!1}),e()};return n.current=d,c.jsx(Hde,{termsAndConditionsUrl:s==null?void 0:s.legal.termsAndConditionsUrl,privacyPolicyUrl:s==null?void 0:s.legal.privacyPolicyUrl,onAccept:async u=>{u==null||u.preventDefault(),await a(),t&&so(t,s.embeddedWallets)?(r({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),i(ga)):o()},onDecline:d})}},Hde=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:n,onDecline:r,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>c.jsx(vt,{title:i,subtitle:s,icon:ZL,primaryCta:{label:"Accept",onClick:n},secondaryCta:{label:"No thanks",onClick:r},watermark:!0,children:(t||e)&&c.jsxs(Vde,{children:[t&&c.jsxs(Vo,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",c.jsx(w0,{width:16,height:16,strokeWidth:2.25})]}),e&&c.jsxs(Vo,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",c.jsx(w0,{width:16,height:16,strokeWidth:2.25})]})]})});let Vde=F.div.withConfig({displayName:"LinksContainer",componentId:"sc-21e1b98c-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const K$=({color:t,...e})=>c.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:c.jsx("g",{children:c.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let Kde=F.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),Gde=F.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),Yde=F(PB).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),Zde=F(K$).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function Jde({children:t,iconOnly:e,value:n,hideCopyIcon:r,...i}){let[s,a]=y.useState(!1);return c.jsxs(Kde,{...i,onClick:()=>{navigator.clipboard.writeText(n||t).catch(console.error),a(!0),setTimeout((()=>a(!1)),1500)},children:[t," ",s?c.jsxs(Gde,{children:[c.jsx(Yde,{})," ",!e&&"Copied"]}):!r&&c.jsx(Zde,{})]})}const Qde=()=>c.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:c.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let I1=(t,e,n,r,i)=>{for(let s=e;s<e+r;s++)for(let a=n;a<n+i;a++){let o=t==null?void 0:t[a];o&&o[s]&&(o[s]=0)}return t},Xde=({x:t,y:e,cellSize:n,bgColor:r,fgColor:i})=>c.jsx(c.Fragment,{children:[0,1,2].map((s=>c.jsx("circle",{r:n*(7-2*s)/2,cx:t+7*n/2,cy:e+7*n/2,fill:s%2!=0?r:i},`finder-${t}-${e}-${s}`)))}),eue=({cellSize:t,matrixSize:e,bgColor:n,fgColor:r})=>c.jsx(c.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map((([i,s])=>c.jsx(Xde,{x:i,y:s,cellSize:t,bgColor:n,fgColor:r},`finder-${i}-${s}`)))}),tue=({matrix:t,cellSize:e,color:n})=>c.jsx(c.Fragment,{children:t.map(((r,i)=>r.map(((s,a)=>s?c.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:a*e+.1*e,rx:.5*e,ry:.5*e,fill:n},`cell-${i}-${a}`):c.jsx(Ie.Fragment,{},`circle-${i}-${a}`)))))}),nue=({cellSize:t,matrixSize:e,element:n,sizePercentage:r,bgColor:i})=>{if(!n)return c.jsx(c.Fragment,{});let s=e*(r||.14),a=Math.floor(e/2-s/2),o=Math.floor(e/2+s/2);(o-a)%2!=e%2&&(o+=1);let l=(o-a)*t,d=l-.2*l,u=a*t;return c.jsxs(c.Fragment,{children:[c.jsx("rect",{x:a*t,y:a*t,width:l,height:l,fill:i}),c.jsx(n,{x:u+.1*l,y:u+.1*l,height:d,width:d})]})},rue=t=>{var s;let e=t.outputSize,n=((a,o)=>{let l=PW.create(a,{errorCorrectionLevel:o}).modules,d=((u,h)=>{let p=u.slice(0),f=[];for(;p.length;)f.push(p.splice(0,h));return f})(Array.from(l.data),l.size);return d=I1(d,0,0,7,7),d=I1(d,d.length-7,0,7,7),I1(d,0,d.length-7,7,7)})(t.url,t.errorCorrectionLevel),r=e/n.length,i=(function(a,{min:o,max:l}){return Math.min(Math.max(a,o),l)})(2*r,{min:.025*e,max:.036*e});return c.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[c.jsx(tue,{matrix:n,cellSize:r,color:t.fgColor}),c.jsx(eue,{cellSize:r,matrixSize:n.length,fgColor:t.fgColor,bgColor:t.bgColor}),c.jsx(nue,{cellSize:r,element:(s=t.logo)==null?void 0:s.element,bgColor:t.bgColor,matrixSize:n.length})]})},iue=F.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],(t=>`${t.$size}px`),(t=>`${t.$size}px`),(t=>t.$bgColor),(t=>t.$borderColor));const Ku=t=>{let{appearance:e}=Re(),n=t.bgColor||"#FFFFFF",r=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?n:r;return c.jsx(iue,{$size:i,$bgColor:n,$fgColor:r,$borderColor:s,children:c.jsx(rue,{url:t.url,logo:{element:t.squareLogoElement??Qde},outputSize:i,bgColor:n,fgColor:r,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},Ko=F.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let G$=F.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)"),(({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)"));const Y$=F(G$).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),sue=F(G$).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],(t=>t.$stacked?"16px":"88px"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)")),Z$=F.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],Ko),J$=({...t})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[c.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),c.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),c.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),Vl={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:My,md:My}}};class Jr{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some((n=>n.startsWith("eip155:")))}isSol(e){return e.chains.some((n=>n.startsWith("solana:")))}inAllowList(e,n){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||n==="listing"&&this.includeWalletConnect)return!0;let r=Jr.normalize(e);return this.normalizedAllowList.some((i=>r===Jr.normalize(i)))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,n){var l;let r=new Map,i=d=>{let u=r.get(d.id);if(u){u.chainType!==d.chainType&&(u.chainType="multi");let h=new Set(u.chains);d.chains.forEach((p=>h.add(p))),u.chains=Array.from(h),!u.icon&&d.icon&&(u.icon=d.icon),!u.url&&d.url&&(u.url=d.url),!u.listing&&d.listing&&(u.listing=d.listing)}else r.set(d.id,d)};e.filter((d=>this.connectorOk(d))).forEach((d=>{var h,p;let u=Jr.normalize(d.walletClientType);i({id:u,label:((h=d.walletBranding)==null?void 0:h.name)??u,source:"connector",connector:d,chainType:d.chainType,icon:(p=d.walletBranding)==null?void 0:p.icon,url:void 0,chains:[d.chainType==="ethereum"?"eip155":"solana"]})})),n.filter((d=>this.listingOk(d))).forEach((d=>{var m,w;let u=this.isEth(d),h=this.isSol(d),p=Jr.normalize(d.slug),f=Vl[d.slug],g=((m=f==null?void 0:f.image_url)==null?void 0:m.sm)||((w=d.image_url)==null?void 0:w.sm);i({id:p,label:d.name||p,source:"listing",listing:d,chainType:u&&h?"multi":u?"ethereum":"solana",icon:g,url:d.homepage,chains:d.chains})}));let s=e.find((d=>d.connectorType==="wallet_connect_v2"));this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:r$,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let a=Array.from(r.values());a.forEach((d=>{var h,p;let u=Vl[((h=d.listing)==null?void 0:h.slug)||d.id];(p=u==null?void 0:u.image_url)!=null&&p.sm&&(d.icon=u.image_url.sm)}));let o=new Map;return(l=this.normalizedAllowList)==null||l.forEach(((d,u)=>{o.set(Jr.normalize(d),u)})),{wallets:a.slice().sort(((d,u)=>{let h=Jr.normalize(d.id),p=Jr.normalize(u.id);h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom"),p==="binance-defi"?p="binance":p==="universalprofiles"?p="universal_profile":p==="cryptocom-defi"&&(p="cryptocom");let f=o.has(h),g=o.has(p);return f&&g?o.get(h)-o.get(p):f?-1:g?1:d.source==="connector"&&u.source==="listing"?-1:d.source==="listing"&&u.source==="connector"?1:d.label.toLowerCase().localeCompare(u.label.toLowerCase())})),walletCount:a.length}}constructor(e,n){var r,i,s,a;this.chainFilter=e,n&&n.length>0&&(this.normalizedAllowList=n.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedEth=((r=this.normalizedAllowList)==null?void 0:r.includes("detected_ethereum_wallets"))??!1,this.detectedSol=((i=this.normalizedAllowList)==null?void 0:i.includes("detected_solana_wallets"))??!1,this.includeWalletConnect=((s=this.normalizedAllowList)==null?void 0:s.includes("wallet_connect"))??!1,this.includeWalletConnectQr=((a=this.normalizedAllowList)==null?void 0:a.includes("wallet_connect_qr"))??!1}}var Vy=t=>c.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),c.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),c.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),c.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),c.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),c.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),c.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),Ky=t=>c.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[c.jsx("stop",{offset:"0",stopColor:"#9945ff"}),c.jsx("stop",{offset:".2",stopColor:"#7962e7"}),c.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),c.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),c.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const aue=F.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),jd=F.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),oue=F.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),lue=$c((()=>({isModalOpen:!1,resolvers:null})));$c((()=>({})));const cue=({address:t,client:e,appId:n})=>{let r=`${e}:${t}`;n&&qe.put(due(n),r),lue.setState({wallet:r})},due=t=>`privy:${t}:active-wallet-connection`;function Q$({walletList:t,walletChainType:e}){var m;let n=Re(),{connectors:r}=Se(),i=zu((w=>w.listings)),s=e??n.appearance.walletChainType,a=t??((m=n.appearance)==null?void 0:m.walletList),o=y.useMemo((()=>new Jr(s,a)),[s,a]),{wallets:l,walletCount:d}=y.useMemo((()=>o.getWallets(r,i)),[o,r,i]),[u,h]=y.useState(""),p=y.useMemo((()=>u?l.filter((w=>w.label.toLowerCase().includes(u.toLowerCase()))):l),[u,l]),[f,g]=y.useState();return{selected:f,setSelected:g,search:u,setSearch:h,wallets:p,walletCount:d}}let X$=t=>!t||typeof t!="string"&&(t instanceof Hw||t instanceof Gw);const Gy=({index:t,style:e,data:n,recent:r})=>{var l,d;let i=n.wallets[t],{walletChainType:s,handleWalletClick:a}=n,o={...e,boxSizing:"border-box"};return i?c.jsxs(Qh,{style:o,onClick:()=>a(i),children:[i.icon&&(i.connector&&!X$(i.connector)?c.jsx(aue,{children:typeof i.icon=="string"?c.jsx(jd,{src:i.icon}):c.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?c.jsx(jd,{src:i.icon}):c.jsx(i.icon,{style:{width:"32px",height:"32px"}})),c.jsx(Xh,{children:i.label}),r?c.jsxs(c.Fragment,{children:[c.jsx(oue,{children:"Last used"}),c.jsx(Kp,{children:c.jsxs(c.Fragment,{children:[s==="ethereum-only"&&c.jsx(Vy,{}),s==="solana-only"&&c.jsx(Ky,{})]})})]}):c.jsx(Kp,{children:!(s==="ethereum-only"||s==="solana-only")&&c.jsxs(c.Fragment,{children:[((l=i.chains)==null?void 0:l.some((u=>u.startsWith("eip155"))))&&c.jsx(Vy,{}),((d=i.chains)==null?void 0:d.some((u=>u.startsWith("solana"))))&&c.jsx(Ky,{})]})})]}):null};var eI=({className:t,customDescription:e,connectOnly:n,preSelectedWalletId:r,...i})=>{var U;let s=Re(),{connectors:a}=Se(),o=i.walletChainType||s.appearance.walletChainType,l=i.walletList||((U=s.appearance)==null?void 0:U.walletList),{onBack:d,onClose:u,app:h}=i,{selected:p,setSelected:f,qrUrl:g,setQrUrl:m,connecting:w,uiState:v,wallets:C,walletCount:_,handleConnect:E,handleBack:x,showSearchBar:b,isInitialConnectView:k,title:S,search:I,setSearch:$}=(function({onConnect:L,onBack:T,onClose:j,onConnectError:W,walletList:Z,walletChainType:z,app:ie}){let V=Re(),{connectors:ee}=Se(),{wallets:ae,walletCount:te,search:he,setSearch:xe,selected:ke,setSelected:Ue}=Q$({walletList:Z,walletChainType:z}),[ge,Ce]=y.useState(),[Ee,re]=y.useState(),[We,ze]=y.useState(),de=!ke&&!Ee&&!We,ve=de&&(te>6||he.length>0),St=ee.find((Te=>Te.connectorType==="wallet_connect_v2")),Wt=y.useCallback((async(Te,ht)=>{var bt,ct;if(Te){if((We==null?void 0:We.connector)===Te)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(Ce("loading"),typeof Te=="string")return ze({connector:Te,name:(ht==null?void 0:ht.name)??"Wallet",icon:ht==null?void 0:ht.icon}),void window.open(Te,"_blank");ze({connector:Te,name:(ht==null?void 0:ht.name)??Te.walletBranding.name??"Wallet",icon:(ht==null?void 0:ht.icon)??Te.walletBranding.icon});try{let st=await Te.connect({showPrompt:!0});if(!st)return Ce("error"),void(W==null?void 0:W(new Jt("Unable to connect wallet")));Ce("success"),cue({address:st.address,client:st.walletClientType,appId:V.id}),setTimeout((()=>{L({connector:Te,wallet:st})}),an)}catch(st){if(console.error("ERROR: ",{e:st}),((bt=st==null?void 0:st.message)==null?void 0:bt.includes("already pending for origin"))||((ct=st==null?void 0:st.message)==null?void 0:ct.includes("wallet_requestPermissions")))return void console.log("Connection request already pending, maintaining loading state");Ce("error"),W==null||W(new Jt("Unable to connect wallet"))}}}),[V.id,L,We]),pe=y.useCallback((()=>Ee?(Ce(void 0),ze(void 0),void re(void 0)):We?(Ce(void 0),void ze(void 0)):ke?(Ce(void 0),ze(void 0),void Ue(void 0)):ge==="error"||ge==="loading"?(Ce(void 0),void ze(void 0)):void(T==null?void 0:T())),[Ee,We,ke,ge,T]),zt=y.useMemo((()=>(We==null?void 0:We.connector)===St&&Ee&&It.isMobile?`Go to ${We.name} to continue`:(We==null?void 0:We.connector)===St&&Ee?`Scan code to connect to ${We.name}`:typeof(We==null?void 0:We.connector)=="string"?`Open or install ${We.name}`:ke&&!We?"Select network":We?null:"Select your wallet"),[We,Ee,ke,St]);return{selected:ke,setSelected:Ue,qrUrl:Ee,setQrUrl:re,connecting:We,uiState:ge,search:he,setSearch:xe,wallets:ae,walletCount:te,wc:St,isInitialConnectView:de,showSearchBar:ve,title:zt,handleConnect:Wt,handleBack:pe,onClose:j,onConnect:L,app:ie}})({...i,walletList:l,walletChainType:o}),A=a.find((L=>L.connectorType==="wallet_connect_v2")),N=y.useRef(null),O=lW({count:C.length,getScrollElement:()=>N.current,estimateSize:()=>56,overscan:6,gap:5}),D=y.useCallback((async L=>{var z,ie,V,ee,ae,te,he;let T,j=o!=="solana-only"&&((z=L.chains)==null?void 0:z.some((xe=>xe.startsWith("eip155")))),W=o!=="ethereum-only"&&((ie=L.chains)==null?void 0:ie.some((xe=>xe.startsWith("solana")))),Z=Kw[L.id];if(W&&Z)T=Z.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let xe=(ee=(V=L.listing)==null?void 0:V.mobile)==null?void 0:ee.native;T=((te=(ae=L.listing)==null?void 0:ae.mobile)==null?void 0:te.universal)||xe||L.url}if(j&&W){let xe=Jr.normalize(L.id),ke=a.filter((Ce=>Jr.normalize(Ce.walletClientType)===xe&&!(Ce.chainType==="ethereum"&&Ce instanceof Hw||Ce.chainType==="solana"&&Ce instanceof Gw))),Ue=ke.find((Ce=>Ce.chainType==="ethereum")),ge=ke.find((Ce=>Ce.chainType==="solana"));if(!Ue&&L.listing){let Ce=Vl[L.listing.slug]?{...L.listing,...Vl[L.listing.slug]}:L.listing;A.setWalletEntry(Ce,m),await A.resetConnection(L.id),Ue=A}if(!ge&&T&&(ge=T),Ue||ge)return void f({eth:Ue,sol:ge,name:L.label,icon:L.icon})}if(!X$(L.connector))return((he=L.connector)==null?void 0:he.connectorType)==="wallet_connect_v2"&&(await A.resetConnection(L.id),A.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},m)),void await E(L.connector,{name:L.label,icon:L.icon});if(j||W||L.url||L.listing){if(j&&L.listing){let xe=Vl[L.listing.slug]?{...L.listing,...Vl[L.listing.slug]}:L.listing;A.setWalletEntry(xe,m),await A.resetConnection(L.id)}if(j&&W)return void f({eth:A,sol:T,name:L.label,icon:L.icon});if(W)return void await E(T,{name:L.label,icon:L.icon});if(j)return void(L.listing?await E(A,{name:L.label,icon:L.icon}):L.url?await E(L.url,{name:L.label,icon:L.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",L.label));if(L.url)return void await E(L.url,{name:L.label,icon:L.icon})}}),[A,E,f,m,x,u,h,k,S,e,s,a]),M=d||x,B=!!d||!k;return y.useEffect((()=>{if(!r)return;let L=C.find((({id:T})=>T===r));L&&D(L).catch(console.error)}),[r]),c.jsxs(Ft,{className:t,children:[c.jsx(Ft.Header,{icon:w&&!g||g&&It.isMobile&&(w!=null&&w.icon)?w.icon:w?void 0:J$,iconVariant:w&&!g||g&&It.isMobile?"loading":void 0,iconLoadingStatus:w&&!g||g&&It.isMobile?{success:v==="success",fail:v==="error"}:void 0,title:w&&!g?`Waiting for ${w.name}`:g&&It.isMobile?`Waiting for ${(w==null?void 0:w.name)??"connection"}`:S,subtitle:w&&!g&&typeof w.connector=="string"?`To connect to ${w.name}, install and open the app. Then confirm the connection when prompted.`:w&&!g&&typeof w.connector!="string"?v==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":k?e??(h?`Connect a wallet to your ${h.name} account`:null):null,showBack:B,showClose:!0,onBack:M,onClose:u}),c.jsxs(Ft.Body,{ref:N,$colorScheme:s.appearance.palette.colorScheme,style:{marginBottom:g?"0.5rem":void 0},children:[b&&c.jsx(uue,{children:c.jsxs(Y$,{style:{background:"transparent"},children:[c.jsx(Ki,{children:c.jsx(KB,{})}),c.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:L=>$(L.target.value),value:I})]})}),g&&It.isMobile&&v==="loading"&&c.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:c.jsx(Vo,{variant:"primary",onClick:()=>window.open(g.universal??g.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),g&&!It.isMobile&&v==="loading"&&c.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:c.jsx(fue,{value:g.universal??g.native,iconOnly:!0,children:"Copy link"})}),g&&!It.isMobile&&c.jsx(Ku,{size:280,url:g.universal??g.native,squareLogoElement:w!=null&&w.icon?typeof w.icon=="string"?L=>c.jsx("svg",{...L,children:c.jsx("image",{href:w.icon,height:L.height,width:L.width})}):w.icon:cle}),c.jsxs(hue,{children:[w&&!g&&typeof w.connector=="string"&&c.jsxs(Qh,{onClick:()=>window.open(w.connector,"_blank"),children:[w.icon&&(typeof w.icon=="string"?c.jsx(jd,{src:w.icon}):c.jsx(w.icon,{})),c.jsx(Xh,{children:w.name})]}),(p==null?void 0:p.eth)&&!w&&c.jsxs(Qh,{onClick:()=>E(p.eth,{name:p.name,icon:p.icon}),children:[p.icon&&(typeof p.icon=="string"?c.jsx(jd,{src:p.icon}):c.jsx(p.icon,{})),c.jsx(Xh,{children:p.name}),c.jsx(Kp,{children:c.jsx(Vy,{})})]}),(p==null?void 0:p.sol)&&!w&&c.jsxs(Qh,{onClick:()=>E(p.sol,{name:p.name,icon:p.icon}),children:[p.icon&&(typeof p.icon=="string"?c.jsx(jd,{src:p.icon}):c.jsx(p.icon,{})),c.jsx(Xh,{children:p.name}),c.jsx(Kp,{children:c.jsx(Ky,{})})]}),k&&c.jsxs(c.Fragment,{children:[!(_>0)&&c.jsx(pue,{children:"No wallets found. Try another search."}),_>0&&!g&&c.jsx("div",{style:{maxHeight:56*Math.min(C.length,5)+5,width:"100%"},children:c.jsx("div",{style:{height:`${O.getTotalSize()}px`,width:"100%",position:"relative"},children:O.getVirtualItems().map((L=>c.jsx(Gy,{index:L.index,style:{position:"absolute",top:0,left:0,height:`${L.size}px`,transform:`translateY(${L.start}px)`},data:{wallets:C,walletChainType:o,handleWalletClick:D}},L.key)))})})]})]})]}),c.jsxs(Ft.Footer,{children:[w&&!g&&typeof w.connector!="string"&&v==="error"&&c.jsx(Ft.Actions,{children:c.jsx(Vo,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>E(w.connector,{name:w.name,icon:w.icon}),children:"Retry"})}),!!(h&&h.legal.privacyPolicyUrl&&h.legal.termsAndConditionsUrl)&&c.jsx(Zw,{app:h,alwaysShowImplicitConsent:!0}),c.jsx(Ft.Watermark,{})]})]})};let uue=F.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-850f7dce-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),hue=F.div.withConfig({displayName:"WalletListContainer",componentId:"sc-850f7dce-1"})(["display:flex;flex-direction:column;gap:","px;"],5),Qh=F.button.withConfig({displayName:"Button",componentId:"sc-850f7dce-2"})(["&&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),Kp=F.span.withConfig({displayName:"ButtonBadge",componentId:"sc-850f7dce-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),pue=F.div.withConfig({displayName:"EmptyContainer",componentId:"sc-850f7dce-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),Xh=F.span.withConfig({displayName:"WalletName",componentId:"sc-850f7dce-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),fue=F(Jde).withConfig({displayName:"StyledCopyableText",componentId:"sc-850f7dce-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const gue=({...t})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[c.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[c.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0_2856_1743",children:c.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),c6=t=>{var n;let e=(n=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses"))==null?void 0:n.split(" ").filter((r=>Zl(r,{strict:!0}))).map((r=>Zn(r)));return!!(e!=null&&e.length)&&!!(t!=null&&t.linkedAccounts.filter((r=>r.type=="wallet"&&e.includes(r.address))).length)};let tI=y.createContext({plugins:{current:{}}});const mue=({children:t})=>{let e=y.useRef({});return c.jsx(tI.Provider,{value:{plugins:e},children:t})},uv=()=>{let{plugins:t}=y.useContext(tI);return y.useCallback((e=>t.current[e]),[t])},nI=Symbol("solana-ledger-plugin"),yue=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:n="Try another account",ctaLink:r,onCtaClick:i})=>c.jsx(vt,{title:t,subtitle:e,icon:F2,iconVariant:"warning",primaryCta:{label:n,onClick:()=>{r?window.open(r,"_blank"):i==null||i()}},watermark:!0}),wg={component:()=>{let{navigate:t}=Le(),e=Re(),n=(e==null?void 0:e.allowlistConfig.errorTitle)||"You don't have access to this app",r=(e==null?void 0:e.allowlistConfig.errorDetail)||"Have you been invited?",i=(e==null?void 0:e.allowlistConfig.errorCtaText)||"Try another account",s=e==null?void 0:e.allowlistConfig.errorCtaLink;return c.jsx(yue,{title:n,subtitle:r,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(hr)}})}},wue=({status:t,title:e,description:n,userIntentRequired:r,retriesRemaining:i,hasSelectedCta:s,onContinue:a,onRetry:o})=>{let l=y.useMemo((()=>{switch(t){case"loading":default:return;case"success":return r?{label:s?"Continuing...":"Continue",onClick:a,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:o}:void 0}}),[t,s,a,o]),d=y.useMemo((()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading"),[t]);return c.jsx(vt,{icon:t==="loading"||t==="ready"?void 0:t==="success"?ku:hf,iconVariant:d,title:e,subtitle:n,primaryCta:l,watermark:!0})},ts={component:()=>{let{lastScreen:t,data:e,navigate:n,setModalData:r}=Le(),{status:i,token:s,waitForResult:a,reset:o,execute:l}=Lr(),d=y.useRef([]),u=k=>{d.current=[k,...d.current]},[h,p]=y.useState(!0);y.useEffect((()=>(u(setTimeout(p,1e3,!1)),()=>{d.current.forEach((k=>clearTimeout(k))),d.current=[]})),[]);let[f,g]=y.useState(""),[m,w]=y.useState("Checking that you are a human..."),[v,C]=y.useState(!1),[_,E]=y.useState(3),x=e==null?void 0:e.captchaModalData,b=async k=>{try{await(x==null?void 0:x.callback(k)),x!=null&&x.onSuccessNavigateTo&&n(x==null?void 0:x.onSuccessNavigateTo,!1)}catch(S){if(S instanceof tg)return;r({errorModalData:{error:S,previousScreen:t||hr}}),n((x==null?void 0:x.onErrorNavigateTo)||dn,!1)}};return y.useEffect((()=>{i==="success"?u(setTimeout((async()=>{let k=await a();!k||x!=null&&x.userIntentRequired||b(k)}),1e3)):i==="ready"&&u(setTimeout((()=>{i==="ready"&&l()}),500))}),[i]),y.useEffect((()=>{if(!h)switch(i){case"success":g("Success!"),w("CAPTCHA passed successfully."),x!=null&&x.userIntentRequired||setTimeout((()=>{C(!0),b(s)}),2e3);break;case"loading":g(""),w("Checking that you are a human...");break;case"error":g("Something went wrong"),w(_<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}}),[i,h,v]),c.jsx(wue,{status:i,title:f,description:m,userIntentRequired:x==null?void 0:x.userIntentRequired,retriesRemaining:_,hasSelectedCta:v,onContinue:()=>{C(!0),b(s)},onRetry:async()=>{if(_<=0)return;E((S=>S-1)),o(),l();let k=await a();!k||x!=null&&x.userIntentRequired||b(k)}})}},vue=t=>c.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:c.jsx("g",{children:c.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),bue=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:n="Phantom supports Ledger",subtitle:r=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>c.jsx(vt,{title:n,subtitle:c.jsx(_ue,{children:r}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:c.jsxs(Cue,{children:[c.jsx(Qk,{style:{width:"48px",height:"48px"}}),c.jsx(HL,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),c.jsx(vue,{style:{width:"48px",height:"48px"}})]})}),xue={component:function(){let{data:t,setModalData:e,navigate:n}=Le();return c.jsx(bue,{onContinueWithLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!0}}),n(aa)},onContinueWithoutLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!1}}),n(aa)}})}};let Cue=F.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),_ue=F.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const Eue=({style:t,...e})=>c.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:c.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),kue=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:n})=>c.jsx(vt,{title:t,subtitle:e,icon:Eue,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:n},showBack:!0,onBack:n,watermark:!0}),Gu={component:()=>{let{navigate:t}=Le();return c.jsx(kue,{onGoBack:()=>{t(hr)}})}},rI=t=>(t==null?void 0:t.privyErrorCode)===Q.LINKED_TO_ANOTHER_USER?Ao.ERROR_USER_EXISTS:t instanceof or&&!t.details.default?t.details:t instanceof Gk?Ao.ERROR_TIMED_OUT:(t==null?void 0:t.privyErrorCode)===Q.CANNOT_LINK_MORE_OF_TYPE?Ao.ERROR_USER_LIMIT_REACHED:Ao.ERROR_WALLET_CONNECTION,$ue=({walletLogo:t,title:e,subtitle:n,signSuccess:r,errorMessage:i,connectSuccess:s,separateConnectAndSign:a,signing:o,walletConnectRedirectUri:l,walletConnectFallbackUniversalUri:d,hasTabbedAway:u,showCoinbaseWalletResetCta:h,numRetries:p,onBack:f,onSign:g,onRetry:m,onCoinbaseReset:w,onDifferentWallet:v})=>{let C=h?{label:"Use a different wallet",onClick:w,disabled:r}:i===Ao.ERROR_USER_EXISTS&&f?{label:"Use a different wallet",onClick:v}:s&&!r&&a?{label:o?"Signing":"Sign with your wallet",onClick:g,disabled:o}:!r&&(i!=null&&i.retryable)&&p<2?{label:"Retry",onClick:m,disabled:!1}:r||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return c.jsx(vt,{title:e,subtitle:n,icon:t,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!i},primaryCta:C,onBack:f,watermark:!0,children:!s&&l&&!u&&c.jsxs(Iue,{children:["Still here?"," ",c.jsx(Cc,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),d&&c.jsxs(c.Fragment,{children:[" ","or"," ",c.jsx(Cc,{href:d,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},aa={component:()=>{var re,We,ze,de,ve,St,Wt,pe,zt,Te,ht,bt,ct,st,un;let t,[e,n]=y.useState(!1),[r,i]=y.useState(!1),[s,a]=y.useState(void 0),{authenticated:o,logout:l}=wt(),{navigate:d,navigateBack:u,lastScreen:h,currentScreen:p,setModalData:f,data:g}=Le(),m=Re(),{getAuthFlow:w,walletConnectionStatus:v,closePrivyModal:C,initLoginWithWallet:_,loginWithWallet:E,updateWallets:x,createAnalyticsEvent:b}=Se(),{walletConnectors:k}=wt(),[S,I]=y.useState(0),{user:$}=wt(),A=uv(),[N]=y.useState(($==null?void 0:$.linkedAccounts.length)||0),[O,D]=y.useState(""),[M,B]=y.useState(""),[U,L]=y.useState(!1),{hasTabbedAway:T}=(function(){let[be,_e]=y.useState(!1),me=y.useCallback((()=>{document.hidden&&_e(!0)}),[]);return y.useEffect((()=>(document.addEventListener("visibilitychange",me),()=>document.removeEventListener("visibilitychange",me))),[me]),{hasTabbedAway:be,reset:()=>_e(!1)}})(),{enabled:j,token:W}=Lr(),Z=no(((re=v==null?void 0:v.connector)==null?void 0:re.walletClientType)||"unknown"),z=It.isMobile&&((We=v==null?void 0:v.connector)==null?void 0:We.connectorType)==="wallet_connect_v2"||It.isMobile&&((ze=v==null?void 0:v.connector)==null?void 0:ze.connectorType)==="coinbase_wallet"||It.isMobile&&((de=v==null?void 0:v.connector)==null?void 0:de.connectorType)==="base_account"||It.isMobile&&((ve=v==null?void 0:v.connector)==null?void 0:ve.connectorType)==="injected"&&((St=v==null?void 0:v.connector)==null?void 0:St.walletClientType)==="phantom"||It.isMobile&&((Wt=v==null?void 0:v.connector)==null?void 0:Wt.connectorType)==="solana_adapter"&&v.connector.walletClientType==="mobile_wallet_adapter",ie=(v==null?void 0:v.status)==="connected",V=(v==null?void 0:v.status)==="switching_to_supported_chain";y.useEffect((()=>{var me,Be,at,Xe,Ve,De;let be=w(),_e=be instanceof nc||be instanceof Bp?be:void 0;ie&&((me=v.connector)==null?void 0:me.chainType)==="solana"&&((Be=v.connector)==null?void 0:Be.walletClientType)==="phantom"&&A(nI)&&((at=g==null?void 0:g.login)==null?void 0:at.isSigningInWithLedgerSolana)===void 0?d(xue,!1):(ie&&!_e&&(!j||W||o?_(v.connectedWallet,W,(Xe=g==null?void 0:g.login)==null?void 0:Xe.disableSignup,(Ve=g==null?void 0:g.login)!=null&&Ve.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{L(!0)})):(f({captchaModalData:{callback:Et=>{var At,Kt;return _(v.connectedWallet,Et,(At=g==null?void 0:g.login)==null?void 0:At.disableSignup,(Kt=g==null?void 0:g.login)!=null&&Kt.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{L(!0)}))},userIntentRequired:!1,onSuccessNavigateTo:aa,onErrorNavigateTo:dn}}),d(ts,!1))),_e instanceof Bp&&((De=g==null?void 0:g.login)!=null&&De.isSigningInWithLedgerSolana)&&(_e.messageType="transaction"),_e&&z&&ie&&!_e.preparedMessage?_e.buildMessage():_e&&!z&&ie&&(r||(async()=>{var Et,At;i(!0),a(void 0);try{((Et=v==null?void 0:v.connector)==null?void 0:Et.connectorType)==="wallet_connect_v2"&&((At=v==null?void 0:v.connector)==null?void 0:At.walletClientType)==="metamask"&&await Wp(2500),await ae()}catch(Kt){console.warn("Auto-prompted signature failed",Kt)}finally{i(!1)}})()))}),[S,ie,U]),y.useEffect((()=>{if($&&e){let be=900;if(m!=null&&m.legal.requireUsersAcceptTerms&&!$.hasAcceptedTerms){let me=setTimeout((()=>{d(dl)}),be);return()=>clearTimeout(me)}if(so($,m.embeddedWallets)){let me=setTimeout((()=>{f({createWallet:{onSuccess:()=>{},onFailure:Be=>{console.error(Be),b({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Be,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),d(ga)}),be);return()=>clearTimeout(me)}x();let _e=setTimeout((()=>C({shouldCallAuthOnSuccess:!0,isSuccess:!0})),an);return()=>clearTimeout(_e)}}),[$,e]);let ee=be=>{var _e,me,Be,at,Xe,Ve,De,Et,At,Kt,Ae,Cn,Fr,Ur;if((be==null?void 0:be.privyErrorCode)!==Q.ALLOWLIST_REJECTED){if((be==null?void 0:be.privyErrorCode)===Q.USER_LIMIT_REACHED)return console.error(new Eu(be).toString()),void d(Gu);if((be==null?void 0:be.privyErrorCode)!==Q.USER_DOES_NOT_EXIST)return(be==null?void 0:be.privyErrorCode)===Q.ACCOUNT_TRANSFER_REQUIRED&&((me=(_e=be.data)==null?void 0:_e.data)!=null&&me.nonce)?(f({accountTransfer:{nonce:(at=(Be=be.data)==null?void 0:Be.data)==null?void 0:at.nonce,account:(Xe=w())==null?void 0:Xe.meta.address,displayName:(Et=(De=(Ve=be.data)==null?void 0:Ve.data)==null?void 0:De.account)==null?void 0:Et.displayName,externalWalletMetadata:{walletClientType:(At=w())==null?void 0:At.meta.walletClientType,chainId:(Kt=w())==null?void 0:Kt.meta.chainId,connectorType:(Ae=w())==null?void 0:Ae.meta.connectorType},linkMethod:w()instanceof nc?"siwe":"siws",embeddedWalletAddress:(Ur=(Fr=(Cn=be.data)==null?void 0:Cn.data)==null?void 0:Fr.otherUser)==null?void 0:Ur.embeddedWalletAddress}}),void d(cl)):void a(rI(be));d(Vu)}else d(wg)};async function ae(){try{await E(),n(!0)}catch(be){ee(be)}finally{i(!1)}}y.useEffect((()=>{v!=null&&v.connectError&&ee(v==null?void 0:v.connectError)}),[v]),((be,_e)=>{let me=y.useRef((()=>{}));y.useEffect((()=>{me.current=be})),y.useEffect((()=>{if(_e!==null){let Be=setInterval((()=>me.current()),_e||0);return()=>clearInterval(Be)}}),[_e])})((()=>{let be=te==="wallet_connect_v2"&&(v==null?void 0:v.connector)instanceof ic?v.connector.redirectUri:void 0;be&&D(be);let _e=te==="wallet_connect_v2"&&(v==null?void 0:v.connector)instanceof ic?v.connector.fallbackUniversalRedirectUri:void 0;_e&&B(_e)}),(v==null?void 0:v.connector)instanceof ic&&!O?500:null);let te=((pe=v==null?void 0:v.connector)==null?void 0:pe.connectorType)||"injected",he=((zt=v==null?void 0:v.connector)==null?void 0:zt.walletClientType)||"unknown",xe=((Te=Z==null?void 0:Z.metadata)==null?void 0:Te.shortName)||(Z==null?void 0:Z.name)||((ht=v==null?void 0:v.connector)==null?void 0:ht.walletBranding.name)||"Browser Extension",ke=((bt=Z==null?void 0:Z.image_url)==null?void 0:bt.md)||((ct=v==null?void 0:v.connector)==null?void 0:ct.walletBranding.icon)||(be=>c.jsx(Vw,{...be})),Ue=xe==="Browser Extension"?xe.toLowerCase():xe;t=e?`Successfully connected with ${Ue}`:s?s.message:V?"Switching networks":ie?r&&z?"Signing":"Sign to verify":`Waiting for ${Ue}`;let ge="Dont see your wallet? Check your other browser windows.";e?ge=N===(($==null?void 0:$.linkedAccounts.length)||0)?"Wallet was already linked.":"Youre good to go!":S>=2&&s?ge="Unable to connect wallet":s?ge=s.detail:V?ge="Switch your wallet to the requested network.":ie&&z?ge="Sign the message in your wallet to verify it belongs to you.":he==="metamask"&&It.isMobile?ge="Click continue to open and connect MetaMask.":he==="metamask"?ge="For the best experience, connect only one wallet at a time.":te==="wallet_connect"?ge="Open your mobile wallet app to continue":te==="coinbase_wallet"?Wk()||(ge=c6($)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Confirm in the Coinbase app/popup to continue."):(st=g==null?void 0:g.login)!=null&&st.isSigningInWithLedgerSolana&&(ge="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let Ce=(un=k==null?void 0:k.walletConnectors)==null?void 0:un.find((be=>be.walletClientType==="coinbase_wallet")),Ee=he==="coinbase_wallet"&&(c6($)||s===Ao.ERROR_USER_EXISTS);return c.jsx($ue,{walletLogo:ke,title:t,subtitle:ge,signSuccess:e,errorMessage:s,connectSuccess:ie,separateConnectAndSign:z,signing:r,walletConnectRedirectUri:O,walletConnectFallbackUniversalUri:M,hasTabbedAway:T,showCoinbaseWalletResetCta:Ee,numRetries:S,onBack:h&&p!==h?u:void 0,onSign:()=>{i(!0),ae()},onRetry:()=>{I(S+1),a(void 0),ie?(i(!0),ae()):v==null||v.connectRetry()},onCoinbaseReset:()=>{Ce&&(Ce==null||Ce.disconnect())},onDifferentWallet:u})}};let Iue=F.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-7b4251f2-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const ep={component:()=>{var f,g,m,w,v,C;let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:n}=Se(),{data:r,navigate:i}=Le(),s=Re(),a=ol(),o=(f=r==null?void 0:r.externalConnectWallet)==null?void 0:f.description,l=y.useRef(((g=r==null?void 0:r.externalConnectWallet)==null?void 0:g.walletList)??s.appearance.walletList),d=y.useRef(((m=r==null?void 0:r.externalConnectWallet)==null?void 0:m.walletChainType)??s.appearance.walletChainType),u=l.current,h=d.current,p=n.current==="link"?void 0:()=>i(hr);return c.jsx(eI,{walletList:u,walletChainType:h,onClose:e,onConnect:y.useCallback((({connector:_,wallet:E})=>{var x;a("connectWallet","onSuccess",{wallet:E}),t({status:"connected",connectedWallet:E,connector:_,connectError:null,connectRetry:()=>null}),i(aa,!((x=r==null?void 0:r.externalConnectWallet)!=null&&x.preSelectedWalletId))}),[t,i,(w=r==null?void 0:r.login)==null?void 0:w.disableSignup,(v=r==null?void 0:r.externalConnectWallet)==null?void 0:v.preSelectedWalletId]),onConnectError:_=>{_ instanceof ur?(console.warn(_.cause?_.cause:_.message),a("connectWallet","onError",_.privyErrorCode||Q.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(_),a("connectWallet","onError",Q.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:p,customDescription:o||"",preSelectedWalletId:(C=r==null?void 0:r.externalConnectWallet)==null?void 0:C.preSelectedWalletId,app:s})},isUnauthenticatedScreem:!0},iI=({children:t,theme:e})=>c.jsxs(Sue,{$theme:e,children:[c.jsx(HB,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),c.jsx(Aue,{$theme:e,children:t})]});let Sue=F.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Aue=F.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const Go=F.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),Ja=F.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),hv=F.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]),sI=Ln(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],(t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:"")),vg=F.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],sI);let Tue=F(vg).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),Pue=F.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),Due=F.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),Nue=F.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),jue=F(hv).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),Oue=F(Ko).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),Rue=F(Xi).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const bg=({errMsg:t,balance:e,address:n,className:r,title:i,showCopyButton:s=!1})=>{let[a,o]=y.useState(!1);return y.useEffect((()=>{if(a){let l=setTimeout((()=>o(!1)),3e3);return()=>clearTimeout(l)}}),[a]),c.jsxs("div",{children:[i&&c.jsx(jue,{children:i}),c.jsx(Tue,{className:r,$state:t?"error":void 0,children:c.jsxs(Pue,{children:[c.jsxs(Due,{children:[c.jsx(Dr,{address:n,showCopyIcon:!1}),e!==void 0&&c.jsx(Nue,{children:e})]}),s&&c.jsx(Rue,{onClick:function(l){l.stopPropagation(),navigator.clipboard.writeText(n).then((()=>o(!0))).catch(console.error)},size:"sm",children:c.jsxs(c.Fragment,a?{children:["Copied",c.jsx(tu,{size:14})]}:{children:["Copy",c.jsx(hp,{size:14})]})})]})}),t&&c.jsx(Oue,{children:t})]})};function aI({rpcConfig:t,appId:e,address:n,chain:r}){let{chains:i}=Se(),[s,a]=y.useState(0n),[o,l]=y.useState(!1),d=y.useMemo((()=>{let h=r||i[0];if(h)return $s({chain:r,transport:Is(da(h,t,e))})}),[r,t,e]),u=y.useCallback((async()=>{if(!n||!d)return;l(!0);let h=await d.getBalance({address:n}).catch(console.error);return h?(a(h),l(!1),h):void 0}),[d,n,a]);return y.useEffect((()=>{u().catch(console.error)}),[]),{balance:s,isLoading:o,reloadBalance:u}}const Ps="sdk_fiat_on_ramp_completed_with_status";async function pv({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}function xg(t){switch(t){case"solana:mainnet":return"Solana";case"solana:devnet":return"Devnet";case"solana:testnet":return"Testnet"}}function S1(t){let[e]=Object.entries(dce[t]).find((([n,r])=>r.symbol==="USDC"))??[];return e}const fv=async({chain:t,address:e,appId:n,rpcConfig:r,erc20Address:i})=>({balance:await $s({chain:t,transport:Is(da(t,r,n))}).readContract({address:i,abi:Mue,functionName:"balanceOf",args:[e]}).catch((()=>0n)),chain:t});let Mue=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const Gp={component:()=>{var $,A,N;let{wallets:t}=ll(),{connectors:e}=Se(),n=e.filter(ng).flatMap((O=>O.wallets)),{data:r,setModalData:i,navigate:s,lastScreen:a}=Le(),{rpcConfig:o,appId:l,createAnalyticsEvent:d,closePrivyModal:u}=Se(),h=Re(),[p,f]=y.useState(void 0),[g,m]=y.useState(!1),w=r==null?void 0:r.funding,{reloadBalance:v}=aI({rpcConfig:o,appId:l,address:w.chainType==="ethereum"?w.address:void 0,chain:w.chainType==="ethereum"?w.chain:void 0}),C=w.chainType==="solana",_=C?w.isUSDC?"USDC":"SOL":w.erc20Address?($=w.erc20ContractInfo)==null?void 0:$.symbol:w.chain.nativeCurrency.symbol,E=C?n.find((({address:O})=>O===w.address)):t.find((({address:O})=>fr(O)===fr(w.address)));if(!w)return i({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:a||xi},funding:r==null?void 0:r.funding,solanaFundingData:r==null?void 0:r.solanaFundingData,sendTransaction:r==null?void 0:r.sendTransaction}),s(dn),c.jsx(c.Fragment,{});y.useEffect((()=>{let O=C?async function(){if(w.chainType!=="solana")return;let M=h.solanaRpcs[w.chain];M?(w.isUSDC?(async function({rpc:B,address:U,mintAddress:L}){var W;let T=await B.getTokenAccountsByOwner(U,{mint:L},{encoding:"jsonParsed",commitment:"confirmed"}).send(),j=(W=T.value[0])==null?void 0:W.account;return j?BigInt(j.data.parsed.info.tokenAmount.amount):0n})({rpc:M.rpc,address:w.address,mintAddress:S1(w.chain)}):pv({rpc:M.rpc,address:w.address})).then((B=>{let U=BigInt(B);p&&U>p&&(m(!0),d({eventName:Ps,payload:{provider:"manual",status:"success",chainType:"solana",address:E==null?void 0:E.address,value:w.isUSDC?wi(U-p,6):wi(U-p,9),token:w.isUSDC?"USDC":"SOL"}})),f(U)})):console.warn("Unable to load solana rpc, skipping balance")}:async function(){w.chainType==="ethereum"&&(async()=>{if(!w.erc20Address)return await v()??BigInt(0);{let{balance:M}=await fv({chain:w.chain,address:w.address,erc20Address:w.erc20Address,rpcConfig:o,appId:l});return M}})().then((M=>{var B,U;p&&M>p&&(m(!0),d({eventName:Ps,payload:{provider:"manual",status:"success",chainType:"ethereum",address:E==null?void 0:E.address,chainId:w.chain.id,value:wi(M-p,((B=w.erc20ContractInfo)==null?void 0:B.decimals)??18),token:((U=w.erc20ContractInfo)==null?void 0:U.symbol)??w.erc20Address??"ETH"}})),f(M)})).catch((()=>f(void 0)))},D=setInterval(O,2e3);return O(),()=>clearInterval(D)}),[p]);let x=y.useMemo((()=>{var O;return p==null?"":w.isUSDC?m0({amount:p,decimals:6}):C?Jh(p,3,!0,!0):((O=w.erc20ContractInfo)==null?void 0:O.decimals)!=null?m0({amount:p,decimals:w.erc20ContractInfo.decimals}):KR({wei:p})}),[p,C,w]),b=w.chainType==="ethereum"?w.chain.name:xg(w.chain),k=y.useMemo((()=>{var O,D;return((O=w.uiConfig)==null?void 0:O.receiveFundsTitle)===""?null:c.jsx(Ja,{children:((D=w.uiConfig)==null?void 0:D.receiveFundsTitle)??`Receive ${w.amount} ${_??""}`.trim()})}),[(A=w.uiConfig)==null?void 0:A.receiveFundsTitle,w.amount,_]),S=y.useMemo((()=>{var O,D;return((O=w.uiConfig)==null?void 0:O.receiveFundsSubtitle)===""?null:c.jsx(Go,{children:((D=w.uiConfig)==null?void 0:D.receiveFundsSubtitle)??`Scan this code or copy your wallet address to receive funds on ${b}.`})}),[(N=w.uiConfig)==null?void 0:N.receiveFundsSubtitle,b]),I=w.chainType==="solana"&&w.isUSDC&&S1(w.chain)?`?spl-token=${S1(w.chain)}`:"";return c.jsxs(c.Fragment,{children:[c.jsx($i,{}),k,S,c.jsxs(ag,{style:{gap:"1rem",margin:k||S?"1rem 0":"0"},children:[c.jsx(Ku,{url:`${w.chainType}:${w.address}${I}`,size:200,squareLogoElement:Lue}),c.jsxs(iI,{theme:h.appearance.palette.colorScheme,children:["Make sure to send funds on ",b,"."]}),c.jsx(bg,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${x} ${_}`,address:w.address}),g&&c.jsx(Bt,{onClick:()=>u({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),c.jsx(jt,{})]})}};let Lue=({...t})=>c.jsx(Jk,{color:"black",...t}),Fue=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const oI=async({address:t,chain:e,rpcConfig:n,privyAppId:r})=>{try{let i=$s({chain:e,transport:Is(da(e,n,r))}),[s,a]=await Promise.all([i.readContract({abi:d6,address:t,functionName:"symbol"}),i.readContract({abi:d6,address:t,functionName:"decimals"})]);return{decimals:a,symbol:s}}catch(i){return console.log(i),null}};let d6=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Uue=2n**256n-1n;const Yp=({amount:t,decimals:e})=>t===Uue?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e);let Bue=({data:t})=>{let e=n=>typeof n=="object"&&n!==null?c.jsx(Wue,{children:Object.entries(n).map((([r,i])=>c.jsxs("li",{children:[c.jsxs("strong",{children:[r,":"]})," ",e(i)]},r)))}):c.jsx("span",{children:String(n)});return c.jsx("div",{children:e(t)})};const lI=F.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let Wue=F.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const cI=({data:t,className:e})=>c.jsx(lI,{className:e,children:c.jsx(Bue,{data:t})});let zue=F.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var que=({onBack:t,details:e})=>c.jsxs(zue,{children:[c.jsx(ut,{backFn:t}),c.jsx(cI,{data:e}),c.jsx(jt,{})]});const Lt=F.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),Hue=F(Lt).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),Vue=F(Lt).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]),gv=F.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),Zt=F.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]);let Kue=w7(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const Cg=Ln(["",""],(t=>t.$isLoading?Ln(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],Kue):"")),wn=F.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],Cg);var u6=({iconUrl:t,value:e,symbol:n,usdValue:r,nftName:i,nftCount:s,decimals:a,$isLoading:o})=>{if(o)return c.jsx(h6,{$isLoading:o});let l=e&&r&&a?(function(d,u,h){let p=parseFloat(d),f=parseFloat(h);if(p===0||f===0||Number.isNaN(p)||Number.isNaN(f))return d;let g=Math.ceil(-Math.log10(.01/(f/p))),m=Math.pow(10,g=Math.max(g=Math.min(g,u),1)),w=+(Math.floor(p*m)/m).toFixed(g).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:u}).format(w)})(e,a,r):e;return c.jsxs("div",{children:[c.jsxs(h6,{$isLoading:o,children:[t&&c.jsx(Yue,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,l," ",n]}),r&&c.jsxs(Gue,{$isLoading:o,children:["$",r]})]})};let h6=F.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],Cg);const Gue=F.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],Cg);let Yue=F.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const Zue=t=>{var o,l,d,u,h,p,f,g;let{chain:e,transactionDetails:n,isTokenContractInfoLoading:r,symbol:i}=t,{action:s,functionName:a}=n;return c.jsx(vg,{children:c.jsxs(gv,{children:[s!=="transaction"&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Action"}),c.jsx(wn,{children:a})]}),a==="mint"&&"args"in n&&n.args.filter((m=>m)).map(((m,w)=>{var v,C;return c.jsxs(Zt,{children:[c.jsx(Lt,{children:`Param ${w}`}),c.jsx(wn,{children:typeof m=="string"&&Wx(m)?c.jsx(Dr,{address:m,url:(C=(v=e==null?void 0:e.blockExplorers)==null?void 0:v.default)==null?void 0:C.url,showCopyIcon:!1}):m==null?void 0:m.toString()})]},w)})),a==="setApprovalForAll"&&n.operator&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Operator"}),c.jsx(wn,{children:c.jsx(Dr,{address:n.operator,url:(l=(o=e==null?void 0:e.blockExplorers)==null?void 0:o.default)==null?void 0:l.url,showCopyIcon:!1})})]}),a==="setApprovalForAll"&&n.approved!==void 0&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Set approval to"}),c.jsx(wn,{children:n.approved?"true":"false"})]}),a==="transfer"||a==="transferFrom"||a==="safeTransferFrom"||a==="approve"?c.jsxs(c.Fragment,{children:["formattedAmount"in n&&n.formattedAmount&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Amount"}),c.jsxs(wn,{$isLoading:r,children:[n.formattedAmount," ",i]})]}),"tokenId"in n&&n.tokenId&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Token ID"}),c.jsx(wn,{children:n.tokenId.toString()})]})]}):null,a==="safeBatchTransferFrom"&&c.jsxs(c.Fragment,{children:["amounts"in n&&n.amounts&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Amounts"}),c.jsx(wn,{children:n.amounts.join(", ")})]}),"tokenIds"in n&&n.tokenIds&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Token IDs"}),c.jsx(wn,{children:n.tokenIds.join(", ")})]})]}),a==="approve"&&n.spender&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Spender"}),c.jsx(wn,{children:c.jsx(Dr,{address:n.spender,url:(u=(d=e==null?void 0:e.blockExplorers)==null?void 0:d.default)==null?void 0:u.url,showCopyIcon:!1})})]}),(a==="transferFrom"||a==="safeTransferFrom"||a==="safeBatchTransferFrom")&&n.transferFrom&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Transferring from"}),c.jsx(wn,{children:c.jsx(Dr,{address:n.transferFrom,url:(p=(h=e==null?void 0:e.blockExplorers)==null?void 0:h.default)==null?void 0:p.url,showCopyIcon:!1})})]}),(a==="transferFrom"||a==="safeTransferFrom"||a==="safeBatchTransferFrom")&&n.transferTo&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Transferring to"}),c.jsx(wn,{children:c.jsx(Dr,{address:n.transferTo,url:(g=(f=e==null?void 0:e.blockExplorers)==null?void 0:f.default)==null?void 0:g.url,showCopyIcon:!1})})]})]})})},dI=({children:t,theme:e})=>c.jsxs(Jue,{$theme:e,children:[c.jsx(Y2,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),c.jsx(Que,{$theme:e,children:t})]});let Jue=F.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Que=F.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const uI=({children:t,theme:e})=>c.jsxs(Xue,{$theme:e,children:[c.jsx(Jo,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),c.jsx(ehe,{$theme:e,children:t})]});let Xue=F.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),ehe=F.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const the=({variant:t,setPreventMaliciousTransaction:e,colorScheme:n="light",preventMaliciousTransaction:r})=>t==="warn"?c.jsx(p6,{children:c.jsxs(uI,{theme:n,children:[c.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),c.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?c.jsx(c.Fragment,{children:c.jsxs(p6,{children:[c.jsx(dI,{theme:n,children:c.jsxs("div",{children:[c.jsx("strong",{children:"This is a malicious transaction"}),c.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),c.jsxs(nhe,{children:[c.jsx(D$,{color:"var(--privy-color-error)",checked:!r,readOnly:!0,onClick:()=>e(!r)}),c.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let p6=F.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),nhe=F.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const rhe=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,ihe=({img:t,submitError:e,prepareError:n,onClose:r,action:i,title:s,subtitle:a,to:o,tokenAddress:l,network:d,missingFunds:u,fee:h,from:p,cta:f,disabled:g,chain:m,isSubmitting:w,isPreparing:v,isTokenPriceLoading:C,isTokenContractInfoLoading:_,isSponsored:E,symbol:x,balance:b,onClick:k,transactionDetails:S,transactionIndex:I,maxIndex:$,onBack:A,chainName:N,validation:O,hasScanDetails:D,setIsScanDetailsOpen:M,preventMaliciousTransaction:B,setPreventMaliciousTransaction:U,tokensSent:L,tokensReceived:T,isScanning:j,isCancellable:W,functionName:Z})=>{var he,xe,ke,Ue,ge,Ce;let{showTransactionDetails:z,setShowTransactionDetails:ie,hasMoreDetails:V,isErc20Ish:ee}=(Ee=>{let[re,We]=y.useState(!1),ze=!0,de=!1;return(!Ee||Ee.isErc20Ish||Ee.action==="transaction")&&(ze=!1),ze&&(de=Object.entries(Ee||{}).some((([ve,St])=>St&&!["action","isErc20Ish","isNFTIsh"].includes(ve)))),{showTransactionDetails:re,setShowTransactionDetails:We,hasMoreDetails:ze&&de,isErc20Ish:Ee==null?void 0:Ee.isErc20Ish}})(S),ae=Re(),te=ee&&_||v||C||j;return c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:r,backFn:A}),t&&c.jsx(ohe,{children:t}),c.jsxs(Ja,{style:{marginTop:t?"1.5rem":0},children:[s,c.jsx(rhe,{maxIndex:$,transactionIndex:I})]}),c.jsx(Go,{children:a}),c.jsxs(gv,{style:{marginTop:"2rem"},children:[(!!L[0]||te)&&c.jsxs(Zt,{children:[T.length>0?c.jsx(Lt,{children:"Send"}):c.jsx(Lt,{children:i==="approve"?"Approval amount":"Amount"}),c.jsx("div",{className:"flex flex-col",children:L.map(((Ee,re)=>c.jsx(u6,{iconUrl:Ee.iconUrl,value:Z==="setApprovalForAll"?"All":Ee.value,usdValue:Ee.usdValue,symbol:Ee.symbol,nftName:Ee.nftName,nftCount:Ee.nftCount,decimals:Ee.decimals},re)))})]}),T.length>0&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Receive"}),c.jsx("div",{className:"flex flex-col",children:T.map(((Ee,re)=>c.jsx(u6,{iconUrl:Ee.iconUrl,value:Ee.value,usdValue:Ee.usdValue,symbol:Ee.symbol,nftName:Ee.nftName,nftCount:Ee.nftCount,decimals:Ee.decimals},re)))})]}),S&&"spender"in S&&(S!=null&&S.spender)?c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Spender"}),c.jsx(wn,{children:c.jsx(Dr,{address:S.spender,url:(xe=(he=m==null?void 0:m.blockExplorers)==null?void 0:he.default)==null?void 0:xe.url})})]}):null,o&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"To"}),c.jsx(wn,{children:c.jsx(Dr,{address:o,url:(Ue=(ke=m==null?void 0:m.blockExplorers)==null?void 0:ke.default)==null?void 0:Ue.url,showCopyIcon:!0})})]}),l&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Token address"}),c.jsx(wn,{children:c.jsx(Dr,{address:l,url:(Ce=(ge=m==null?void 0:m.blockExplorers)==null?void 0:ge.default)==null?void 0:Ce.url})})]}),c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Network"}),c.jsx(wn,{children:d})]}),c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Estimated fee"}),c.jsx(wn,{$isLoading:v||C||E===void 0,children:E?c.jsxs(lhe,{children:[c.jsxs(che,{children:["Sponsored by ",ae.name]}),c.jsx($B,{height:16,width:16})]}):h})]}),V&&!D&&c.jsxs(c.Fragment,{children:[c.jsx(Zt,{className:"cursor-pointer",onClick:()=>ie(!z),children:c.jsxs(Hue,{className:"flex items-center gap-x-1",children:["Details"," ",c.jsx(Z2,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:z?"rotate(180deg)":void 0}})]})}),z&&S&&c.jsx(Zue,{action:i,chain:m,transactionDetails:S,isTokenContractInfoLoading:_,symbol:x})]}),D&&c.jsx(Zt,{children:c.jsxs(Vue,{onClick:()=>M(!0),children:[c.jsx("span",{className:"text-color-primary",children:"Details"}),c.jsx(NU,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),c.jsx(bc,{}),e?c.jsx(Ko,{style:{marginTop:"2rem"},children:e.message}):n&&I===0?c.jsx(Ko,{style:{marginTop:"2rem"},children:n.shortMessage??ahe}):null,c.jsx(the,{variant:O,preventMaliciousTransaction:B,setPreventMaliciousTransaction:U}),c.jsx(she,{$useSmallMargins:!(!n&&!e&&O!=="warn"&&O!=="error"),address:p,balance:b,errMsg:v||n||e||!u?void 0:`Add funds on ${(m==null?void 0:m.name)??N} to complete transaction.`}),c.jsx(Bt,{style:{marginTop:"1rem"},loading:w,disabled:g||v,onClick:k,children:f}),W&&c.jsx(ig,{style:{marginTop:"1rem"},onClick:r,isSubmitting:!1,children:"Not now"}),c.jsx(jt,{})]})};let she=F(bg).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],(t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;")),ahe="There was an error preparing your transaction. Your transaction request will likely fail.",ohe=F.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),lhe=F.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),che=F.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),dhe=()=>c.jsxs(ghe,{children:[c.jsx(yhe,{}),c.jsx(mhe,{})]});const uhe=({transactionError:t,chainId:e,onClose:n,onRetry:r,chainType:i,transactionHash:s})=>{let{chains:a}=Se(),[o,l]=y.useState(!1),{errorCode:d,errorMessage:u}=((p,f)=>{if(f==="ethereum")return{errorCode:p.details??p.message,errorMessage:p.shortMessage};let g=p.txSignature,m=(p==null?void 0:p.transactionMessage)||"Something went wrong.";if(Array.isArray(p.logs)){let w=p.logs.find((v=>/insufficient (lamports|funds)/gi.test(v)));w&&(m=w)}return{transactionHash:g,errorMessage:m}})(t,i),h=(({chains:p,chainId:f,chainType:g,transactionHash:m})=>{var w,v;return g==="ethereum"?((v=(w=p.find((C=>C.id===f)))==null?void 0:w.blockExplorers)==null?void 0:v.default.url)??"https://etherscan.io":(function(C,_){return`https://explorer.solana.com/tx/${C}?chain=${_}`})(m||"",f)})({chains:a,chainId:e,chainType:i,transactionHash:s});return c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:n}),c.jsxs(hhe,{children:[c.jsx(dhe,{}),c.jsx(phe,{children:d}),c.jsx(fhe,{children:"Please try again."}),c.jsxs(g6,{children:[c.jsx(f6,{children:"Error message"}),c.jsx(m6,{$clickable:!1,children:u})]}),s&&c.jsxs(g6,{children:[c.jsx(f6,{children:"Transaction hash"}),c.jsxs(vhe,{children:["Copy this hash to view details about the transaction on a"," ",c.jsx("u",{children:c.jsx("a",{href:h,children:"block explorer"})}),"."]}),c.jsxs(m6,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(s),l(!0)},children:[s,c.jsx(Che,{clicked:o})]})]}),c.jsx(whe,{onClick:()=>r({resetNonce:!!s}),children:"Retry transaction"})]}),c.jsx(xn,{})]})};let hhe=F.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-d58f10e6-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),phe=F.span.withConfig({displayName:"ErrorCode",componentId:"sc-d58f10e6-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),fhe=F.span.withConfig({displayName:"Subtitle",componentId:"sc-d58f10e6-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),ghe=F.div.withConfig({displayName:"CircleContainer",componentId:"sc-d58f10e6-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),mhe=F(Y2).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-d58f10e6-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),yhe=F.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-d58f10e6-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),whe=F(Bt).withConfig({displayName:"RetryButton",componentId:"sc-d58f10e6-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),f6=F.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-d58f10e6-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),g6=F.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-d58f10e6-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),vhe=F.text.withConfig({displayName:"HelperText",componentId:"sc-d58f10e6-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),m6=F.span.withConfig({displayName:"TextBox",componentId:"sc-d58f10e6-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],(t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`)),bhe=F(RB).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-d58f10e6-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),xhe=F(E7).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-d58f10e6-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),Che=({clicked:t})=>c.jsx(t?xhe:bhe,{}),_he=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return Yr(t*e)}catch{return}};const Ehe=({txn:t,receipt:e,transactionInfo:n,onClose:r,tokenPrice:i,tokenSymbol:s,receiptHeader:a,receiptDescription:o})=>c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:r}),c.jsx(Wce,{title:a??"Transaction complete!",description:o??"You're all set."}),c.jsx(b$,{tokenPrice:i,from:e.from,to:e.to,gas:_he(e),txn:t,transactionInfo:n,tokenSymbol:s}),c.jsx(bc,{}),c.jsx(khe,{loading:!1,onClick:r,children:"All Done"}),c.jsx(ss,{}),c.jsx(jt,{})]});let khe=F(Bt).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const $he=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Ihe=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],She=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Yy=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Ahe=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],The=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Phe=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Dhe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Nhe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],jhe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],hI=(t,e)=>{let n=Ws(She,t);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let r=Ws(Yy,t);if(r)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:r.args[0],amount:r.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=Ws($he,t);if(i&&typeof i.args[1]=="string"){let h=Ohe(i.args[1]);if(h&&h[4].encodedInitData)return hI(h[4].encodedInitData,e)}let s=Ws(Phe,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let a=Ws(Dhe,t);if(a)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let o=Ws(The,t);if(o)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let l=Ws(jhe,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let d=Ws(Nhe,t);if(d)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:d.args[0],transferTo:d.args[1],tokenIds:d.args[2],amounts:d.args[3]};let u=Ws(Ahe,t);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let Ws=(t,e)=>{try{let n=ZA({abi:t,data:e});return{functionName:n.functionName,args:n.args||[]}}catch{return null}},Ohe=t=>{try{if(typeof t=="string")return JA(Ihe,`0x${t.slice(10)}`)}catch{return null}},A1=t=>`${parseFloat(t).toFixed(2)}`;const Rhe=(t,e,n,r)=>{let[i,s]=y.useState(null),{walletProxy:a}=Se();return y.useEffect((()=>{i&&s(null),(async()=>{if(!a||!e)return null;let o=[],l=!0,d=await Hp(t,n,e,r).catch((u=>(u.message&&u.message.includes("Insufficient balance for transaction")||u.details&&u.details.includes("insufficient funds")?l=!1:o.push(u),t)));return{tx:d,totalGasEstimate:d.gas,hasFunds:l,errors:o}})().then(s)}),[t]),i};let y6=new or(new rc("There was an issue preparing your transaction",Bi.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),w6=(t,e)=>t!=null&&t.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const pI={component:()=>{var Kt,Ae,Cn,Fr,Ur,Pi,P,R,K,H,J,X,le,ce,Qe,it,dt,ft;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:n,navigate:r}=Le(),{client:i,rpcConfig:s,chains:a,closePrivyModal:o,walletProxy:l,showFiatPrices:d}=Se(),{user:u}=wt(),h=Re(),[p,f]=y.useState(0),[g,m]=y.useState(0),[w,v]=y.useState(w6(t,p)),[C,_]=y.useState(null),[E,x]=y.useState(),[b,k]=y.useState(!1),[S,I]=y.useState(null),[$,A]=y.useState(null),[N,O]=y.useState(null),[D,M]=y.useState(void 0),[B,U]=y.useState(void 0),[L,T]=y.useState(!1),[j,W]=y.useState(!1),[Z,z]=y.useState([]),[ie,V]=y.useState([]),[ee,ae]=y.useState("uninitiated"),[te,he]=y.useState(void 0);if(!w||!(t!=null&&t.sendTransaction)||!(t!=null&&t.sendTransaction))return c.jsx(yg,{error:Error("Invalid transaction request"),allowlistConfig:h.allowlistConfig,onRetry:()=>{var Ne;(Ne=t==null?void 0:t.sendTransaction)==null||Ne.onFailure(y6),o({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:xe}=t.sendTransaction,ke=y.useMemo((()=>a.find((Ne=>Number(Ne.id)===Number(w.chainId)))),[w.chainId]),Ue=(ke==null?void 0:ke.nativeCurrency.symbol)??"ETH",ge=y.useMemo((()=>hI(w.data,!!h.embeddedWallets.extendedCalldataDecoding)),[w.data]),{action:Ce,isErc20Ish:Ee,isNFTIsh:re,functionName:We}=ge,{toAddress:ze,tokenAddress:de}=y.useMemo((()=>({toAddress:ge.isErc20Ish?ge.transferTo:w.to??void 0,tokenAddress:ge.isErc20Ish?w.to:void 0})),[ge]);y.useEffect((()=>{w.to&&ke&&Ee&&oI({address:w.to,chain:ke,rpcConfig:h.rpcConfig,privyAppId:h.id}).then(_).catch(console.error)}),[w.to,ke]);let{tokenPrice:ve,isTokenPriceLoading:St}=Hu(w.chainId),{balance:Wt}=aI({rpcConfig:h.rpcConfig,appId:h.id,address:xe,chain:ke}),pe=(function({rpcConfig:Ne,appId:Ze,address:je,chain:He,tokenInfo:Ke}){let{chains:pt}=Se(),[kt,nt]=y.useState(null),[et,xt]=y.useState(!1),on=y.useMemo((()=>{let we=He||pt[0];if(we)return $s({chain:He,transport:Is(gC(we,Ne,Ze))})}),[He,Ne,Ze]),_r=y.useCallback((async()=>{if(je&&on&&Ke.address)try{return xt(!0),await on.readContract({address:Ke.address,abi:Fue,functionName:"balanceOf",args:[je]})}catch(we){console.error(we)}finally{xt(!1)}}),[on,je,Ke==null?void 0:Ke.address,He]);return y.useEffect((()=>{_r().then((we=>we!=null&&nt(we)))}),[_r]),{balance:kt,isLoading:et&&kt==null,formattedBalance:m0({amount:kt??BigInt(0),decimals:Ke.decimals})}})({rpcConfig:h.rpcConfig,appId:h.id,address:xe,tokenInfo:{address:de||"",decimals:(C==null?void 0:C.decimals)??18},chain:ke}),zt=y.useMemo((()=>vc(Number(w.chainId),a,s,{appId:h.id})),[w.chainId,s]),Te=Rhe(w,xe,zt,(Kt=t==null?void 0:t.sendTransaction)==null?void 0:Kt.prepareTransactionRequest);y.useEffect((()=>{v(w6(t,p))}),[p]),y.useEffect((()=>{var Ne;(Ne=t.sendTransaction)!=null&&Ne.getIsSponsored?t.sendTransaction.getIsSponsored().then(x).catch(console.error):x(!1)}),[t.sendTransaction.getIsSponsored]);let ht=()=>{var Ne,Ze,je;if(!b)return S?(Ne=t==null?void 0:t.sendTransaction)==null||Ne.onSuccess({hash:S}):N||Te!=null&&Te.errors[0]?(Ze=t==null?void 0:t.sendTransaction)==null||Ze.onFailure(N??(Te==null?void 0:Te.errors[0])??y6):(je=t==null?void 0:t.sendTransaction)==null||je.onFailure(new or(new rc("The user rejected the request",Bi.E4001_USER_REJECTED_REQUEST.eipCode))),o({shouldCallAuthOnSuccess:!1})};e.current=ht;let bt=!!(t.funding&&t.funding.supportedOptions.length>0),ct=Gi(BigInt((Te==null?void 0:Te.totalGasEstimate)??0n),Ue),st=d&&ve?jo(BigInt((Te==null?void 0:Te.totalGasEstimate)??0n),ve):void 0,un=Gi(Wt??0n,Ue,void 0,!0),be=d&&ve?jo(Wt??0n,ve):void 0,_e=C&&!pe.isLoading&&Ee&&Ce!=="approve"?`${pe.formattedBalance} ${C.symbol}`:void 0,me=(Fr=(Cn=(Ae=t.sendTransaction)==null?void 0:Ae.uiOptions)==null?void 0:Cn.transactionInfo)==null?void 0:Fr.title;me||(me=Ce==="approve"?Ee?"Confirm address":"Confirm action":`Approve ${Ce}`);let Be=y.useMemo((()=>{var Ne,Ze,je,He,Ke,pt,kt,nt;if((Ze=(Ne=t.sendTransaction)==null?void 0:Ne.uiOptions)!=null&&Ze.description)return(He=(je=t.sendTransaction)==null?void 0:je.uiOptions)==null?void 0:He.description;if(Ce==="approve"&&We==="setApprovalForAll"&&ge.approved){let et=c.jsx(Dr,{address:ge.operator||"",url:(pt=(Ke=ke==null?void 0:ke.blockExplorers)==null?void 0:Ke.default)==null?void 0:pt.url});return c.jsxs(c.Fragment,{children:[h.name," would like your permission for ",et," to transfer tokens on your behalf."]})}if(Ce==="approve"&&We==="setApprovalForAll"&&!ge.approved){let et=c.jsx(Dr,{address:ge.operator||"",url:(nt=(kt=ke==null?void 0:ke.blockExplorers)==null?void 0:kt.default)==null?void 0:nt.url});return c.jsxs(c.Fragment,{children:[h.name," would like your permission to revoke permissions of ",et," from transferring tokens on your behalf."]})}return Ee&&Ce==="approve"||Ee&&Ce==="approve"?`${h.name} would like your permission for ${fr(ge.spender)} to spend tokens on your behalf.`:`${h.name} wants your permission to approve the following transaction.`}),[h.name,Ee,ge,(Ur=t.sendTransaction)==null?void 0:Ur.uiOptions.description,We]),at=(K=(R=(P=(Pi=t.sendTransaction)==null?void 0:Pi.uiOptions)==null?void 0:P.transactionInfo)==null?void 0:R.contractInfo)!=null&&K.imgUrl?c.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,Xe=!(!Te||Te.errors[0]||Te.hasFunds||E!==!1),Ve=Xe&&bt,De=Ve?"Add funds":((J=(H=t.sendTransaction)==null?void 0:H.uiOptions)==null?void 0:J.buttonText)||(p<g?"Continue":"Approve"),Et=Ne=>{if(!Ne)throw Error("Transaction scan failed");if(Ne.validation.status==="Success"&&(Ne.validation.result_type==="Benign"?U("safe"):Ne.validation.result_type==="Warning"?U("warn"):Ne.validation.result_type==="Malicious"&&(U("error"),W(!0))),Ne.simulation.status!=="Success")throw Error("Simulation failed");{M(Ne.simulation.params);let{assetsIn:Ze,assetsOut:je}=(function(He,Ke){var nt,et,xt,on,_r;let pt=[],kt=new Map;if(He){for(let we of He)if(we.in[0]){let gt;gt=we.asset.type==="ERC721"||we.in[0].value==="approve_for_all"?{id:`nft:${we.asset.name}`,nftName:we.asset.name,nftCount:we.in.length}:{id:`token:${we.asset.type}:${we.asset.symbol}:${we.asset.name}`,iconUrl:we.asset.logo_url,value:we.in[0].value,symbol:we.asset.symbol,usdValue:we.in[0].usd_price?A1(we.in[0].usd_price):void 0,decimals:we.asset.decimals},pt.push(gt)}else if((nt=we.out[0])!=null&&nt.value){let gt;gt=we.asset.type==="ERC721"||we.out[0].value==="approve_for_all"?{id:`nft:${we.asset.name}`,nftName:we.asset.name}:{id:`token:${we.asset.type}:${we.asset.symbol}:${we.asset.name}`,iconUrl:we.asset.logo_url,value:we.out[0].value,symbol:we.asset.symbol,usdValue:we.out[0].usd_price?A1(we.out[0].usd_price):void 0,decimals:we.asset.decimals},kt.has(gt.id)||kt.set(gt.id,gt)}}for(let we of Ke)for(let gt of Object.keys(we.spenders)){let tt;tt=we.asset.type==="ERC721"||((et=we.spenders[gt])==null?void 0:et.value)==="approve_for_all"?{id:`nft:${we.asset.name}`,nftName:we.asset.name}:{id:`token:${we.asset.type}:${we.asset.symbol}:${we.asset.name}`,iconUrl:we.asset.logo_url,value:(xt=we.spenders[gt])==null?void 0:xt.value,symbol:we.asset.symbol,usdValue:(on=we.spenders[gt])!=null&&on.usd_price?A1((_r=we.spenders[gt])==null?void 0:_r.usd_price):void 0,decimals:we.asset.decimals},kt.has(tt.id)||kt.set(tt.id,tt)}return{assetsIn:pt,assetsOut:Array.from(kt.values())}})(Ne.simulation.assets_diffs,Ne.simulation.exposures);if(je.length===0&&Ze.length===0)throw Error("No tokens found");z(je),V(Ze)}};if(y.useEffect((()=>{var Ne;(Ne=t.sendTransaction)!=null&&Ne.scanTransaction&&h.embeddedWallets.transactionScanning.enabled&&ee==="uninitiated"&&(ae("in progress"),t.sendTransaction.scanTransaction().then((Ze=>{Et(Ze),ae("completed")})).catch((()=>ae("failed"))))}),[!!((X=t.sendTransaction)!=null&&X.scanTransaction)]),y.useEffect((()=>{var Ne;(Ne=t.sendTransaction)!=null&&Ne.scanTransaction&&ee!=="failed"||((Ze,je,He)=>{if(m((Ke=>Ke!=null&&Ke.sendTransaction?"transactionRequest"in Ke.sendTransaction?0:Ke.sendTransaction.transactionRequests.length-1:0)(t)),je.isErc20Ish&&je.amount&&He){let Ke=Yp({amount:je.amount,decimals:He.decimals});he(Ke),z([{value:Ke,symbol:He==null?void 0:He.symbol,decimals:He==null?void 0:He.decimals}])}else if(Ze.value){let Ke=BigInt(Ze.value),pt=ve?jo(Ke,ve):void 0;z(d&&pt?[{value:pt}]:[{value:u$(Ke),symbol:Ue,decimals:18,usdValue:pt}])}else z(d?[{value:"$0"}]:[{value:"0",symbol:Ue,decimals:18}])})((Te==null?void 0:Te.tx)??w,ge,C)}),[w,Te==null?void 0:Te.tx,ge,C,ee]),$)return c.jsx(Ehe,{txn:(Te==null?void 0:Te.tx)??w,onClose:ht,receipt:$,transactionInfo:(le=t.sendTransaction)==null?void 0:le.uiOptions.transactionInfo,tokenPrice:ve,tokenSymbol:Ue,receiptHeader:(ce=t.sendTransaction)==null?void 0:ce.uiOptions.successHeader,receiptDescription:(Qe=t.sendTransaction)==null?void 0:Qe.uiOptions.successDescription});if(N)return c.jsx(uhe,{transactionError:N,transactionHash:S??void 0,chainType:"ethereum",chainId:(Te==null?void 0:Te.tx.chainId)??w.chainId,onClose:ht,onRetry:({resetNonce:Ne})=>{O(null);let Ze={...(Te==null?void 0:Te.tx)??w};Ne&&(Ze.nonce=void 0),v(Ze)}});let At=g!==0&&typeof p=="number"&&p!==0?()=>{f(p-1)}:void 0;return L&&D?c.jsx(que,{details:D,onBack:()=>T(!1)}):c.jsx(ihe,{transactionIndex:p,onBack:At,maxIndex:g,disabled:Xe&&!bt||j,isSubmitting:b,submitError:N,isPreparing:!Te,isTokenPriceLoading:St,isTokenContractInfoLoading:!re&&!C,prepareError:Te==null?void 0:Te.errors[0],symbol:C==null?void 0:C.symbol,chain:ke,img:at,title:me,subtitle:Be,txValue:w.value,fee:st??ct,isSponsored:E,from:xe??"",to:ze,tokenAddress:de??void 0,network:((it=h.chains.find((Ne=>Ne.id===w.chainId)))==null?void 0:it.name)??"",transactionDetails:{...ge,formattedAmount:te},cta:De,missingFunds:Xe,action:Ce,balance:_e??be??un,onClose:ht,onClick:Ve?async()=>{var Ne;if(xe){if(!bt)throw Error("Funding wallet is not enabled");n({...t,funding:{...t.funding,methodScreen:xi,chainType:"ethereum",amount:rf(BigInt((Te==null?void 0:Te.tx.value)??0)+BigInt(((Ne=Te==null?void 0:Te.totalGasEstimate)==null?void 0:Ne.toString())??0)),chain:ke},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(xi)}}:async()=>{var Ne,Ze;if(p<g)f(p+1);else{k(!0);try{let je=await i.getAccessToken();if(b||!je||!l||!u)return;let He=await t.sendTransaction.onConfirm({transactionRequest:(Te==null?void 0:Te.tx)??w});if(I(He),(Ne=t.sendTransaction)==null?void 0:Ne.signOnly)return await new Promise((pt=>setTimeout(pt,an))),(Ze=t==null?void 0:t.sendTransaction)==null||Ze.onSuccess({hash:He}),o({shouldCallAuthOnSuccess:!1});let Ke=await zt.waitForTransactionReceipt({hash:He});if(Ke.status==="reverted")throw Error("Transaction failed");A(Ke)}catch(je){console.warn({transaction:(Te==null?void 0:Te.tx)??w,error:je}),O(je)}finally{k(!1)}}},validation:B,hasScanDetails:!!D,setIsScanDetailsOpen:T,preventMaliciousTransaction:j,setPreventMaliciousTransaction:W,tokensSent:Z,tokensReceived:ie,isScanning:ee==="in progress",isCancellable:((ft=(dt=t.sendTransaction)==null?void 0:dt.uiOptions)==null?void 0:ft.isCancellable)??!1,functionName:We})}};function $i({title:t}){var a,o;let{currentScreen:e,navigateBack:n,navigate:r,data:i,setModalData:s}=Le();return c.jsx(ut,{title:t,backFn:e===Gp?n:e===((a=i==null?void 0:i.funding)==null?void 0:a.methodScreen)?i.funding.comingFromSendTransactionScreen?()=>r(pI):void 0:(o=i==null?void 0:i.funding)!=null&&o.methodScreen?()=>{let l=i.funding;l.usingDefaultFundingMethod&&(l.usingDefaultFundingMethod=!1),s({funding:l,solanaFundingData:i==null?void 0:i.solanaFundingData}),r(l.methodScreen)}:void 0})}const Mhe=t=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:c.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),Lhe=t=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[c.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),c.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),c.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),c.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),c.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),c.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),c.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),v6=t=>{let[e,n]=y.useState();return y.useEffect((()=>{t().then((r=>{n(r)})).catch((()=>{}))}),[]),e},Ds=({children:t,color:e,isLoading:n,isPulsing:r,...i})=>c.jsx(Fhe,{$color:e,$isLoading:n,$isPulsing:r,...i,children:t});let Fhe=F.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],(t=>{let e,n;t.$color==="green"&&(e="var(--privy-color-success-dark)",n="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",n="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",n="var(--privy-color-background-2)");let r=w7(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],n,n);return Ln(["color:",";background-color:",";",";"],e,n,t.$isPulsing&&Ln(["animation:"," 3s linear infinite;"],r))}),Cg);const fI=({onClick:t,text:e})=>c.jsxs(cn,{onClick:t,children:[c.jsx(Ki,{children:c.jsx(eF,{})}),c.jsx(bc,{children:e})]}),b6=({chainType:t,withPadding:e})=>{let n="";return n=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",c.jsx(mle,{$withPadding:e,children:c.jsxs(yle,{children:[c.jsx(Jl,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),c.jsx("h3",{children:"No wallets available"}),c.jsxs("p",{children:["Please download an external wallet provider, like ",n,"."]})]})},"empty-wallet-state")},gI=({icon:t,name:e})=>typeof t=="string"?c.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?c.jsx(Cf,{style:{height:24,width:24}}):t?c.jsx(t,{}):null;function Zy(t){var n,r;let e=t.toLowerCase();return!!((r=(n=window==null?void 0:window.webkit)==null?void 0:n.messageHandlers)!=null&&r.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some((i=>e.includes(i)))}const Uhe=({walletLogo:t,success:e,errorMessage:n,title:r,subtitle:i,onRetry:s,onUseDifferentWallet:a,onBack:o,numRetries:l,maxRetries:d})=>c.jsx(vt,{title:r,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},primaryCta:n===Ao.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:a}:!e&&(n!=null&&n.retryable)&&l<d?{label:"Retry",onClick:s,disabled:!(n!=null&&n.retryable)||l>=d}:!e&&n&&l>=d?{label:"Use a different wallet",onClick:a}:void 0,onBack:o,watermark:!0}),Jy={component:()=>{var b,k,S,I,$,A,N;let t,{navigateBack:e,navigate:n,lastScreen:r,currentScreen:i,data:s,setModalData:a}=Le(),{walletConnectionStatus:o,closePrivyModal:l}=Se(),[d,u]=y.useState(void 0),[h,p]=y.useState(0),f=no(((b=o==null?void 0:o.connector)==null?void 0:b.walletClientType)||"unknown"),g=(o==null?void 0:o.status)==="connected",m=(o==null?void 0:o.status)==="switching_to_supported_chain";y.useEffect((()=>{var O,D;if(g){let M;if((O=s==null?void 0:s.externalConnectWallet)!=null&&O.onCompleteNavigateTo){let B=s.externalConnectWallet.onCompleteNavigateTo,U=(D=o.connectedWallet)==null?void 0:D.address;M=setTimeout((()=>{var L,T;s.funding&&a({...s,funding:{...s.funding,connectedWalletAddress:U}}),n(B({address:U,walletClientType:(L=o.connector)==null?void 0:L.walletClientType,walletChainType:(T=o.connector)==null?void 0:T.chainType}))}),an)}else M=setTimeout(l,an);return()=>clearTimeout(M)}}),[g]),y.useEffect((()=>{o!=null&&o.connectError&&(O=>{u(rI(O))})(o==null?void 0:o.connectError)}),[o]);let w=((k=o==null?void 0:o.connector)==null?void 0:k.connectorType)||"injected",v=((S=o==null?void 0:o.connector)==null?void 0:S.walletClientType)||"unknown",C=((I=f==null?void 0:f.metadata)==null?void 0:I.shortName)||(f==null?void 0:f.name)||(($=o==null?void 0:o.connector)==null?void 0:$.walletBranding.name)||"Browser Extension",_=((A=f==null?void 0:f.image_url)==null?void 0:A.md)||((N=o==null?void 0:o.connector)==null?void 0:N.walletBranding.icon)||(O=>c.jsx(Vw,{...O})),E=C==="Browser Extension"?C.toLowerCase():C;t=g?`Successfully connected with ${E}`:d?d.message:m?"Switching networks":`Waiting for ${E}`;let x="Dont see your wallet? Check your other browser windows.";return g?x="Youre good to go!":h>=2&&d?x="Unable to connect wallet":d?x=d.detail:m?x="Switch your wallet to the requested network.":v==="metamask"&&It.isMobile?x="Click to continue to open and connect MetaMask.":v==="metamask"?x="For the best experience, connect only one wallet at a time.":w==="wallet_connect_v2"?x="Open your mobile wallet app to continue":w==="coinbase_wallet"&&(x="Confirm in the Coinbase app/popup to continue."),c.jsx(Uhe,{walletName:C,walletLogo:_,success:g,errorMessage:d,title:t,subtitle:x,onRetry:()=>{p(h+1),u(void 0),o==null||o.connectRetry()},onUseDifferentWallet:e,onBack:i===r?void 0:e,numRetries:h,maxRetries:2})}},mI=F.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),ac=({children:t,variant:e="default",icon:n})=>{let r=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return c.jsxs(Whe,{children:[c.jsx(Bhe,{$variant:e,"data-variant":e,children:(()=>{if(n)return Ie.isValidElement(n)?Ie.cloneElement(n,{stroke:r(),strokeWidth:2}):n;switch(e){case"success":default:return c.jsx(tu,{size:12,stroke:r(),strokeWidth:3});case"error":return c.jsx(tF,{size:12,stroke:r(),strokeWidth:3})}})()}),t]})};let Bhe=F.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}})),Whe=F.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const zhe=({walletName:t,installLink:e,title:n,subtitle:r="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let a=n||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return c.jsx(vt,{title:a,subtitle:r,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"Still not sure? "}),c.jsx(Cc,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:c.jsxs(mI,{children:[c.jsx(ac,{children:c.jsxs("div",{children:[c.jsx("span",{children:"Install the "})," ",c.jsxs(Cc,{href:e,target:"_blank",children:[t," browser extension"]})]})}),c.jsx(ac,{children:"Set up your first wallet"}),c.jsx(ac,{children:"Store your recovery phrase in a safe place!"})]})})},qhe={component:()=>{let{navigateBack:t,data:e}=Le();if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:n}=e.installWalletModalData;return c.jsx(zhe,{walletName:n.name,installLink:n.installLink,onReload:()=>{window.location.reload()},onBack:t})}},Hhe=({title:t,subtitle:e,buttonText:n,buttonHref:r,isLoading:i=!1,helpText:s,onButtonClick:a})=>c.jsx(vt,{title:t,subtitle:e,primaryCta:{label:n,onClick:()=>{r&&window.open(r,"_self"),a==null||a()},disabled:i},helpText:s,watermark:!0}),Vhe={component:()=>{let{ready:t}=wt(),{data:e}=Le(),[n,r]=y.useState(!1);if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:a}=e.installWalletModalData,o=i.getMobileRedirect({useUniversalLink:!n,isSolana:a==="solana",connectOnly:s}),l=i.name.replace(/ wallet/gi,""),d={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(d.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,d.footnote="You can always return here to login via other methods."),n&&(d.title="Still here?",d.description=`You may need to install the ${i.name} mobile app.`,d.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),c.jsx(Hhe,{title:d.title,subtitle:d.description,buttonText:n?"Go to App Store":"Continue",buttonHref:o,isLoading:t&&!o,helpText:d.footnote||void 0,onButtonClick:()=>{setTimeout((()=>r(!0)),1e3)}})}},us=({provider:t,displayName:e,logo:n,connectOnly:r,connector:i})=>{var m,w,v;let s,{navigate:a,setModalData:o}=Le(),{connectWallet:l}=Se(),d=io(),u=no(t),h=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,p=window.matchMedia("(display-mode: standalone)").matches,f=Xk({connectorType:i.connectorType,walletClientType:h});s=f&&f.chainTypes.includes(i.chainType)?()=>{f.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(l(i,h),a(r?Jy:aa)):It.isMobile?(o({installWalletModalData:{walletConfig:f,chainType:i.chainType,connectOnly:r}}),a(Vhe)):(o({installWalletModalData:{walletConfig:f,chainType:i.chainType,connectOnly:r}}),a(qhe))}:i.connectorType!=="coinbase_wallet"||((m=i.coinbaseWalletConfig.preference)==null?void 0:m.options)!=="eoaOnly"||!It.isMobile||p||Wk()?()=>{(!Zy(window.navigator.userAgent)||event!=null&&event.isTrusted)&&(l(i,h),r?i.connectorType==="wallet_connect_v2"?(o((C=>({...C,externalConnectWallet:{...C==null?void 0:C.externalConnectWallet,preSelectedWalletId:"wallet_connect_qr"}}))),a(Od)):a(Jy):a(aa))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let g=e||((w=u==null?void 0:u.metadata)==null?void 0:w.shortName)||(u==null?void 0:u.name)||i.walletClientType;return c.jsxs(Khe,{onClick:s,children:[c.jsx(gI,{icon:n||((v=u==null?void 0:u.image_url)==null?void 0:v.md),name:g}),c.jsx("span",{children:g}),c.jsxs(Ghe,{id:"chip-container",children:[(d==null?void 0:d.walletClientType)===h&&(d==null?void 0:d.chainType)===i.chainType?c.jsx(x6,{color:"gray",children:"Recent"}):c.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&c.jsx(x6,{color:"gray",children:"Solana"})]})]})};let Khe=F(cn).withConfig({displayName:"ConnectWalletButton",componentId:"sc-89605346-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),x6=F(Ds).withConfig({displayName:"StyledChip",componentId:"sc-89605346-1"})(["margin-left:auto;"]),Ghe=F.div.withConfig({displayName:"ChipContainer",componentId:"sc-89605346-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const Yhe=["coinbase_wallet","base_account"];let Zhe=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const Jhe=["safe"],Qhe=["phantom","backpack","solflare","universal_profile"],yI=({walletList:t,walletChainType:e,connectors:n,connectOnly:r,ignore:i,walletConnectEnabled:s,forceWallet:a})=>{var p,f;let o=[],l=[],d=[],u=n.filter((g=>e==="ethereum-only"?g.chainType==="ethereum":e!=="solana-only"||g.chainType==="solana")),h=u.find((g=>g.connectorType==="wallet_connect_v2"));for(let[g,m]of(a?[a.wallet]:t).entries()){if(m==="detected_ethereum_wallets")for(let[w,v]of u.filter((({chainType:C,connectorType:_,walletClientType:E})=>C!=="solana"&&(E==="uniswap_wallet_extension"||E==="uniswap_extension"?!i.includes("uniswap"):E==="crypto.com_wallet_extension"||E==="crypto.com_onchain"?!i.includes("cryptocom"):_==="injected"&&!i.includes(E)))).entries()){let{walletClientType:C,walletBranding:_,chainType:E}=v;(C==="unknown"?l:o).push(c.jsx(us,{connectOnly:r,provider:C,logo:_.icon,displayName:_.name,connector:v},`${g}-${m}-${C}-${E}-${w}`))}if(m==="detected_solana_wallets")for(let[w,v]of u.filter((({chainType:C,walletClientType:_})=>{if(C==="solana")return e!=="ethereum-only"&&!i.includes(_)})).entries()){let{walletClientType:C,walletBranding:_,chainType:E}=v;(C==="unknown"?l:o).push(c.jsx(us,{connectOnly:r,provider:C,logo:_.icon,displayName:_.name,connector:v},`${g}-${m}-${C}-${E}-${w}`))}if(Qhe.includes(m)){let w=u.find((v=>v.connectorType==="injected"&&v.walletClientType===m||v.connectorType===m));if(w&&o.push(c.jsx(us,{connectOnly:r,provider:m,connector:w},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let v=u.find((({chainType:C,walletClientType:_})=>C==="solana"&&_===m));v&&o.push(c.jsx(us,{connectOnly:r,provider:m,connector:v},`${m}-solana`))}}else if(Zhe.includes(m)){let w=u.find((v=>m==="uniswap"?v.walletClientType==="uniswap_wallet_extension"||v.walletClientType==="uniswap_extension":m==="cryptocom"?v.walletClientType==="crypto.com_wallet_extension"||v.walletClientType==="crypto.com_onchain":v.connectorType==="injected"&&v.walletClientType===m));if(s&&!w&&(w=h),w&&o.push(c.jsx(us,{connectOnly:r,provider:m,connector:w,logo:w.connectorType==="injected"?w.walletBranding.icon:void 0,displayName:w.connectorType==="injected"?w.walletBranding.name:void 0},`${g}-${m}`)),e==="solana-only"||e==="ethereum-and-solana"){let v=u.find((({chainType:C,walletClientType:_})=>C==="solana"&&_===m));v&&o.push(c.jsx(us,{connectOnly:r,provider:m,connector:v},`${m}-solana`))}}else if(Yhe.includes(m)){let w=u.find((({connectorType:v})=>v===m));w&&o.push(c.jsx(us,{connectOnly:r,provider:m,connector:w,displayName:w.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:w.walletClientType==="coinbase_wallet"?Vk:Kk},`${g}-${m}`))}else if(Jhe.includes(m))h&&d.push(c.jsx(us,{connectOnly:r,provider:m,connector:h},`${g}-${m}`));else if(m==="wallet_connect")h&&d.push(c.jsx(us,{connectOnly:r,provider:m,connector:h,logo:h.walletBranding.icon,displayName:"WalletConnect"},`${g}-${m}`));else if(m===(a==null?void 0:a.wallet)){let w=a.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),v=a.chainType==="solana"&&t.includes("detected_solana_wallets");if(w||v){let C=u.find((({walletClientType:_})=>_===m));C&&o.push(c.jsx(us,{connectOnly:r,provider:m,displayName:(p=C.walletBranding)==null?void 0:p.name,logo:(f=C.walletBranding)==null?void 0:f.icon,connector:C},`${g}-${m}`))}}}return[...l,...o,...d]},wI=({chains:t,appId:e,address:n,rpcConfig:r,includeUsdc:i})=>Promise.all(t.map((async s=>{let a=$s({chain:s,transport:Is(da(s,r,e))}),o=await a.getBalance({address:n}).catch((()=>0n)),l=null,d=FR[s.id];if(i&&d){let{balance:u}=await fv({address:n,chain:s,rpcConfig:r,appId:e,erc20Address:d});l=u}return{balance:o,erc20Balance:l,erc20Address:d,chain:s}}))),Xhe=t=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[c.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[c.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),c.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),c.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),c.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[c.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),c.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),c.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),c.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[c.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),c.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),c.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let epe={[rs.id]:t=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:c.jsx("g",{id:"Layer_x0020_1",children:c.jsxs("g",{id:"_2405588477232",children:[c.jsx("rect",{fill:"none",width:"2500",height:"2500"}),c.jsx("g",{children:c.jsxs("g",{children:[c.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),c.jsx("g",{children:c.jsxs("g",{children:[c.jsx("g",{children:c.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),c.jsx("g",{children:c.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),c.jsx("g",{children:c.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),c.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),c.jsxs("g",{children:[c.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),c.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[Ic.id]:t=>c.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[is.id]:t=>c.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),c.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[df.id]:t=>c.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),c.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[dC.id]:t=>c.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),c.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[c.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),c.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0_2303_643",children:c.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[Si.id]:t=>c.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[c.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),c.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),c.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),c.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),c.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[pa.id]:t=>c.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),c.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),c.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[Ai.id]:t=>c.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),c.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[uC.id]:t=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[c.jsx("g",{clipPath:"url(#clip0)",children:c.jsx("g",{clipPath:"url(#clip1)",children:c.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),c.jsxs("defs",{children:[c.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[c.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),c.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),c.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),c.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),c.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),c.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),c.jsx("clipPath",{id:"clip0",children:c.jsx("rect",{width:"30",height:"30",fill:"white"})}),c.jsx("clipPath",{id:"clip1",children:c.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const vI=({chainId:t,...e})=>{if(t==="solana")return c.jsx(Xhe,{...e});let n=epe[t];return c.jsx(n||k7,{...e})},tpe=({balance:t,className:e,chain:n})=>c.jsx(vg,{className:e,$state:void 0,children:c.jsx(Qy,{balance:t,chain:n})}),Qy=({balance:t,chain:e})=>c.jsxs(c.Fragment,{children:[c.jsxs(npe,{children:[c.jsx(ipe,{chainId:typeof e=="object"?e.id:"solana"}),c.jsx(wn,{children:typeof e=="object"?e.name:xg(e)})]}),c.jsxs(Ds,{isLoading:!1,isPulsing:!1,color:"gray",children:[c.jsx(rpe,{children:c.jsx(Cf,{})}),t]})]});let npe=F.div.withConfig({displayName:"Container",componentId:"sc-63f80cee-0"})(["display:flex;align-items:center;"]),rpe=F.div.withConfig({displayName:"IconContainer",componentId:"sc-63f80cee-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),ipe=F(vI).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-63f80cee-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const spe=({options:t,onSelect:e,selected:n,className:r})=>c.jsxs(Boe,{as:ape,children:[c.jsxs(wk,{as:cpe,children:[c.jsx(Qy,{balance:n.balance,chain:n.chain}),c.jsx(Xy,{height:16})]}),c.jsx(vk,{as:ope,className:r,children:t.map(((i,s)=>c.jsx(bk,{as:lpe,onClick:()=>e(s),children:c.jsx(Qy,{balance:i.balance,chain:i.chain})},s)))})]});let ape=F.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),ope=F.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),lpe=F.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),Xy=F(Z2).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),cpe=F.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],sI,Xy,Xy);const dpe=F.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),vd=F.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),bI=F.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),xI=F.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),CI=F.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),upe=F(CI).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),_I=F.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),EI=F.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),hpe=F.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),ppe=F.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),kI=({displayName:t,errorMessage:e,configuredFundingChain:n,formattedBalance:r,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:a,options:o,selectedOption:l,isPreparing:d,isSubmitting:u,addressToFund:h,fundingWalletAddress:p,onSubmit:f,onSelect:g,onAmountChange:m,erc20ContractInfo:w})=>{let v=y.useRef(null);return c.jsxs(c.Fragment,{children:[c.jsx($i,{}),c.jsx(Rs,{}),c.jsx(Ja,{children:"Transfer from another network"}),c.jsxs(Go,{children:["You need more funds on the"," ",typeof n=="object"?n.name:xg(n)," ","network. Bridge from another blockchain network."]}),c.jsxs(bI,{style:{marginTop:"2rem"},children:[c.jsxs(xI,{onClick:()=>{var C;return(C=v.current)==null?void 0:C.focus()},children:[c.jsx(CI,{ref:v,value:i,onChange:C=>{let _=C.target.value;if(/^[0-9.]*$/.test(_)&&_.split(".").length-1<=1){let E=/\.$/.test(_)?".":"",x=Number(_.replace(/\.$/,"")||"0");if(Number.isNaN(x))return void m("0");m(x.toString()+E)}}}),c.jsx(_I,{children:s})]}),a&&c.jsx(EI,{children:a})]}),c.jsxs(Zt,{style:{marginTop:"1.5rem"},children:[c.jsx(Lt,{children:"From"}),c.jsx(Lt,{children:Rb(p)})]}),c.jsx(spe,{selected:{chain:l.chain,balance:l.isErc20Quote?Yp({amount:l.erc20Balance??0n,decimals:(w==null?void 0:w.decimals)??6})+` ${(w==null?void 0:w.symbol)||""}`:Gi(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:o.map((({chain:C,balance:_,isErc20Quote:E,erc20Balance:x})=>({chain:C,balance:E?Yp({amount:x??0n,decimals:(w==null?void 0:w.decimals)??6})+` ${(w==null?void 0:w.symbol)||""}`:Gi(_,C.nativeCurrency.symbol,3,!0)}))),onSelect:g}),c.jsxs(Zt,{style:{marginTop:"1.5rem"},children:[c.jsx(Lt,{children:"To"}),c.jsx(Lt,{children:Rb(h)})]}),c.jsx(tpe,{chain:n,balance:r}),c.jsx(Ko,{style:{marginTop:"1rem"},children:e}),c.jsxs(qp,{style:{marginTop:"1rem"},loading:u||d,disabled:d||u,onClick:f,children:["Confirm with ",t]}),c.jsx(ss,{}),c.jsx(jt,{})]})},mv=({walletClientType:t,displayName:e,addressToFund:n,chainId:r,chainName:i,isBridging:s,isErc20Flow:a,totalPriceInNativeCurrency:o,totalPriceInUsd:l,gasPriceInNativeCurrency:d,gasPriceInUsd:u})=>{var p;let h=no(t);return c.jsxs(c.Fragment,{children:[c.jsx($i,{}),c.jsx(Fc,{centerIcon:c.jsx(gI,{icon:(p=h==null?void 0:h.image_url)==null?void 0:p.md,name:t})}),c.jsx(es,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!a&&c.jsxs(gv,{children:[c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Total"}),c.jsx(wn,{children:l||o})]}),c.jsxs(Zt,{children:[c.jsx(Lt,{children:"To"}),c.jsx(wn,{children:c.jsx(Dr,{address:n,showCopyIcon:!1})})]}),c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Network"}),c.jsx(wn,{children:c.jsxs(fpe,{children:[c.jsx(vI,{chainId:r,height:16,width:16})," ",i]})})]}),d&&c.jsxs(Zt,{children:[c.jsx(Lt,{children:"Estimated fee"}),c.jsx(wn,{children:u||d})]})]}),c.jsx(vce,{height:24}),c.jsx(jt,{})]})};let fpe=F.div.withConfig({displayName:"NetworkColumn",componentId:"sc-5bdbf842-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const $I={component:()=>{let t=Re(),{rpcConfig:e,appId:n,closePrivyModal:r,createAnalyticsEvent:i}=Se(),{navigate:s,setModalData:a,data:o}=Le(),l=Re(),{wallets:d}=ll(),[u,h]=y.useState(null),[p,f]=y.useState(null),[g,m]=y.useState([]),[w,v]=y.useState(0),[C,_]=y.useState(!1),[E,x]=y.useState(!1),[b,k]=y.useState(!1),[S,I]=y.useState(!1),[$,A]=y.useState(),[N,O]=y.useState();if(!(o!=null&&o.funding)||o.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:D,chain:M,connectedWalletAddress:B}=o.funding,[U,L]=y.useState(o.funding.amount),T=B?d.find((({address:ge})=>ge===B)):d[0],j=no((T==null?void 0:T.walletClientType)||"unknown"),W=(j==null?void 0:j.name)||"wallet",[Z,z]=y.useState(null);y.useEffect((()=>{(async()=>{if(!T)return;let ge=await T.getEthereumProvider();z(Fx({account:T.address,transport:Ux(ge)}).extend(Bx))})().catch(console.error)}),[T]);let[ie,V]=y.useState(0n),ee=Jh(ie);y.useEffect((()=>{let ge=t.solanaRpcs[M];ge?pv({rpc:ge.rpc,address:D}).then((Ce=>V(BigInt(Ce)))).catch(console.error):console.warn("Unable to load solana rpc, skipping balance")}),[]);let[ae,te]=y.useState(),{tokenPrice:he}=Hu("solana"),{fundingAmountInBaseUnit:xe,fundingAmountInUsd:ke}=(function({amount:ge,fee:Ce,tokenPrice:Ee,isUsdc:re}){let We=BigInt(Math.floor(parseFloat(ge)*10**(re?6:9))),ze=re?We:We+Ce;return{fundingAmountInBaseUnit:We,fundingAmountInUsd:Ee?_1(We,Ee):void 0,totalPriceInUsd:Ee?_1(ze,Ee):void 0,totalPriceInNativeCurrency:Jh(ze),feePriceInNativeCurrency:Jh(Ce),feePriceInUsd:Ee?_1(Ce,Ee):void 0}})({amount:U,fee:0n,tokenPrice:he,isUsdc:o.funding.isUSDC});if(y.useEffect((()=>{(async()=>{if(!Z||!T)return;let ge=["solana:testnet","solana:devnet"].includes(M);ge&&console.warn("Solana testnets are not supported for bridging");let Ce=j2(l.chains).filter((({testnet:de})=>!!de===ge)),Ee=(await wI({chains:Ce,address:T.address,appId:n,rpcConfig:e})).filter((de=>de.balance>0n));if(Ee.length<1)return void h(new G(`Wallet ${fr(T.address)} does not have enough funds.`,void 0,Q.INSUFFICIENT_BALANCE));Ee.sort(((de,ve)=>Number(ve.balance-de.balance)));let re=(await Promise.allSettled(Ee.map((async de=>({...de,quote:await mu({isTestnet:!1,input:sc({amount:xe.toString(),user:T.address,recipient:D,destinationChainId:zy,destinationCurrency:qy,originChainId:de.chain.id})})}))))).filter((de=>de.status==="fulfilled")).map((de=>de.value));if(re.length<1)return void h(new G(`Unable to fetch quotes for bridging. Wallet ${fr(T.address)} does not have enough funds.`,void 0,Q.INSUFFICIENT_BALANCE));let We=re.map((({quote:de,balance:ve,chain:St})=>({bridgeTx:Vp(de),balance:ve,chain:St,isErc20Quote:!1}))).filter((({bridgeTx:de})=>!!de));if(We.length>1)return void m(We);let ze=We.at(0);ze?(x(!0),te({data:ze.bridgeTx.data,to:ze.bridgeTx.to,value:ze.bridgeTx.value,chain:ze.chain})):h(new G(`Unable to select bridge option from quotes. Wallet ${fr(T.address)} does not have enough funds.`,void 0,Q.INSUFFICIENT_BALANCE))})().catch(console.error)}),[Z]),y.useEffect((()=>{(async()=>{let ge,Ce;if(!Z||!T||C||b||!ae)return;_(!0);let Ee=$s({chain:ae.chain,transport:Is(da(ae.chain,e,n))});try{ge=await Ee.prepareTransactionRequest({account:T.address,to:ae.to,chain:ae.chain,data:ae.data,value:BigInt(ae.value??0)})}catch(re){console.error(re),g.length>1&&f(re.shortMessage??"Something went wrong")}if(ge){_(!1),k(!0);try{await Z.switchChain({id:ae.chain.id})}catch{await Z.addChain({chain:ae.chain}),await Z.switchChain({id:ae.chain.id})}try{Ce=await Z.sendTransaction(ge)}catch(re){console.error(re),re.name==="TransactionExecutionError"&&(g.length<1?h(new G(re.shortMessage,void 0,Q.TRANSACTION_FAILURE)):f(re.shortMessage??"Something went wrong"))}if(Ce)return await Z.waitForTransactionReceipt({hash:Ce}),E?(O("pending"),void A(Ce)):(k(!1),I(!0),void i({eventName:Ps,payload:{provider:"external",status:"success",txHash:Ce,address:T.address,chainId:ae.chain.id,chainType:"ethereum",value:ae.value?wi(BigInt(ae.value),18):void 0,token:"ETH",destination:D,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:wi(xe,9),destinationToken:"SOL"}}));k(!1)}else _(!1)})().catch(console.error)}),[Z,ae]),dv({transactionHash:$,isTestnet:!1,bridgingStatus:N,setBridgingStatus:O,onSuccess({transactionHash:ge}){x(!1),I(!0),i({eventName:Ps,payload:{provider:"external",status:"success",txHash:ge,address:T==null?void 0:T.address,chainId:ae==null?void 0:ae.chain.id,chainType:"ethereum",value:ae!=null&&ae.value?wi(BigInt(ae.value),18):void 0,token:"ETH",destination:D,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:wi(xe,9),destinationToken:"SOL"}})},onFailure({error:ge}){x(!1),h(ge)}}),y.useEffect((()=>{u&&(a({funding:o==null?void 0:o.funding,solanaFundingData:o==null?void 0:o.solanaFundingData,sendTransaction:o==null?void 0:o.sendTransaction,errorModalData:{error:u,previousScreen:Yu}}),s(dn,!1))}),[u]),y.useEffect((()=>{if(!S)return;let ge=setTimeout(r,Bw);return()=>clearTimeout(ge)}),[S]),S)return c.jsxs(c.Fragment,{children:[c.jsx($i,{}),c.jsx(Rs,{}),c.jsxs(sg,{children:[c.jsx(_f,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),c.jsx(es,{title:"Success!",description:`Youve successfully added ${U} SOL to your ${l.name} wallet. It may take a minute before the funds are available to use.`})]}),c.jsx(ss,{}),c.jsx(jt,{})]});let Ue=g[w];return g.length>1&&Ue?c.jsx(kI,{displayName:W,configuredFundingChain:M,formattedBalance:ee,fundingAmount:U,fundingCurrency:"SOL",fundingAmountInUsd:ke,options:g,selectedOption:Ue,isPreparing:C,isSubmitting:b,addressToFund:D,fundingWalletAddress:(T==null?void 0:T.address)||"",errorMessage:p,onSubmit:()=>{var ge;((ge=o.funding)==null?void 0:ge.amount)!==U?(async function(){if(T&&Ue)try{let Ce=await mu({isTestnet:!1,input:sc({amount:xe.toString(),user:T.address,recipient:D,destinationChainId:zy,destinationCurrency:qy,originChainId:Ue.chain.id})}),Ee=Vp(Ce);if(!Ee)throw Error("Invalid transaction request");x(!0),te({data:Ee.data,to:Ee.to,value:Ee.value,chain:Ue.chain})}catch(Ce){console.error(Ce),h(new G("Unable to fetch quotes for bridging",Ce,Q.INSUFFICIENT_BALANCE))}})().catch(console.error):te({to:Ue.bridgeTx.to,data:Ue.bridgeTx.data,value:Ue.bridgeTx.value,chain:Ue.chain})},onSelect:ge=>{ge!==w&&(f(null),v(ge))},onAmountChange:L}):b&&T?c.jsx(mv,{walletClientType:(T==null?void 0:T.walletClientType)||"unknown",displayName:W,addressToFund:D,isBridging:E,isErc20Flow:!1,chainId:"solana",chainName:xg(M),totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):c.jsxs(c.Fragment,{children:[c.jsx($i,{}),c.jsx(Fc,{}),c.jsx("div",{style:{marginTop:"1rem"}}),c.jsx(jt,{})]})}},II={component:()=>{var ct,st,un,be,_e;let{rpcConfig:t,appId:e,closePrivyModal:n,createAnalyticsEvent:r}=Se(),{navigate:i,setModalData:s,data:a}=Le(),o=Re(),{wallets:l}=ll(),[d,u]=y.useState(!1),[h,p]=y.useState(0n),[f,g]=y.useState(!1),[m,w]=y.useState(null),[v,C]=y.useState(null),[_,E]=y.useState([]),[x,b]=y.useState(0),[k,S]=y.useState(!1),[I,$]=y.useState(!1),[A,N]=y.useState(!1),[O,D]=y.useState(!1),[M,B]=y.useState(),[U,L]=y.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:T,chain:j,connectedWalletAddress:W}=a.funding,Z=a.funding.address,z=a.funding.erc20Address,[ie,V]=y.useState(a.funding.amount);y.useEffect((()=>{z&&!T&&w(Error("Unable to fetch token details"))}),[]);let ee=!!z&&!!T,ae=ee?BigInt(parseFloat(ie)*10**T.decimals):Lx(ie),te=W?l.find((({address:me})=>me===W)):l[0],he=no((te==null?void 0:te.walletClientType)||"unknown"),xe=(he==null?void 0:he.name)||"wallet",[ke,Ue]=y.useState(null);y.useEffect((()=>{(async()=>{if(!te)return;let me=await te.getEthereumProvider();Ue(Fx({account:te.address,transport:Ux(me)}).extend(Bx))})().catch(console.error)}),[te]);let[ge,Ce]=y.useState(0n);y.useEffect((()=>{$s({chain:j,transport:Is(da(j,t,e))}).getBalance({address:Z}).then(Ce).catch(console.error)}),[]);let[Ee,re]=y.useState(0n);y.useEffect((()=>{ee&&fv({chain:j,address:Z,appId:e,rpcConfig:t,erc20Address:z}).then((me=>re(me.balance))).catch(console.error)}),[]);let{tokenPrice:We}=Hu(j.id),[ze,de]=y.useState({to:Z,chain:j,value:ae,data:void 0});y.useEffect((()=>{(async()=>{let me,Be;if(!ke||!te||k||A)return;S(!0);let at=$s({chain:ze.chain,transport:Is(da(ze.chain,t,e))});if(ee&&!ze.data)return await at.simulateContract({address:z,chain:ze.chain,abi:Yy,functionName:"transfer",args:[Z,ae],account:te.address}).catch((Xe=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",Xe)}))?(S(!1),void de({to:z,chain:ze.chain,data:GA({abi:Yy,functionName:"transfer",args:[Z,ae]}),value:"0x0"})):(S(!1),void g(!0));try{me=await at.prepareTransactionRequest({account:te.address,to:ze.to,chain:ze.chain,data:ze.data,value:BigInt(ze.value??0)})}catch(Xe){if(console.error(Xe),_.length>1)C(Xe.shortMessage??"Something went wrong");else if(I&&_.length===0)return void w(new G(`Wallet ${fr(te.address)} does not have enough funds.`,void 0,Q.INSUFFICIENT_BALANCE))}if(!me)return S(!1),void g(!0);S(!1),N(!0),u(!0),p(me.gas);try{await ke.switchChain({id:ze.chain.id})}catch{await ke.addChain({chain:ze.chain}),await ke.switchChain({id:ze.chain.id})}try{Be=await ke.sendTransaction(me)}catch(Xe){if(console.error(Xe),Xe.name==="TransactionExecutionError")if(_.length<1){let Ve=Xe.shortMessage;(Xe.shortMessage.includes("rejected the request")||Xe.details.includes("rejected the request"))&&(Ve="User rejected the request."),w(new G(Ve,void 0,Q.TRANSACTION_FAILURE))}else C(Xe.shortMessage??"Something went wrong")}if(Be)return await ke.waitForTransactionReceipt({hash:Be}),N(!1),I?(B(Be),void L("pending")):(D(!0),void r({eventName:Ps,payload:{provider:"external",status:"success",txHash:Be,address:te.address,chainId:ze.chain.id,chainType:"ethereum",value:ze.value?wi(BigInt(ze.value),(T==null?void 0:T.decimals)??18):void 0,token:(T==null?void 0:T.symbol)??z??"ETH",destinationAddress:Z,destinationChainId:j.id,destinationChainType:"ethereum",destinationValue:ae?wi(ae,(T==null?void 0:T.decimals)??18):void 0,destinationToken:(T==null?void 0:T.symbol)??z??j.nativeCurrency.name}}));N(!1)})().catch(console.error)}),[ke,ze]),y.useEffect((()=>{(async()=>{var Kt;if(!f||!ke||!te)return;let me=j2(o.chains).filter((Ae=>Ae.id!==j.id&&!!Ae.testnet==!!j.testnet));ee&&me.unshift(j);let Be=await wI({chains:me,address:te.address,appId:e,rpcConfig:t,includeUsdc:(Kt=a.funding)==null?void 0:Kt.isUSDC}),at=ee?Be.filter((Ae=>Ae.balance>0n)):Be.filter((Ae=>Ae.balance>ae)),Xe=ee&&Be.every((Ae=>Ae.balance===0n));if(at.length<1)return void w(new G(Xe?`Wallet ${fr(te.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${fr(te.address)} does not have enough funds.`,void 0,Q.INSUFFICIENT_BALANCE));at.sort(((Ae,Cn)=>Number(ee?(Cn.erc20Balance??0n)-(Ae.erc20Balance??0n):Cn.balance-Ae.balance)));let Ve=at.flatMap((Ae=>{let Cn=[{...Ae,isErc20Quote:!1,isTestnet:!!j.testnet,input:sc({amount:ae.toString(),user:te.address,recipient:Z,destinationChainId:j.id,destinationCurrency:z,originChainId:Ae.chain.id})}];return ee&&z&&(Ae.erc20Balance??0n)>=ae&&Cn.push({...Ae,isErc20Quote:!0,isTestnet:!!j.testnet,input:sc({amount:ae.toString(),user:te.address,recipient:Z,destinationChainId:j.id,destinationCurrency:z,originChainId:Ae.chain.id,originCurrency:Ae.erc20Address})}),Cn})),De=(await Promise.allSettled(Ve.map((async Ae=>({...Ae,quote:await mu(Ae)}))))).filter((Ae=>Ae.status==="fulfilled")).map((Ae=>Ae.value));if(De.length<1)return void w(new G(`Wallet ${fr(te.address)} does not have enough funds.`,void 0,Q.INSUFFICIENT_BALANCE));let Et=De.map((Ae=>({bridgeTx:Vp(Ae.quote),balance:Ae.balance,chain:Ae.chain,erc20Balance:Ae.erc20Balance,isErc20Quote:Ae.isErc20Quote}))).filter((Ae=>!!Ae.bridgeTx));if(Et.length>1)return void E(Et);let At=Et[0];At?($(!0),de({data:At.bridgeTx.data,to:At.bridgeTx.to,value:At.bridgeTx.value,chain:At.chain})):w(new G(`Wallet ${fr(te.address)} does not have enough funds.`,void 0,Q.INSUFFICIENT_BALANCE))})().catch(console.error)}),[f]),dv({transactionHash:M,isTestnet:!!j.testnet,bridgingStatus:U,setBridgingStatus:L,onSuccess({transactionHash:me}){$(!1),D(!0),r({eventName:Ps,payload:{provider:"external",status:"success",txHash:me,address:te==null?void 0:te.address,chainId:ze.chain.id,chainType:"ethereum",value:ze.value?wi(BigInt(ze.value),(T==null?void 0:T.decimals)??18):void 0,token:(T==null?void 0:T.symbol)??z??"ETH",destinationAddress:Z,destinationChainId:j.id,destinationChainType:"ethereum",destinationValue:ae?wi(ae,(T==null?void 0:T.decimals)??18):void 0,destinationToken:(T==null?void 0:T.symbol)??z??j.nativeCurrency.name}})},onFailure({error:me}){$(!1),w(me)}}),y.useEffect((()=>{m&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:m,previousScreen:Yu}}),i(dn,!1))}),[m]);let ve=!ee&&We?d$(ie??"0",We):void 0,St=ee?h:Xw([h,ae]),Wt=St&&We?jo(St,We):void 0,pe=St?Gi(St,(ct=a==null?void 0:a.funding)!=null&&ct.erc20Address?((un=(st=a==null?void 0:a.funding)==null?void 0:st.erc20ContractInfo)==null?void 0:un.symbol)||"ETH":((be=a==null?void 0:a.funding)==null?void 0:be.chain.nativeCurrency.symbol)||"ETH"):void 0,zt=h&&We?jo(h,We):void 0,Te=h?Gi(h,((_e=j==null?void 0:j.nativeCurrency)==null?void 0:_e.symbol)||"ETH"):void 0;if(y.useEffect((()=>{if(!O)return;let me=setTimeout(n,Bw);return()=>clearTimeout(me)}),[O]),O)return c.jsxs(c.Fragment,{children:[c.jsx($i,{}),c.jsx(Rs,{}),c.jsxs(sg,{children:[c.jsx(_f,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),c.jsx(es,{title:"Success!",description:`Youve successfully added ${ie} ${ee?T.symbol:j.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),c.jsx(ss,{}),c.jsx(jt,{})]});let ht=ee?`${Yp({amount:Ee,decimals:T.decimals})}  ${T.symbol}`:Gi(ge,j.nativeCurrency.symbol,3,!0),bt=_[x];return _.length>1&&bt?c.jsx(kI,{displayName:xe,configuredFundingChain:j,erc20ContractInfo:T,formattedBalance:ht,fundingAmount:ie,fundingCurrency:ee?T.symbol:j.nativeCurrency.symbol,fundingAmountInUsd:ve,options:_,selectedOption:bt,isPreparing:k,isSubmitting:A,addressToFund:Z,fundingWalletAddress:(te==null?void 0:te.address)||"",errorMessage:v,onSubmit:()=>{var me;((me=a.funding)==null?void 0:me.amount)!==ie?(async function(){if(te&&bt)try{let Be=await mu({isTestnet:!!j.testnet,input:sc({amount:ae.toString(),user:te.address,recipient:Z,destinationChainId:j.id,destinationCurrency:z,originChainId:bt.chain.id})}),at=Vp(Be);if(!at)throw Error("Invalid transaction request");$(!0),de({data:at.data,to:at.to,value:at.value,chain:bt.chain})}catch(Be){console.error(Be),w(new G("Unable to fetch quotes for bridging",Be,Q.INSUFFICIENT_BALANCE))}})().catch(console.error):de({to:bt.bridgeTx.to,data:bt.bridgeTx.data,value:bt.bridgeTx.value,chain:bt.chain})},onSelect:me=>{me!==x&&(C(null),b(me))},onAmountChange:V}):d&&h&&te&&(a!=null&&a.funding)?c.jsx(mv,{walletClientType:(te==null?void 0:te.walletClientType)||"unknown",displayName:xe,addressToFund:Z,isBridging:I,isErc20Flow:ee,totalPriceInUsd:Wt,totalPriceInNativeCurrency:pe,gasPriceInUsd:zt,gasPriceInNativeCurrency:Te,chainId:j.id,chainName:j.name}):c.jsxs(c.Fragment,{children:[c.jsx($i,{}),c.jsx(Fc,{}),c.jsx("div",{style:{marginTop:"1rem"}}),c.jsx(jt,{})]})}},e2=Symbol("solana-funding-plugin"),SI={component:function(){let t=Re(),{closePrivyModal:e,createAnalyticsEvent:n,connectors:r}=Se(),{navigate:i,setModalData:s,data:a}=Le(),o=Re(),l=y.useRef(!1),d=uv(),[u,h]=y.useState(!1),[p,f]=y.useState(!1),[g,m]=y.useState(null),[w,v]=y.useState(),[C,_]=y.useState();if(!(a!=null&&a.funding)||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:E,connectedWalletAddress:x,chain:b,solanaChain:k,isUSDC:S}=a.funding,I=a.funding.address,$=a.funding.erc20Address,A=a.funding.isUSDC?"USDC":b.nativeCurrency.symbol,N=y.useMemo((()=>(function({connectors:B,connectedWalletAddress:U}){let L=B.find((j=>j.chainType==="solana"&&j.wallets.some((W=>W.address===U)))),T=L==null?void 0:L.wallet.accounts.find((j=>j.address===U));if(!L||!T)throw new G("Unable to find source wallet connector");return new SC({wallet:L.wallet,account:T})})({connectors:r,connectedWalletAddress:x||""})),[r,x]),O=y.useMemo((()=>{let B=d(e2);if(!B)throw new G("Unable to load solana plugin");let U=t.solanaRpcs["solana:mainnet"];if(!U)throw new G("Unable to load mainnet RPC");return B.getSolanaRpcClient({rpc:U.rpc,rpcSubscriptions:U.rpcSubscriptions,chain:"solana:mainnet",blockExplorerUrl:U.blockExplorerUrl??"https://explorer.solana.com"})}),[]),D=no(Ly((N==null?void 0:N.standardWallet.name)||"unknown")),M=(D==null?void 0:D.name)||"wallet";return y.useEffect((()=>{(async function(){if(!N||!b||l.current)return;let B=d(e2);if(!B)return void m(new G("Unable to solana plugin"));l.current=!0,b!=null&&b.testnet&&console.warn("Solana testnets are not supported for bridging");let U=S?1e6*parseFloat(E):Lx(E),L=await mu({isTestnet:!!b.testnet,input:sc({amount:U.toString(),user:N.address,recipient:I,destinationChainId:b.id,originChainId:zy,originCurrency:S?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":qy,destinationCurrency:S?$:void 0})}).catch(console.error);if(!L)return void m(new G(`Unable to fetch quotes for bridging. Wallet ${v1(N.address)} does not have enough funds.`,void 0,Q.INSUFFICIENT_BALANCE));let T=await B.createTransactionFromRelayQuote({quote:L,source:N.address,solanaClient:O});if(T)try{h(!0);let j=await B.simulateTransaction({solanaClient:O,tx:T});if(j.hasError)return j.hasFunds?(console.error("Transaction failed:",j.error),void m(new G("Something went wrong",void 0,Q.TRANSACTION_FAILURE))):void m(new G(`Wallet ${v1(N==null?void 0:N.address)} does not have enough funds. ${L.details.currencyIn.amountFormatted} ${A} are needed to complete the transaction.`,void 0,Q.INSUFFICIENT_BALANCE));let{signature:W}=await N.signAndSendTransaction({chain:"solana:mainnet",transaction:T}),Z=B.getAddressFromBuffer(W);v(Z),_("pending")}catch(j){if(console.error(j),/user rejected the request/gi.test(j.message||""))return void m(new G("Transaction was rejected by the user",void 0,Q.TRANSACTION_FAILURE));m(new G("Something went wrong",void 0,Q.TRANSACTION_FAILURE))}else m(new G(`Unable to select bridge option from quotes. Wallet ${v1(N.address)} does not have enough funds.`,void 0,Q.INSUFFICIENT_BALANCE))})().catch(console.error)}),[]),dv({transactionHash:w,isTestnet:!1,bridgingStatus:C,setBridgingStatus:_,onSuccess({transactionHash:B}){h(!1),f(!0),n({eventName:Ps,payload:{provider:"external",status:"success",txHash:B,address:N.address,chainType:"solana",clusterName:k,token:"SOL",destinationAddress:I,destinationChainId:b.id,destinationChainType:"ethereum",destinationValue:E,destinationToken:S?"USDC":"ETH"}})},onFailure({error:B}){h(!1),m(B)}}),y.useEffect((()=>{if(!p)return;let B=setTimeout(e,Bw);return()=>clearTimeout(B)}),[p]),y.useEffect((()=>{g&&(s({funding:a==null?void 0:a.funding,solanaFundingData:a==null?void 0:a.solanaFundingData,sendTransaction:a==null?void 0:a.sendTransaction,errorModalData:{error:g,previousScreen:Yu}}),i(dn,!1))}),[g]),p?c.jsxs(c.Fragment,{children:[c.jsx($i,{}),c.jsx(Rs,{}),c.jsxs(sg,{children:[c.jsx(_f,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),c.jsx(es,{title:"Success!",description:`Youve successfully added ${E} ${A} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),c.jsx(ss,{}),c.jsx(jt,{})]}):u&&N?c.jsx(mv,{walletClientType:Ly((N==null?void 0:N.standardWallet.name)||"unknown"),displayName:M,addressToFund:I,isBridging:u,isErc20Flow:!1,chainId:b.id,chainName:b.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):c.jsxs(c.Fragment,{children:[c.jsx($i,{}),c.jsx(Fc,{}),c.jsx("div",{style:{marginTop:"1rem"}}),c.jsx(jt,{})]})}},C6={component:()=>{var p;let{data:t,setModalData:e}=Le(),n=t==null?void 0:t.funding,r=n.chainType==="solana",i=y.useRef(null),{tokenPrice:s}=Hu(r?"solana":n.chain.id),a=r?void 0:n,o=!(!(a!=null&&a.erc20Address)||a!=null&&a.erc20ContractInfo),l=r?n.isUSDC?"USDC":"SOL":n.erc20Address?(p=n.erc20ContractInfo)==null?void 0:p.symbol:n.chain.nativeCurrency.symbol||"ETH",d=parseFloat(n.amount),u=!isNaN(d)&&d>0,h=s?d$(n.amount,s):void 0;return c.jsxs(c.Fragment,{children:[c.jsx($i,{}),c.jsx(Ja,{children:"Confirm or edit amount"}),c.jsxs(ag,{style:{marginTop:"32px"},children:[c.jsx(bI,{children:o?c.jsx(Fc,{size:"50px"}):c.jsxs(c.Fragment,{children:[c.jsxs(xI,{onClick:()=>{var f;return(f=i.current)==null?void 0:f.focus()},children:[c.jsx(upe,{ref:i,value:n.amount,onChange:f=>{let g=f.target.value;/^[0-9.]*$/.test(g)&&g.split(".").length-1<=1&&e({...t,funding:{...n,amount:g},solanaFundingData:t!=null&&t.solanaFundingData?{...t.solanaFundingData,amount:g}:void 0})}}),c.jsx(_I,{children:l})]}),!(a!=null&&a.erc20Address)&&c.jsx(EI,{children:h&&u?`${h} USD`:""})]})}),c.jsx(qp,{style:{marginTop:"1rem"},disabled:!u,onClick:n.onContinueWithExternalWallet,children:"Continue"})]}),c.jsx(jt,{})]})}},Yu={component:()=>{var x,b,k,S;let t,{connectors:e}=Se(),{setModalData:n,data:r,navigate:i}=Le(),s=Re(),{wallets:a}=ll(),o=e.filter(ng).flatMap((I=>I.wallets)),[l,d]=y.useState("default"),u=((x=r==null?void 0:r.funding)==null?void 0:x.chainType)==="solana",h=!!((b=r==null?void 0:r.funding)!=null&&b.crossChainBridgingEnabled);t=((k=r==null?void 0:r.funding)==null?void 0:k.chainType)==="ethereum"?r.funding.erc20Address&&!r.funding.isUSDC?"ethereum-only":h&&!r.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":h&&!((S=r.funding)!=null&&S.isUSDC)?"ethereum-and-solana":"solana-only";let p=a.filter((I=>I.walletClientType!=="privy")),f=p.map((I=>I.walletClientType)),g=o.filter((I=>I.walletClientType!=="privy")),m=g.map((I=>I.walletClientType)),w=[],v={...r.funding};v.usingDefaultFundingMethod&&(v.usingDefaultFundingMethod=!1);let C=({address:I,walletChainType:$,walletClientType:A})=>{n({...r,funding:{...v,connectedWalletAddress:I,onContinueWithExternalWallet:()=>i(E({destChainType:u?"solana":"ethereum",sourceChainType:$}))},solanaFundingData:r!=null&&r.solanaFundingData?{...r.solanaFundingData,sourceWalletData:{address:I,walletClientType:A}}:void 0}),i(C6)};t!=="solana-only"&&w.push(...p.map(((I,$)=>c.jsx(_6,{onClick:()=>C({address:I.address,walletChainType:"ethereum",walletClientType:I.walletClientType}),icon:I.meta.icon,name:I.meta.name,chainType:I.type},$)))),t!=="ethereum-only"&&w.push(...g.map(((I,$)=>c.jsx(_6,{onClick:()=>C({address:I.address,walletChainType:"solana",walletClientType:I.walletClientType}),icon:I.meta.icon,name:I.meta.name,chainType:I.type},$)))),w.push(...yI({walletList:s.appearance.walletList.filter((I=>!p.some(($=>$.walletClientType===I))&&!g.some(($=>$.walletClientType===I)))),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...s.appearance.walletList,...f,...m],walletConnectEnabled:s.externalWallets.walletConnect.enabled}));let _=c.jsx(fI,{text:"More wallets",onClick:()=>d("overflow")}),E=({sourceChainType:I,destChainType:$})=>I==="ethereum"&&$==="solana"?$I:I==="ethereum"&&$==="ethereum"?II:I==="solana"&&$==="ethereum"?SI:v.externalSolanaFundingScreen;return y.useEffect((()=>{n({...r,externalConnectWallet:{onCompleteNavigateTo:({address:I,walletClientType:$,walletChainType:A})=>(n({...r,funding:{...v,connectedWalletAddress:I,onContinueWithExternalWallet:()=>{i(E({destChainType:u?"solana":"ethereum",sourceChainType:A??"ethereum"}))}},solanaFundingData:r!=null&&r.solanaFundingData?{...r.solanaFundingData,sourceWalletData:{address:I||"",walletClientType:$||""}}:void 0}),C6)}})}),[]),c.jsxs(c.Fragment,l==="overflow"?{children:[c.jsx(ut,{backFn:()=>d("default")},"header"),c.jsxs(Fy,{children:[c.jsx(Go,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),w]}),c.jsx(jt,{})]}:{children:[c.jsx($i,{}),c.jsx(es,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),c.jsxs(Fy,{children:[w.length>4?w.slice(0,3):w,w.length>4&&_]}),c.jsx(jt,{})]})}};let _6=({onClick:t,icon:e,name:n,chainType:r})=>c.jsxs(cn,{onClick:t,children:[c.jsx(vd,{style:{width:20},children:c.jsx("img",{src:e})}),n,c.jsx(Ds,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),r==="solana"&&c.jsx(Ds,{color:"gray",children:"Solana"})]});const gpe={component:()=>{let{data:t,setModalData:e,navigate:n,navigateBack:r}=Le(),{closePrivyModal:i,createAnalyticsEvent:s,client:a}=Se(),[o,l]=y.useState("pending-in-flow"),d=y.useRef(0),u={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:h,popup:p}=(t==null?void 0:t.coinbaseOnrampStatus)??{};return y.useEffect((()=>{if(o==="pending-in-flow"||o==="pending-after-flow"){let f=setInterval((async()=>{if(h)try{let{status:g}=await a.getCoinbaseOnRampStatus({partnerUserId:h});if(g==="success")return void l("success");if(g==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(d.current>=3)return e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),void n(xi);p!=null&&p.closed&&(d.current=d.current+1,l("pending-after-flow"))}catch(g){console.error(g),l("error"),s({eventName:Ps,payload:{status:"failure",provider:"coinbase-onramp",error:g.message}}),e({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(xi)}}),1500);return()=>clearInterval(f)}}),[h,p,o]),c.jsxs(c.Fragment,{children:[c.jsx(ut,{title:"Fund account",backFn:()=>{e({funding:u,solanaFundingData:t==null?void 0:t.solanaFundingData}),r()}},"header"),c.jsx(mpe,{status:o,onClickCta:i}),c.jsx(jt,{})]})}};let mpe=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=y.useMemo((()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t)),[t]);return c.jsxs(c.Fragment,{children:[c.jsxs(vpe,{children:[c.jsx(ype,{isSucccess:t==="success"}),c.jsxs(ev,{children:[c.jsx("h3",{children:n}),c.jsx(wpe,{children:r})]})]}),i&&c.jsx(Bt,{onClick:e,children:i})]})},ype=({isSucccess:t})=>{if(!t){let r="var(--privy-color-foreground-4)";return c.jsxs("div",{style:{position:"relative"},children:[c.jsx(ki,{color:r,style:{position:"absolute"}}),c.jsx(Jw,{color:r}),c.jsx(ele,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(r=>r?ru:()=>c.jsx(_w,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),n=(r=>r?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return c.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&c.jsx(e,{width:"4rem",height:"4rem",color:n})})},wpe=F.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),vpe=F.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),bpe={[Si.id]:"ethereum",[is.id]:"base",[pa.id]:"optimism",[Ai.id]:"polygon",[rs.id]:"arbitrum"};const E6=(t,e,n,r,i,s)=>new Promise((async(a,o)=>{let l=lg();if(!l)return void o(Error("Unable to initialize flow"));let d=e.chainType==="ethereum"?(function(g){let m=bpe[g];if(!m)throw new G(`Unsupported chainId: ${g} for Coinbase Onramp`);return m})(e.chain.id):"solana",u=e.isUSDC?"USDC":e.chainType==="ethereum"?VR(e.chain.id):"SOL",h=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[d]}],assets:[u]}),{url:p}=qR({appId:t.getAppId(),input:h,amount:e.amount,blockchain:d,asset:u,experience:s});l.location=p.toString();let f={...i==null?void 0:i.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1),n({funding:f,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{popup:l}}),r(gpe),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),setTimeout((()=>{n({funding:f,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:h.partner_user_id,popup:l}})}),5e3),a()})),k6="moonpay";function xpe(t){return parseFloat(t)}function Cpe(t,e=!1){let[n,r]=y.useState(null),{createAnalyticsEvent:i}=Se(),{data:s,navigate:a,setModalData:o}=Le(),l=s==null?void 0:s.funding,d=y.useRef(0);return y.useEffect((()=>{let u=setInterval((async()=>{var h,p;if(t)try{let[f]=await(async function(m,w){return jC(`https://api.moonpay.com/v1/transactions/ext/${m}`,{query:{apiKey:w?"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI":"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"}})})(t,e),g=f.status==="waitingAuthorization"&&f.paymentMethod==="credit_debit_card"?"pending":f.status;if(["failed","completed","awaitingAuthorization"].includes(g)&&(i({eventName:Ps,payload:{status:g,provider:k6,paymentMethod:f.paymentMethod,cardPaymentType:f.cardPaymentType,currency:(h=f.currency)==null?void 0:h.code,baseCurrencyAmount:f.baseCurrencyAmount,quoteCurrencyAmount:f.quoteCurrencyAmount,feeAmount:f.feeAmount,extraFeeAmount:f.extraFeeAmount,networkFeeAmount:f.networkFeeAmount,isSandbox:e}}),clearInterval(u)),g==="failed"||g==="serviceFailure")return o({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s==null?void 0:s.solanaFundingData}),void a(xi);r(g)}catch(f){((p=f.response)==null?void 0:p.status)!==404&&(d.current+=1),d.current>=3&&(i({eventName:Ps,payload:{status:"serviceFailure",provider:k6}}),clearInterval(u),o({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s==null?void 0:s.solanaFundingData}),a(xi))}}),3e3);return()=>clearInterval(u)}),[t,d]),n}const _pe=({size:t=61,...e})=>c.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:c.jsxs("g",{id:"moonpay_symbol_wht 2",children:[c.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),c.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),AI={component:()=>{let{data:t,setModalData:e,navigateBack:n}=Le(),r=Re(),{closePrivyModal:i}=Se(),{externalTransactionId:s}=t==null?void 0:t.moonpayStatus,a=Cpe(s||null,r.fundingMethodConfig.moonpay.useSandbox??!1);return c.jsxs(c.Fragment,{children:[c.jsx(ut,{title:"Fund account",backFn:()=>{let o={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};o.usingDefaultFundingMethod&&(o.usingDefaultFundingMethod=!1),e({funding:o,solanaFundingData:t==null?void 0:t.solanaFundingData}),n()}}),c.jsx(Epe,{status:a,onClickCta:i}),c.jsx(jt,{})]})}};let Epe=({status:t,onClickCta:e})=>{let{title:n,body:r,cta:i}=y.useMemo((()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t)),[t]);return c.jsxs(c.Fragment,{children:[c.jsxs(Ipe,{children:[c.jsx(kpe,{status:t}),c.jsxs(ev,{children:[c.jsx("h3",{children:n}),c.jsx($pe,{children:r})]})]}),i&&c.jsx(Bt,{onClick:e,children:i})]})},kpe=({status:t})=>{if(!t||t==="pending"){let r="var(--privy-color-foreground-4)";return c.jsxs("div",{style:{position:"relative"},children:[c.jsx(ki,{color:r,style:{position:"absolute"}}),c.jsx(Jw,{color:r}),c.jsx(_pe,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(r=>{switch(r){case"completed":return ru;case"waitingAuthorization":return()=>c.jsx(_w,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),n=(r=>r?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[r]:"var(--privy-color-foreground-4)")(t);return c.jsx("div",{style:{borderColor:n,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&c.jsx(e,{width:"4rem",height:"4rem",color:n})})},$pe=F.p.withConfig({displayName:"StatusBody",componentId:"sc-727a5a8d-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),Ipe=F.div.withConfig({displayName:"ConnectContainer",componentId:"sc-727a5a8d-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const Spe=async(t,e,n,r,i,s,a,o)=>{let l=lg();if(!l)throw Error("Unable to initialize flow");let d=e.chainType==="ethereum"?vR(e.chain.id,r):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:u,externalTransactionId:h}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:n.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:n.appearance.palette.accent,theme:n.appearance.palette.colorScheme},paymentMethod:o,currencyCode:d,quoteCurrencyAmount:xpe(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),l.location=u;let p={...a==null?void 0:a.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(p.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:p,solanaFundingData:a==null?void 0:a.solanaFundingData}),s(AI),setTimeout((()=>{i({moonpayStatus:{externalTransactionId:h},funding:p,solanaFundingData:a==null?void 0:a.solanaFundingData})}),8e3)};let TI=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const Ape=()=>TI("https://apple.com/apple-pay"),Tpe=()=>TI("https://google.com/pay"),xi={component:()=>{var E,x,b,k;let{wallets:t}=ll(),{connectors:e}=Se(),n=e.filter(ng).flatMap((S=>S.wallets)),{navigate:r,data:i,setModalData:s}=Le(),{client:a}=Se(),o=Re(),l=i==null?void 0:i.funding,d=v6(Ape),u=v6(Tpe),h=l.chainType==="solana",p=h?void 0:l,f=y.useMemo((()=>((S,I,$,A,N,O)=>{var Z;let D,M,B=$.chainType==="solana",U=B?void 0:$,L=$.isUSDC?"USDC":U!=null&&U.erc20Address?void 0:"native-currency",T=!!B||L&&wR(Number($.chain.id),L),j=!!B||L&&HR(Number($.chain.id),L),W=[];for(let z of($.preferredCardProvider&&$.supportedOptions.sort((ie=>ie.provider===$.preferredCardProvider?-1:1)),$.supportedOptions))z.method==="card"&&z.provider==="coinbase"&&j&&W.push((()=>E6(I,$,A,N,O,"buy"))),z.method==="card"&&z.provider==="moonpay"&&T&&L&&W.push((()=>Spe(I,$,S,L,A,N,O,"credit_debit_card")));for(let z of $.supportedOptions)z.method==="exchange"&&z.provider==="coinbase"&&j&&(D=()=>E6(I,$,A,N,O,"buy"));for(let z of((Z=O==null?void 0:O.funding)==null?void 0:Z.supportedOptions)??[])z.method==="wallets"&&(M=()=>N(Yu));return{onFundWithCard:W,onFundWithExchange:D,onFundWithWallet:M}})(o,a,l,s,r,i)),[o,a,l,i,s,r]),g=h?n.find((({address:S})=>S===l.address)):t.find((({address:S})=>Zn(S)===Zn(l.address))),m=no((g==null?void 0:g.walletClientType)||"unknown"),w=(m==null?void 0:m.name)||"wallet",v=g&&g.walletClientType!=="privy"?w:o.name,C=y.useMemo((()=>{var S,I,$,A;return(I=(S=l.uiConfig)==null?void 0:S.landing)!=null&&I.title?(A=($=l.uiConfig)==null?void 0:$.landing)==null?void 0:A.title:`Add funds to your ${v!=null&&v.toLowerCase().endsWith("wallet")?v:v+" wallet"}`}),[(x=(E=l.uiConfig)==null?void 0:E.landing)==null?void 0:x.title,v]);y.useEffect((()=>{if(l!=null&&l.defaultFundingMethod&&l.usingDefaultFundingMethod)switch(s({funding:{...l,usingDefaultFundingMethod:!1},solanaFundingData:i==null?void 0:i.solanaFundingData}),l==null?void 0:l.defaultFundingMethod){case"card":f.onFundWithCard[0]&&f.onFundWithCard[0]();break;case"exchange":f.onFundWithExchange&&f.onFundWithExchange();break;case"wallet":f.onFundWithWallet&&f.onFundWithWallet();break;case"manual":r(Gp)}}),[]),y.useEffect((()=>{p!=null&&p.erc20Address&&!p.erc20ContractInfo&&oI({address:p.erc20Address,chain:p.chain,rpcConfig:o.rpcConfig,privyAppId:o.id}).then((S=>{s({...i,funding:{...p,erc20ContractInfo:S?{symbol:S.symbol,decimals:S.decimals}:void 0}})})).catch(console.error)}),[p==null?void 0:p.erc20Address,p==null?void 0:p.chain]);let _=!(!(p!=null&&p.erc20Address)||p!=null&&p.erc20ContractInfo);return c.jsxs(c.Fragment,{children:[c.jsx($i,{}),c.jsx("h3",{children:C}),c.jsxs(dpe,{children:[l.errorMessage&&c.jsx(dI,{theme:o.appearance.palette.colorScheme,children:l.errorMessage}),((b=f.onFundWithCard)==null?void 0:b[0])&&c.jsxs(cn,{disabled:_,onClick:f.onFundWithCard[0],children:[c.jsx(vd,{children:c.jsx(UB,{style:{width:24}})}),"Pay with card",d?c.jsx(Mhe,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):u?c.jsx(Lhe,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),f.onFundWithExchange&&c.jsxs(cn,{disabled:_,onClick:f.onFundWithExchange,children:[c.jsx(vd,{children:c.jsx(_w,{style:{width:24}})}),"Transfer from an exchange"]}),f.onFundWithWallet&&c.jsxs(cn,{disabled:_,onClick:f.onFundWithWallet,children:[c.jsx(vd,{children:c.jsx(J$,{style:{width:24}})}),"Transfer from wallet"]}),c.jsxs(cn,{disabled:_,onClick:()=>r(Gp),children:[c.jsx(vd,{children:c.jsx(ZB,{style:{width:24}})}),"Receive funds"]}),(l==null?void 0:l.showAlternateFundingMethod)&&((k=f.onFundWithCard)==null?void 0:k[1])&&c.jsx(iI,{theme:o.appearance.palette.colorScheme,children:c.jsxs(hpe,{children:["Having trouble or facing location restrictions?"," ",c.jsx(ppe,{onClick:f.onFundWithCard[1],children:"Try a different provider."})]})})]}),c.jsx(jt,{})]})}},Od={component:()=>{var l,d,u,h;let{closePrivyModal:t}=Se(),{data:e,navigate:n}=Le(),r=Re(),i=ol(),s=(l=e==null?void 0:e.externalConnectWallet)==null?void 0:l.description,a=y.useRef(((d=e==null?void 0:e.externalConnectWallet)==null?void 0:d.walletList)??r.appearance.walletList),o=y.useRef(((u=e==null?void 0:e.externalConnectWallet)==null?void 0:u.walletChainType)??r.appearance.walletChainType);return c.jsx(eI,{walletList:a.current,walletChainType:o.current,preSelectedWalletId:(h=e==null?void 0:e.externalConnectWallet)==null?void 0:h.preSelectedWalletId,onBack:e!=null&&e.funding?()=>n(xi):void 0,onClose:()=>{i("connectWallet","onError",Q.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({connector:p,wallet:f})=>{var m;i("connectWallet","onSuccess",{wallet:f});let g=(m=e==null?void 0:e.externalConnectWallet)==null?void 0:m.onCompleteNavigateTo;g?n(g({address:f.address,walletClientType:p==null?void 0:p.walletClientType,walletChainType:p==null?void 0:p.chainType})):t()},onConnectError:p=>{p instanceof ur?(console.warn(p.cause?p.cause:p.message),i("connectWallet","onError",p.privyErrorCode||Q.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(p),i("connectWallet","onError",Q.UNKNOWN_CONNECT_WALLET_ERROR))},customDescription:s,app:r})},isUnauthenticatedScreem:!0},Oo=t=>c.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[c.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),c.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[c.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),c.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),c.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),c.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0_1715_1960",children:c.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),PI=t=>{let[e,n]=y.useState(!1);return c.jsx(Ppe,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{n(!0),setTimeout((()=>n(!1)),1500)},justOpened:e,children:t.text})};let Ppe=F.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.justOpened?"medium":"normal"),(t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)")),Dpe=F.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),Npe=F.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],(t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)"),(t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)")),jpe=F.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),DI=F.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],(t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)")),Ope=F(DI).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),Rpe=F(hv).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),Mpe=F(Xi).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const Lpe=({value:t,title:e,placeholder:n,className:r,showCopyButton:i=!0,truncate:s,maxLength:a=40,disabled:o=!1})=>{let[l,d]=y.useState(!1),u=s&&t?((h,p,f)=>{if((h=h.startsWith("https://")?h.slice(8):h).length<=f)return h;if(p==="middle"){let g=Math.ceil(f/2)-2,m=Math.floor(f/2)-1;return`${h.slice(0,g)}...${h.slice(-m)}`}return`${h.slice(0,f-3)}...`})(t,s,a):t;return y.useEffect((()=>{if(l){let h=setTimeout((()=>d(!1)),3e3);return()=>clearTimeout(h)}}),[l]),c.jsxs(Dpe,{className:r,children:[e&&c.jsx(Rpe,{children:e}),c.jsxs(Npe,{$disabled:o,children:[c.jsx(jpe,{children:t?c.jsx(DI,{$disabled:o,title:t,children:u}):c.jsx(Ope,{$disabled:o,children:n||"No value"})}),i&&t&&c.jsx(Mpe,{onClick:function(h){h.stopPropagation(),navigator.clipboard.writeText(t).then((()=>d(!0))).catch(console.error)},size:"sm",children:c.jsxs(c.Fragment,l?{children:["Copied",c.jsx(tu,{size:14})]}:{children:["Copy",c.jsx(hp,{size:14})]})})]})]})},Fpe=({connectUri:t,loading:e,success:n,errorMessage:r,onBack:i,onClose:s,onOpenFarcaster:a})=>c.jsx(vt,It.isMobile||e?It.isIOS?{title:r?r.message:"Sign in with Farcaster",subtitle:r?r.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:Oo,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:t&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:i,onClose:s,watermark:!0}:{title:r?r.message:"Signing in with Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:Oo,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:i,onClose:s,watermark:!0,children:t&&It.isMobile&&c.jsx(Upe,{children:c.jsx(PI,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:c.jsxs(Bpe,{children:[c.jsx(Wpe,{children:t?c.jsx(Ku,{url:t,size:275,squareLogoElement:Oo}):c.jsx(Hpe,{children:c.jsx(ki,{})})}),c.jsxs(zpe,{children:[c.jsx(qpe,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&c.jsx(Lpe,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),t2={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=wt(),{lastScreen:i,navigate:s,navigateBack:a,setModalData:o}=Le(),l=Re(),{getAuthFlow:d,loginWithFarcaster:u,closePrivyModal:h,createAnalyticsEvent:p}=Se(),[f,g]=y.useState(void 0),[m,w]=y.useState(!1),[v,C]=y.useState(!1),_=y.useRef([]),E=d(),x=E==null?void 0:E.meta.connectUri;return y.useEffect((()=>{let b=Date.now(),k=setInterval((async()=>{var $,A,N,O,D,M,B,U,L,T,j,W,Z,z,ie;let S=await E.pollForReady.execute(),I=Date.now()-b;if(S){clearInterval(k),w(!0);try{await u(),C(!0)}catch(V){let ee={retryable:!1,message:"Authentication failed"};if((V==null?void 0:V.privyErrorCode)===Q.ALLOWLIST_REJECTED)return void s(wg);if((V==null?void 0:V.privyErrorCode)===Q.USER_LIMIT_REACHED)return console.error(new Eu(V).toString()),void s(Gu);if((V==null?void 0:V.privyErrorCode)===Q.USER_DOES_NOT_EXIST)return void s(Vu);if((V==null?void 0:V.privyErrorCode)===Q.LINKED_TO_ANOTHER_USER)ee.detail=V.message??"This account has already been linked to another user.";else{if((V==null?void 0:V.privyErrorCode)===Q.ACCOUNT_TRANSFER_REQUIRED&&((A=($=V.data)==null?void 0:$.data)!=null&&A.nonce))return o({accountTransfer:{nonce:(O=(N=V.data)==null?void 0:N.data)==null?void 0:O.nonce,account:(M=(D=V.data)==null?void 0:D.data)==null?void 0:M.subject,displayName:(L=(U=(B=V.data)==null?void 0:B.data)==null?void 0:U.account)==null?void 0:L.displayName,linkMethod:"farcaster",embeddedWalletAddress:(W=(j=(T=V.data)==null?void 0:T.data)==null?void 0:j.otherUser)==null?void 0:W.embeddedWalletAddress,farcasterEmbeddedAddress:(ie=(z=(Z=V.data)==null?void 0:Z.data)==null?void 0:z.otherUser)==null?void 0:ie.farcasterEmbeddedAddress}}),void s(cl);(V==null?void 0:V.privyErrorCode)===Q.INVALID_CREDENTIALS?(ee.retryable=!0,ee.detail="Something went wrong. Try again."):(V==null?void 0:V.privyErrorCode)===Q.TOO_MANY_REQUESTS&&(ee.detail="Too many requests. Please wait before trying again.")}g(ee)}}else I>12e4&&(clearInterval(k),g({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))}),2e3);return()=>{clearInterval(k),_.current.forEach((S=>clearTimeout(S)))}}),[]),y.useEffect((()=>{if(n&&t&&v&&r){if(l!=null&&l.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let b=setTimeout((()=>{s(dl)}),an);return()=>clearTimeout(b)}v&&(so(r,l.embeddedWallets)?_.current.push(setTimeout((()=>{o({createWallet:{onSuccess:()=>{},onFailure:b=>{console.error(b),p({eventName:"embedded_wallet_creation_failure_logout",payload:{error:b,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(ga)}),an)):_.current.push(setTimeout((()=>h({shouldCallAuthOnSuccess:!0,isSuccess:!0})),an)))}}),[v,n,t,r]),c.jsx(Fpe,{connectUri:x,loading:m,success:v,errorMessage:f,onBack:i?a:void 0,onClose:h,onOpenFarcaster:()=>{x&&(window.location.href=x)}})}};let Upe=F.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-6e4b180b-0"})(["margin-top:24px;"]),Bpe=F.div.withConfig({displayName:"ContentContainer",componentId:"sc-6e4b180b-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),Wpe=F.div.withConfig({displayName:"QrContainer",componentId:"sc-6e4b180b-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),zpe=F.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-6e4b180b-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),qpe=F.div.withConfig({displayName:"InstructionText",componentId:"sc-6e4b180b-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),Hpe=F.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-6e4b180b-5"})(["position:relative;width:82px;height:82px;"]);const NI=()=>{let[t,e]=y.useState(!1),{currentScreen:n,navigate:r,setModalData:i,data:s}=Le(),{enabled:a,token:o}=Lr(),{initLoginWithFarcaster:l}=Se(),{accountType:d}=io();return c.jsxs(cn,{onClick:async()=>{var u;e(!0);try{a&&!o?(i({captchaModalData:{callback:h=>{var p;return l(h,(p=s==null?void 0:s.login)==null?void 0:p.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:t2,onErrorNavigateTo:dn}}),r(ts)):(await l(o,(u=s==null?void 0:s.login)==null?void 0:u.disableSignup),r(t2))}catch(h){i({errorModalData:{error:h,previousScreen:n||hr}}),r(dn)}finally{e(!1)}},disabled:!1,children:[c.jsx(Oo,{width:32,height:32})," Farcaster",t&&c.jsx(ro,{}),d==="farcaster"&&c.jsx(Vpe,{color:"gray",children:"Recent"})]})};let Vpe=F(Ds).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const Kpe=({status:t,passkeySignupFlow:e=!1,error:n,onRetry:r})=>c.jsx(vt,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:c.jsx(Gpe,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(n instanceof ur){if(n.privyErrorCode===Q.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(n.privyErrorCode===Q.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:pp,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&r?{label:"Retry",onClick:r}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),Kl={component:()=>{let{data:t,setModalData:e,navigate:n}=Le(),r=Re(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:a,createAnalyticsEvent:o}=Se(),{user:l,logout:d}=wt(),{passkeySignupFlow:u}=(t==null?void 0:t.passkeyAuthModalData)??{},[h,p]=y.useState("loading"),[f,g]=y.useState(null),m=y.useRef([]),w=C=>{m.current=[C,...m.current]};y.useEffect((()=>()=>{m.current.forEach((C=>clearTimeout(C))),m.current=[]}),[]);let v=async()=>{p("loading");try{u?await s():await i(),p("success")}catch(C){g(C),p("error")}};return y.useEffect((()=>{if(h==="success"&&l){if(r!=null&&r.legal.requireUsersAcceptTerms&&!l.hasAcceptedTerms)return void w(setTimeout((()=>{n(dl)}),900));if(!so(l,r==null?void 0:r.embeddedWallets))return void w(setTimeout((()=>{a({shouldCallAuthOnSuccess:!0,isSuccess:!0})}),an));w(setTimeout((()=>{e({createWallet:{onSuccess:()=>{},onFailure:C=>{console.error(C),o({eventName:"embedded_wallet_creation_failure_logout",payload:{error:C,screen:"PasskeyStatusScreen"}}),d()},callAuthOnSuccessOnClose:!0}}),n(ga)}),900))}}),[l,h]),y.useEffect((()=>{v()}),[]),c.jsx(Kpe,{status:h,passkeySignupFlow:u,error:f,onRetry:v})}};let Gpe=F.span.withConfig({displayName:"SubtitleText",componentId:"sc-7ff4a13e-0"})(["white-space:pre-wrap;"]);const Ype=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:n,onLogin:r})=>c.jsx(vt,{title:t,subtitle:e,icon:pp,primaryCta:{label:"Create new account",onClick:n},secondaryCta:{label:"Log in with a passkey",onClick:r},watermark:!0}),Zpe={component:()=>{let{enabled:t,token:e}=Lr(),{navigate:n,setModalData:r}=Le(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=Se();return c.jsx(Ype,{onSignup:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:a=>i({captchaToken:a,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Kl,onErrorNavigateTo:dn}}),n(ts)):(await i({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!0}}),n(Kl))},onLogin:async()=>{t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:a=>s({captchaToken:a,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Kl,onErrorNavigateTo:dn}}),n(ts)):(await s({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(Kl))}})}},jI=()=>{let{enabled:t,token:e}=Lr(),{navigate:n,setModalData:r,data:i}=Le(),s=Re(),{initLoginWithPasskey:a}=Se(),o=()=>{s.loginConfig.passkeysForSignupEnabled?n(Zpe):(async()=>t&&!e?(r({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:l=>a({captchaToken:l,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Kl,onErrorNavigateTo:dn}}),n(ts)):(await a({withPrivyUi:!0}),r({passkeyAuthModalData:{passkeySignupFlow:!1}}),n(Kl)))()};return y.useMemo((()=>{var d;let l=(d=i==null?void 0:i.login)==null?void 0:d.loginMethods;return l?l.filter((u=>u!=="passkey")).length:Object.entries(s.loginMethods).filter((([u,h])=>h)).filter((([u])=>u!=="passkey")).length}),[s.loginMethods,i==null?void 0:i.login])===0?c.jsxs(cn,{onClick:o,children:[c.jsx(J2,{})," Continue with passkey"]}):c.jsx(Cc,{as:"button",onClick:o,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},Jpe=({value:t,onChange:e})=>c.jsx("select",{value:t,onChange:e,children:OR.map((n=>c.jsxs("option",{value:n.code,children:[n.code," +",n.callCode]},n.code)))}),_g=y.forwardRef(((t,e)=>{let n=Re(),[r,i]=y.useState(!1),{accountType:s}=io(),[a,o]=y.useState(""),[l,d]=y.useState((n==null?void 0:n.intl.defaultCountry)??"US"),u=rh(a,l),h=jR(l),p=RR(l),f=M2(l),g=!u,[m,w]=y.useState(!1),v=f.length,C=x=>{let b=x.target.value;d(b),o(""),t.onChange&&t.onChange({rawPhoneNumber:a,qualifiedPhoneNumber:Hg(a,b),countryCode:b,isValid:rh(a,l)})},_=(x,b)=>{try{let k=x.replace(/\D/g,"")===a.replace(/\D/g,"")?x:h.input(x);o(k),t.onChange&&t.onChange({rawPhoneNumber:k,qualifiedPhoneNumber:Hg(x,b),countryCode:b,isValid:rh(x,b)})}catch(k){console.error("Error processing phone number:",k)}},E=()=>{w(!0);let x=Hg(a,l);t.onSubmit({rawPhoneNumber:a,qualifiedPhoneNumber:x,countryCode:l,isValid:rh(a,l)}).finally((()=>w(!1)))};return y.useEffect((()=>{if(t.defaultValue){let x=MR(t.defaultValue);h.reset(),C({target:{value:x.countryCode}}),_(x.phone,x.countryCode)}}),[t.defaultValue]),c.jsxs(c.Fragment,{children:[c.jsx(Qpe,{children:c.jsxs(Xpe,{$callingCodeLength:v,$stacked:t.stacked,children:[c.jsx(Jpe,{value:l,onChange:C}),c.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:p,onFocus:()=>i(!0),onChange:x=>{_(x.target.value,l)},onKeyUp:x=>{x.key==="Enter"&&E()},value:a,autoComplete:"tel"}),s!=="phone"||r||t.hideRecent?t.stacked||t.noIncludeSubmitButton?c.jsx("span",{}):c.jsx(ig,{isSubmitting:m,onClick:E,disabled:g,children:"Submit"}):c.jsx(Ds,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?c.jsx(Bt,{loading:m,loadingText:null,onClick:E,disabled:g,children:"Submit"}):null]})}));let Qpe=F.div.withConfig({displayName:"InputContainer",componentId:"sc-545daacd-0"})(["width:100%;"]),Xpe=F.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-545daacd-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$stacked?"16px":"88px"));const OI=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=y.useRef(null),{authenticated:i}=wt(),{navigate:s,setModalData:a,currentScreen:o,data:l}=Le(),{initLoginWithSms:d}=Se(),{enabled:u,token:h}=Lr(),{whatsAppEnabled:p}=Re();return c.jsxs(c.Fragment,{children:[c.jsx(xc,{$if:!t,children:c.jsx(_g,{ref:r,onSubmit:async function({qualifiedPhoneNumber:f}){var g;if(!u||h||i)try{await d({phoneNumber:f,captchaToken:h,withPrivyUi:!0,disableSignup:(g=l==null?void 0:l.login)==null?void 0:g.disableSignup}),s(ua)}catch(m){a({errorModalData:{error:m,previousScreen:o||hr}}),s(dn)}else a({captchaModalData:{callback:m=>{var w;return d({phoneNumber:f,captchaToken:m,withPrivyUi:!0,disableSignup:(w=l==null?void 0:l.login)==null?void 0:w.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:ua,onErrorNavigateTo:dn}}),s(ts)},defaultValue:n})}),c.jsx(xc,{$if:t,children:c.jsxs(cn,{onClick:()=>{e(),setTimeout((()=>{var f;(f=r.current)==null||f.focus()}),0)},children:[c.jsx(Ki,{children:c.jsx(zC,{})}),"Continue with ",p?"WhatsApp":"SMS"]})})]})};let efe={apple:{logo:Tk,displayName:"Apple"},discord:{logo:Pk,displayName:"Discord"},github:{logo:Dk,displayName:"GitHub"},google:{logo:Nk,displayName:"Google"},linkedin:{logo:Rk,displayName:"LinkedIn"},spotify:{logo:Mk,displayName:"Spotify"},instagram:{logo:jk,displayName:"Instagram"},twitter:{logo:Fk,displayName:"Twitter"},tiktok:{logo:Lk,displayName:"TikTok"},line:{logo:Ok,displayName:"LINE"}};const $n=({provider:t})=>{let{enabled:e,token:n}=Lr(),{navigate:r,setModalData:i,data:s}=Le(),[a,o]=y.useState(!1),{initLoginWithOAuth:l}=Se(),{accountType:d}=io(),u=y.useMemo((()=>d&&d!=="guest"&&d!=="authorization_key"&&d!=="cross_app"?mg(d):null),[d]),{displayName:h,logo:p}=efe[t];return c.jsxs(cn,{onClick:()=>{var f;o(!0),setTimeout((()=>{o(!1)}),2e3),e&&!n?(i({captchaModalData:{callback:g=>{var m;return l(t,g,(m=s==null?void 0:s.login)==null?void 0:m.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:dn}}),r(ts)):l(t,void 0,(f=s==null?void 0:s.login)==null?void 0:f.disableSignup)},disabled:a,children:[c.jsx(Ki,{$fullSize:!0,children:c.jsx(p,{style:{width:"32px",height:"32px"}})}),h,(u==null?void 0:u.loginMethod)===t&&c.jsx(tfe,{color:"gray",children:"Recent"})]})};let tfe=F(Ds).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function RI(t){return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[c.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),c.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),c.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),c.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const nfe=({success:t,errorMessage:e,onRetry:n})=>{let r=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return c.jsx(vt,{title:r,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:RI,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e!=null&&e.retryable&&n?{label:"Retry",onClick:n}:void 0,watermark:!0})},tp={component:()=>{let{authenticated:t,logout:e,ready:n,user:r}=wt(),{setModalData:i,navigate:s,resetNavigation:a,data:o}=Le(),l=Re(),{initLoginWithTelegram:d,loginWithTelegram:u,updateWallets:h,setReadyToTrue:p,closePrivyModal:f,createAnalyticsEvent:g,getAuthMeta:m}=Se(),[w,v]=y.useState(!1),[C,_]=y.useState(void 0),E=Lr();async function x(){var b,k,S,I,$,A,N,O,D,M,B,U,L,T;try{let j=await(async function(){let W;if(!t){if(E.enabled&&E.status==="error")throw new tg(E.error,null,Q.CAPTCHA_FAILURE);return E.enabled&&E.status!=="success"&&(E.execute(),W=await E.waitForResult()),W}})();await u({captchaToken:j}),v(!0),p(!0)}catch(j){if((j==null?void 0:j.privyErrorCode)===Q.ALLOWLIST_REJECTED)return _(void 0),a(),void s(wg);if((j==null?void 0:j.privyErrorCode)===Q.USER_LIMIT_REACHED)return console.error(new Eu(j).toString()),_(void 0),a(),void s(Gu);if((j==null?void 0:j.privyErrorCode)===Q.USER_DOES_NOT_EXIST)return _(void 0),a(),void s(Vu);if((j==null?void 0:j.privyErrorCode)===Q.ACCOUNT_TRANSFER_REQUIRED&&((k=(b=j.data)==null?void 0:b.data)!=null&&k.nonce))return _(void 0),a(),i({accountTransfer:{nonce:(I=(S=j.data)==null?void 0:S.data)==null?void 0:I.nonce,account:(A=($=j.data)==null?void 0:$.data)==null?void 0:A.subject,telegramAuthResult:(N=m())==null?void 0:N.telegramAuthResult,telegramWebAppData:(O=m())==null?void 0:O.telegramWebAppData,displayName:(B=(M=(D=j.data)==null?void 0:D.data)==null?void 0:M.account)==null?void 0:B.displayName,linkMethod:"telegram",embeddedWalletAddress:(T=(L=(U=j.data)==null?void 0:U.data)==null?void 0:L.otherUser)==null?void 0:T.embeddedWalletAddress}}),void s(cl);let{retryable:W,detail:Z}=K8(j);_({retryable:W,detail:Z,message:"Authentication failed"})}}return y.useEffect((()=>{x()}),[]),y.useEffect((()=>{if(!(n&&t&&w&&r))return;if(l!=null&&l.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let k=setTimeout((()=>{s(dl)}),an);return()=>clearTimeout(k)}if(so(r,l.embeddedWallets)){let k=setTimeout((()=>{i({createWallet:{onSuccess:()=>{},onFailure:S=>{console.error(S),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:S,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(ga)}),an);return()=>clearTimeout(k)}h();let b=setTimeout((()=>f({shouldCallAuthOnSuccess:!0,isSuccess:!0})),an);return()=>clearTimeout(b)}),[n,t,w,r]),c.jsx(nfe,{success:w,errorMessage:C,onRetry:C!=null&&C.retryable?async()=>{var b,k;try{_(void 0),(b=o==null?void 0:o.telegramAuthModalData)!=null&&b.seamlessAuth||await d(void 0,(k=o==null?void 0:o.login)==null?void 0:k.disableSignup),await x()}catch(S){let{retryable:I,detail:$}=K8(S);_({retryable:I,detail:$,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},MI=()=>{let{enabled:t,token:e}=Lr(),{navigate:n,setModalData:r,data:i}=Le(),[s,a]=y.useState(!1),{initLoginWithTelegram:o}=Se(),{accountType:l}=io();async function d(u){var h;try{await o(u,(h=i==null?void 0:i.login)==null?void 0:h.disableSignup),r({telegramAuthModalData:{seamlessAuth:!1}}),n(tp)}catch(p){console.error(p),a(!1)}}return c.jsxs(cn,{onClick:async function(){if(a(!0),t&&!e)return r({captchaModalData:{callback:d,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:dn}}),void n(ts);await d(e)},disabled:s,children:[c.jsx(RI,{width:32,height:32}),"Telegram",l==="telegram"&&c.jsx(rfe,{color:"gray",children:"Recent"})]})};let rfe=F(Ds).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const LI=({onClick:t,text:e,icon:n})=>c.jsxs(cn,{onClick:t,children:[c.jsx(Ki,{children:n}),c.jsx(bc,{children:e})]}),FI=({connectOnly:t})=>{var Wt;let{closePrivyModal:e}=Se(),{data:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=Le(),a=Re(),o=n==null?void 0:n.login,l=a.appearance.walletList,d=(o==null?void 0:o.walletChainType)??a.appearance.walletChainType,{accountType:u,walletClientType:h,chainType:p}=io(),{wallets:f}=Q$({walletList:l,walletChainType:d}),g=y.useMemo((()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?mg(u):null),[u]),{email:m,sms:w,google:v,twitter:C,discord:_,github:E,spotify:x,instagram:b,tiktok:k,line:S,linkedin:I,apple:$,wallet:A,farcaster:N,telegram:O}=y.useMemo((()=>o!=null&&o.loginMethods?LR(o.loginMethods,!0):null),[o])??a.loginMethods,{passkey:D}=a.loginMethods,M=[m&&"email",w&&"sms",v&&"google",C&&"twitter",_&&"discord",E&&"github",x&&"spotify",b&&"instagram",k&&"tiktok",S&&"line",I&&"linkedin",$&&"apple",N&&"farcaster",O&&"telegram"].filter((pe=>!!pe)),B=M.length>0,U=y.useMemo((()=>A&&!B?"web3-first":A&&(a==null?void 0:a.appearance.loginGroupPriority)||"web2-first"),[A,B,a==null?void 0:a.appearance.loginGroupPriority]),L=a==null?void 0:a.appearance.hideDirectWeb2Inputs,[T,j]=y.useState("default"),[W,Z]=y.useState(Zp({mostRecentlyUsedAccountType:u,smsAvailable:w,emailAvailable:m,prefilledType:(Wt=o==null?void 0:o.prefill)==null?void 0:Wt.type}));y.useEffect((()=>{var pe;Z(Zp({mostRecentlyUsedAccountType:u,smsAvailable:w,emailAvailable:m,prefilledType:(pe=o==null?void 0:o.prefill)==null?void 0:pe.type}))}),[m,w,u]);let z=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{j("default")}),150)};i.current=z;let ie=[];h&&A?ie.push(h):g!=null&&g.loginMethod&&M.includes(g.loginMethod)&&ie.push(g.loginMethod);let V=pe=>{var ht,bt;if(pe==="email")return c.jsx(WI,{isEditable:W==="email",setIsEditable:()=>{Z("email")},defaultValue:((ht=o==null?void 0:o.prefill)==null?void 0:ht.type)==="email"?o.prefill.value:void 0},pe);if(pe==="sms")return c.jsx(OI,{isEditable:W==="sms",setIsEditable:()=>{Z("sms")},defaultValue:((bt=o==null?void 0:o.prefill)==null?void 0:bt.type)==="phone"?o.prefill.value:void 0},pe);if(pe==="apple")return c.jsx($n,{provider:"apple"},pe);if(pe==="discord")return c.jsx($n,{provider:"discord"},pe);if(pe==="farcaster")return c.jsx(NI,{},pe);if(pe==="github")return c.jsx($n,{provider:"github"},pe);if(pe==="google")return c.jsx($n,{provider:"google"},pe);if(pe==="linkedin")return c.jsx($n,{provider:"linkedin"},pe);if(pe==="tiktok")return c.jsx($n,{provider:"tiktok"},pe);if(pe==="line")return c.jsx($n,{provider:"line"},pe);if(pe==="spotify")return c.jsx($n,{provider:"spotify"},pe);if(pe==="instagram")return c.jsx($n,{provider:"instagram"},pe);if(pe==="twitter")return c.jsx($n,{provider:"twitter"},pe);if(pe==="telegram")return c.jsx(MI,{},pe);let zt=f.findIndex((({id:ct})=>ct===Jr.normalize(pe))),Te=p==="solana"?"solana-only":"ethereum-only";return c.jsx(Gy,{recent:!0,index:zt,data:{wallets:f,walletChainType:Te,handleWalletClick(ct){r((st=>({...st,externalConnectWallet:{walletList:l,walletChainType:Te,preSelectedWalletId:ct.id}}))),s(t?Od:ep)}}})},ee=f.filter((pe=>pe.id!==Jr.normalize(h||""))),ae=ee.map(((pe,zt)=>c.jsx(Gy,{index:zt,data:{walletChainType:d,wallets:ee,handleWalletClick(Te){r((ht=>({...ht,externalConnectWallet:{walletList:l,walletChainType:d,preSelectedWalletId:Te.id}}))),s(t?Od:ep)}}},pe.id))),te=M.filter((pe=>pe!==(g==null?void 0:g.loginMethod))).flatMap(V),he=ie.flatMap(V);U==="web3-first"&&T==="default"?ae.unshift(...he):U==="web2-first"&&te.unshift(...he);let xe=T==="web2-overflow"?()=>j("default"):void 0,ke=M.filter((pe=>pe!=="email"&&pe!=="sms")),Ue=afe({priority:U,email:m,sms:w,social:ke}),ge=ofe({priority:U,email:m,sms:w,social:ke}),Ce=c.jsx(fI,{text:lfe({priority:U}),onClick:()=>{r({...n,externalConnectWallet:{walletChainType:(o==null?void 0:o.walletChainType)??a.appearance.walletChainType}}),s(t?Od:ep)}}),Ee=c.jsx(LI,{text:Ue,icon:ge,onClick:()=>j("web2-overflow")}),re=L?0:1,We=A&&ae.length>0,ze=te.length===0&&A&&ae.length===0,de=5-(We?1:0),ve=T==="default"&&(a==null?void 0:a.appearance.logo),St=T==="default"&&a.appearance.loginMessage;return c.jsxs(vt,{title:a.appearance.landingHeader,icon:ve?c.jsx(U$,{}):void 0,iconVariant:ve?"logo":void 0,onClose:z,showClose:!0,onBack:xe,showBack:!!xe,helpText:a||D&&T==="default"?c.jsxs(c.Fragment,{children:[D&&T==="default"&&c.jsx(jI,{}),a&&c.jsx(Zw,{app:a})]}):void 0,watermark:!0,children:[St&&(typeof a.appearance.loginMessage=="string"?c.jsx(ife,{children:a.appearance.loginMessage}):c.jsx(sfe,{children:a.appearance.loginMessage})),c.jsx(o$,{$colorScheme:a.appearance.palette.colorScheme,children:T==="default"&&U==="web2-first"?c.jsxs(c.Fragment,{children:[te.length>de?te.slice(0,de-1):te,te.length>de&&Ee,We&&Ce,ze&&c.jsx(b6,{chainType:a.appearance.walletChainType})]}):T==="default"&&U==="web3-first"?c.jsxs(c.Fragment,{children:[A&&c.jsxs(c.Fragment,{children:[ae.length>de?ae.slice(0,de-1):ae,ae.length>de&&Ce]}),te.length>re&&Ee,te.length===re&&te[0],ze&&c.jsx(b6,{chainType:a.appearance.walletChainType})]}):T==="web2-overflow"?c.jsx(c.Fragment,{children:U==="web3-first"?te:te.slice(3)}):null})]})};let ife=F.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-4f3e9c6f-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),sfe=F.div.withConfig({displayName:"MessageContainer",componentId:"sc-4f3e9c6f-1"})(["margin-bottom:24px;"]),afe=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"?"Other socials":e&&n&&r.length>0||e&&r.length>0?"Log in with email or socials":n&&r.length>0?"Log in with sms or socials":e&&n?"Continue with email or sms":e?"Continue with email":n?"Continue with sms":"Log in with a social account",ofe=({priority:t,email:e,sms:n,social:r})=>t==="web2-first"||r.length>0?c.jsx(GL,{}):e&&n?c.jsx(gue,{}):e?c.jsx(pf,{}):n?c.jsx(zC,{}):null,lfe=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const Zp=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:n,prefilledType:r})=>n&&(t==="email"&&r!=="phone"||r==="email")||!e||t!=="phone"&&r!=="phone"?"email":"sms",UI={component:()=>{let t=Re();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?c.jsx(zI,{connectOnly:!0}):c.jsx(FI,{connectOnly:!0})}},cfe=({contactMethod:t,authFlow:e,appName:n="Privy",whatsAppEnabled:r=!1,onBack:i,onCodeSubmit:s,onResend:a,errorMessage:o,success:l=!1,resendCountdown:d=0,onInvalidInput:u,onClearError:h})=>{let[p,f]=y.useState(I6);y.useEffect((()=>{o||f(I6)}),[o]);let g=async m=>{var x;m.preventDefault();let w=m.currentTarget.value.replace(" ","");if(w==="")return;if(isNaN(Number(w)))return void(u==null?void 0:u("Code should be numeric"));h==null||h();let v=Number((x=m.currentTarget.name)==null?void 0:x.charAt(5)),C=[...w||[""]].slice(0,$6-v),_=[...p.slice(0,v),...C,...p.slice(v+C.length)];f(_);let E=Math.min(Math.max(v+C.length,0),$6-1);if(!isNaN(Number(m.currentTarget.value))){let b=document.querySelector(`input[name=code-${E}]`);b==null||b.focus()}if(_.every((b=>b&&!isNaN(+b)))){let b=document.querySelector(`input[name=code-${E}]`);b==null||b.blur(),await(s==null?void 0:s(_.join("")))}};return c.jsx(vt,{title:"Enter confirmation code",subtitle:c.jsxs("span",e==="email"?{children:["Please check ",c.jsx(S6,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",c.jsx(S6,{children:t})," for a",r?" WhatsApp":""," message from ",n," and enter your code below."]}),icon:e==="email"?G2:Ka,onBack:i,showBack:!0,helpText:c.jsxs(gfe,{children:[c.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),d?c.jsxs(mfe,{children:[c.jsx(LU,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),c.jsx("span",{children:"Code sent"})]}):c.jsx(Cc,{as:"button",size:"sm",onClick:a,children:"Resend code"})]}),children:c.jsx(hfe,{children:c.jsx(mce,{children:c.jsxs(pfe,{children:[c.jsx("div",{children:p.map(((m,w)=>c.jsx("input",{name:`code-${w}`,type:"text",value:p[w],onChange:g,onKeyUp:v=>{v.key==="Backspace"&&(C=>{if(h==null||h(),f([...p.slice(0,C),"",...p.slice(C+1)]),C>0){let _=document.querySelector(`input[name=code-${C-1}]`);_==null||_.focus()}})(w)},inputMode:"numeric",autoFocus:w===0,pattern:"[0-9]",className:`${l?"success":""} ${o?"fail":""}`,autoComplete:It.isMobile?"one-time-code":"off"},w)))}),c.jsx(ffe,{$fail:!!o,$success:l,children:c.jsx("span",{children:o==="Invalid or expired verification code"?"Incorrect code":o||(l?"Success!":"")})})]})})})})};let $6=6,I6=Array(6).fill("");var td,nd,dfe=((td=dfe||{})[td.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",td[td.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",td),ufe=((nd=ufe||{})[nd.EMAIL=0]="EMAIL",nd[nd.SMS=1]="SMS",nd);const ua={component:()=>{var A,N,O;let{navigate:t,lastScreen:e,navigateBack:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i}=Le(),s=Re(),{closePrivyModal:a,resendEmailCode:o,resendSmsCode:l,getAuthMeta:d,loginWithCode:u,updateWallets:h,createAnalyticsEvent:p}=Se(),{authenticated:f,logout:g,user:m}=wt(),{whatsAppEnabled:w}=Re(),[v,C]=y.useState(!1),[_,E]=y.useState(null),[x,b]=y.useState(null),[k,S]=y.useState(0);i.current=()=>null;let I=(A=d())!=null&&A.email?0:1,$=I===0?((N=d())==null?void 0:N.email)||"":((O=d())==null?void 0:O.phoneNumber)||"";return y.useEffect((()=>{if(k){let D=setTimeout((()=>{S(k-1)}),1e3);return()=>clearTimeout(D)}}),[k]),y.useEffect((()=>{if(f&&v&&m){if(s!=null&&s.legal.requireUsersAcceptTerms&&!m.hasAcceptedTerms){let D=setTimeout((()=>{t(dl)}),900);return()=>clearTimeout(D)}if(so(m,s.embeddedWallets)){let D=setTimeout((()=>{r({createWallet:{onSuccess:()=>{},onFailure:M=>{console.error(M),p({eventName:"embedded_wallet_creation_failure_logout",payload:{error:M,screen:"AwaitingPasswordlessCodeScreen"}}),g()},callAuthOnSuccessOnClose:!0}}),t(ga)}),900);return()=>clearTimeout(D)}{h();let D=setTimeout((()=>a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),an);return()=>clearTimeout(D)}}}),[f,v,m]),y.useEffect((()=>{if(_&&x===0){let D=setTimeout((()=>{E(null),b(null);let M=document.querySelector("input[name=code-0]");M==null||M.focus()}),1400);return()=>clearTimeout(D)}}),[_,x]),c.jsx(cfe,{contactMethod:$,authFlow:I===0?"email":"sms",appName:s==null?void 0:s.name,whatsAppEnabled:w,onBack:()=>n(),onCodeSubmit:async D=>{var M,B,U,L,T,j,W,Z,z,ie;try{await u(D),C(!0)}catch(V){if(V instanceof Zr&&V.privyErrorCode===Q.INVALID_CREDENTIALS)E("Invalid or expired verification code"),b(0);else if(V instanceof Zr&&V.privyErrorCode===Q.CANNOT_LINK_MORE_OF_TYPE)E(V.message);else{if(V instanceof Zr&&V.privyErrorCode===Q.USER_LIMIT_REACHED)return console.error(new Eu(V).toString()),void t(Gu);if(V instanceof Zr&&V.privyErrorCode===Q.USER_DOES_NOT_EXIST)return void t(Vu);if(V instanceof Zr&&V.privyErrorCode===Q.LINKED_TO_ANOTHER_USER)return r({errorModalData:{error:V,previousScreen:e??ua}}),void t(dn,!1);if(V instanceof Zr&&V.privyErrorCode===Q.DISALLOWED_PLUS_EMAIL)return r({inlineError:{error:V}}),void t(UI,!1);if(V instanceof Zr&&V.privyErrorCode===Q.ACCOUNT_TRANSFER_REQUIRED&&((B=(M=V.data)==null?void 0:M.data)!=null&&B.nonce))return r({accountTransfer:{nonce:(L=(U=V.data)==null?void 0:U.data)==null?void 0:L.nonce,account:$,displayName:(W=(j=(T=V.data)==null?void 0:T.data)==null?void 0:j.account)==null?void 0:W.displayName,linkMethod:I===0?"email":"sms",embeddedWalletAddress:(ie=(z=(Z=V.data)==null?void 0:Z.data)==null?void 0:z.otherUser)==null?void 0:ie.embeddedWalletAddress}}),void t(cl);E("Issue verifying code"),b(0)}}},onResend:async()=>{S(30),I===0?await o():await l()},errorMessage:_||void 0,success:v,resendCountdown:k,onInvalidInput:D=>{E(D),b(1)},onClearError:()=>{x===1&&(E(null),b(null))}})}};let hfe=F.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-63a7dae3-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),pfe=F.div.withConfig({displayName:"CodeInput",componentId:"sc-63a7dae3-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),ffe=F.div.withConfig({displayName:"InputHelp",componentId:"sc-63a7dae3-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],(t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent")),gfe=F.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-63a7dae3-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),mfe=F.div.withConfig({displayName:"Badge",componentId:"sc-63a7dae3-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),S6=F.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-63a7dae3-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const BI=y.forwardRef(((t,e)=>{let[n,r]=y.useState(t.defaultValue||""),[i,s]=y.useState(""),[a,o]=y.useState(!1),{authenticated:l}=wt(),{initLoginWithEmail:d}=Se(),{navigate:u,setModalData:h,currentScreen:p,data:f}=Le(),{enabled:g,token:m}=Lr(),[w,v]=y.useState(!1),{accountType:C}=io(),_=Re();y.useEffect((()=>{var k,S;!n&&_.disablePlusEmails&&((k=f==null?void 0:f.inlineError)==null?void 0:k.error)instanceof ur&&((S=f==null?void 0:f.inlineError)==null?void 0:S.error.privyErrorCode)===Q.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")}),[n]);let E=zk(n),x=a||!E,b=()=>{h({login:f==null?void 0:f.login,inlineError:void 0}),!g||m||l?(k=>{var S;o(!0),d({email:n,captchaToken:k,disableSignup:(S=f==null?void 0:f.login)==null?void 0:S.disableSignup,withPrivyUi:!0}).then((()=>{u(ua)})).catch((I=>{h({errorModalData:{error:I,previousScreen:p||hr}}),u(dn)})).finally((()=>{o(!1)}))})(m):(h({captchaModalData:{callback:k=>d({email:n,captchaToken:k,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:ua,onErrorNavigateTo:dn}}),u(ts))};return c.jsxs(c.Fragment,{children:[c.jsxs(yfe,{children:[i&&c.jsx(Ko,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),c.jsxs(wfe,{stacked:t.stacked,$error:!!i,children:[c.jsx(vfe,{children:c.jsx(pf,{})}),c.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>v(!0),onChange:k=>r(k.target.value),onKeyUp:k=>{k.key==="Enter"&&b()},value:n,autoComplete:"email"}),C!=="email"||w?t.stacked?c.jsx("span",{}):c.jsx(ig,{isSubmitting:a,onClick:b,disabled:x,children:"Submit"}):c.jsx(Ds,{color:"gray",children:"Recent"})]})]}),t.stacked?c.jsx(Bt,{loadingText:null,loading:a,disabled:x,onClick:b,style:{width:"100%"},children:"Submit"}):null]})}));let yfe=Z$,wfe=sue,vfe=F(Ki).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const WI=({isEditable:t,setIsEditable:e,defaultValue:n})=>{let r=y.useRef(null);return c.jsxs(c.Fragment,{children:[c.jsx(xc,{$if:!t,children:c.jsx(BI,{ref:r,defaultValue:n})}),c.jsx(xc,{$if:t,children:c.jsxs(cn,{onClick:()=>{e(),setTimeout((()=>{var i;(i=r.current)==null||i.focus()}),0)},children:[c.jsx(Ki,{children:c.jsx(pf,{})}),"Continue with Email"]})})]})},zI=({connectOnly:t})=>{var N,O,D;let{closePrivyModal:e,connectors:n}=Se(),{onUserCloseViaDialogOrKeybindRef:r,data:i}=Le(),s=Re(),{appearance:{palette:{colorScheme:a}}}=Re(),{accountType:o,walletClientType:l,chainType:d}=io(),u=y.useMemo((()=>o&&o!=="guest"&&o!=="authorization_key"&&o!=="cross_app"?mg(o):null),[o]),h=((N=s.loginMethodsAndOrder)==null?void 0:N.primary)??[],p=((O=s.loginMethodsAndOrder)==null?void 0:O.overflow)??[],f=y.useMemo((()=>[...h,...p]),[h,p]),g=s.loginMethods.passkey,m=i==null?void 0:i.login,w=[];l&&f.includes(l)?w.push(l):o&&f.includes(u==null?void 0:u.loginMethod)&&w.push(u==null?void 0:u.loginMethod);let[v,C]=y.useState("default"),[_,E]=y.useState(Zp({mostRecentlyUsedAccountType:o,smsAvailable:f.includes("sms"),emailAvailable:f.includes("email"),prefilledType:(D=m==null?void 0:m.prefill)==null?void 0:D.type}));y.useEffect((()=>{var M;E(Zp({mostRecentlyUsedAccountType:o,smsAvailable:f.includes("sms"),emailAvailable:f.includes("email"),prefilledType:(M=m==null?void 0:m.prefill)==null?void 0:M.type}))}),[f,o]),y.useEffect((()=>{o==="phone"&&E("sms");let M=f.indexOf("sms"),B=f.indexOf("email");M>-1&&M<B&&E("sms")}),[o,h,p]);let x=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{C("default")}),150)};r.current=x;let b=M=>{var B,U;return M==="email"?c.jsx(WI,{isEditable:_==="email",setIsEditable:()=>{E("email")},defaultValue:((B=m==null?void 0:m.prefill)==null?void 0:B.type)==="email"?m.prefill.value:void 0},M):M==="sms"?c.jsx(OI,{isEditable:_==="sms",setIsEditable:()=>{E("sms")},defaultValue:((U=m==null?void 0:m.prefill)==null?void 0:U.type)==="phone"?m.prefill.value:void 0},M):M==="apple"?c.jsx($n,{provider:"apple"},M):M==="discord"?c.jsx($n,{provider:"discord"},M):M==="farcaster"?c.jsx(NI,{},M):M==="github"?c.jsx($n,{provider:"github"},M):M==="google"?c.jsx($n,{provider:"google"},M):M==="linkedin"?c.jsx($n,{provider:"linkedin"},M):M==="spotify"?c.jsx($n,{provider:"spotify"},M):M==="instagram"?c.jsx($n,{provider:"instagram"},M):M==="tiktok"?c.jsx($n,{provider:"tiktok"},M):M==="line"?c.jsx($n,{provider:"line"},M):M==="twitter"?c.jsx($n,{provider:"twitter"},M):M==="telegram"?c.jsx(MI,{},M):M.startsWith("privy:")?c.jsx(Ede,{appId:M.replace("privy:","")},M):yI({walletList:s.appearance.walletList,walletChainType:(m==null?void 0:m.walletChainType)??s.appearance.walletChainType,connectors:n,connectOnly:t,ignore:f,walletConnectEnabled:s.externalWallets.walletConnect.enabled,forceWallet:{wallet:M,chainType:d??"ethereum"}})},k=w.flatMap(b),S=h.filter((M=>M!==l&&M!==(u==null?void 0:u.loginMethod))).flatMap(b),I=p.filter((M=>M!==l&&M!==(u==null?void 0:u.loginMethod))).flatMap(b),[$,A]=((M,B)=>{let U=[],L=[];for(let[T,j]of M.entries())T<B?U.push(j):L.push(j);return[U,L]})([...k,...S,...I],bfe({primary:S.length+k.length,overflow:I.length}));return c.jsxs(c.Fragment,{children:[c.jsx(ut,{title:s.appearance.landingHeader,onClose:x,backFn:v==="default"?void 0:()=>{C("default")}}),v==="default"&&c.jsx(xfe,{}),v==="default"&&(typeof s.appearance.loginMessage=="string"?c.jsx(gle,{children:s.appearance.loginMessage}):s.appearance.loginMessage),c.jsx(ple,{style:{overflow:"hidden"},children:c.jsxs(o$,{$colorScheme:a,children:[v==="default"&&c.jsxs(c.Fragment,{children:[$,A.length>0&&c.jsx(LI,{text:"More options",icon:c.jsx(AU,{}),onClick:()=>C("overflow")})]}),v==="overflow"&&c.jsx(c.Fragment,{children:A}),g&&v==="default"&&c.jsx(jI,{})]})}),s&&c.jsx(Zw,{app:s}),c.jsx(jt,{})]})};let bfe=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,xfe=F(xde).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-b478a8eb-0"})(["margin-bottom:16px;"]);const hr={component:()=>{let t=Re();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?c.jsx(zI,{connectOnly:!1}):c.jsx(FI,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},qI={component:()=>{let[t,e]=y.useState(null),[n,r]=y.useState(!1),[i,s]=y.useState(null),[a,o]=y.useState(""),{authenticated:l,user:d}=wt(),{client:u,walletProxy:h,refreshSessionAndUser:p,closePrivyModal:f,createAnalyticsEvent:g}=Se(),{navigate:m,data:w,onUserCloseViaDialogOrKeybindRef:v}=Le(),C=Re(),{onSuccess:_,onFailure:E}=w.setWalletPassword,x=Zi(d),b=(t==null?void 0:t.recoveryMethod)==="user-passcode",k=(x==null?void 0:x.recoveryMethod)==="user-passcode";y.useEffect((()=>{l||(m(hr),E(new MM("User must be authenticated before setting a password on a Privy wallet")))}),[l]);let S=()=>i?(E(i),void f({shouldCallAuthOnSuccess:!1})):b?(_(t),void f({shouldCallAuthOnSuccess:!1})):(E(new qa("Exited before password was added to wallet")),void f({shouldCallAuthOnSuccess:!1}));return v.current=S,c.jsx(L$,{appName:(C==null?void 0:C.name)||"privy",config:{initiatedBy:"user",onCancel:S},error:i?"An error has occurred, please try again.":void 0,buttonLoading:n,buttonHideAnimations:!1,password:a,isResettingPassword:k,onPasswordGenerate:()=>o(M$()),onPasswordChange:o,onSubmit:async()=>{b?(_(t),f({shouldCallAuthOnSuccess:!1})):(r(!0),s(null),await(async()=>{let I=await u.getAccessToken();if(I&&d&&(x!=null&&x.address)&&a&&h)try{g({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k}});let{entropyId:$,entropyIdVerifier:A}=Ui(d);if(!(await h.setRecovery({accessToken:I,entropyId:$,entropyIdVerifier:A,recoveryPassword:a,recoveryMethod:"user-passcode"})).entropyId)return s(new qa("Error setting password on privy wallet")),void g({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k,reason:"error setting password"}});let N=await p(),O=Zi(N);if(!O)return s(new qa("Error setting password on privy wallet")),void g({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k,reason:"wallet disconnected"}});e(O),g({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k}})}catch($){console.warn($),s($ instanceof Error?$:Error("Error setting password on privy wallet")),g({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:x.address,reason:$}})}})(),r(!1))},onClose:S})}},Cfe=({onClose:t,onProceed:e})=>c.jsx(vt,{title:"Secure Your Account",subtitle:c.jsxs(c.Fragment,{children:["Please set a password to secure your account.",c.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:F2,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),_fe={component:()=>{let{closePrivyModal:t}=Se(),{data:e,navigate:n,onUserCloseViaDialogOrKeybindRef:r}=Le(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new qa("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return r.current=s,c.jsx(Cfe,{onClose:s,onProceed:()=>{n(qI)}})}},Efe={component:()=>{let[t,e]=y.useState(!0),{authenticated:n,user:r}=wt(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:a,client:o}=Se(),{navigate:l,data:d,onUserCloseViaDialogOrKeybindRef:u}=Le(),[h,p]=y.useState(void 0),[f,g]=y.useState(""),[m,w]=y.useState(!1),{entropyId:v,entropyIdVerifier:C,onCompleteNavigateTo:_,onSuccess:E,onFailure:x}=d.recoverWallet,b=(k="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),x(typeof k=="string"?new qa(k):k)};return u.current=b,y.useEffect((()=>{if(!n)return b("User must be authenticated and have a Privy wallet before it can be recovered")}),[n]),c.jsxs(Ft,{children:[c.jsx(Ft.Header,{icon:Fo,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:b}),c.jsx(Ft.Body,{children:c.jsx(kfe,{children:c.jsxs("div",{children:[c.jsxs(ug,{children:[c.jsx(av,{type:t?"password":"text",onChange:k=>(S=>{S&&p(S)})(k.target.value),disabled:m,style:{paddingRight:"2.3rem"}}),c.jsx(pg,{style:{right:"0.75rem"},children:t?c.jsx(fg,{onClick:()=>e(!1)}):c.jsx(gg,{onClick:()=>e(!0)})})]}),!!f&&c.jsx($fe,{children:f})]})})}),c.jsxs(Ft.Footer,{children:[c.jsx(Ft.HelpText,{children:c.jsxs(wce,{children:[c.jsx("h4",{children:"Why is this necessary?"}),c.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),c.jsx(Ft.Actions,{children:c.jsx(Ife,{loading:m||!i,disabled:!h,onClick:async()=>{w(!0);let k=await o.getAccessToken(),S=Ys(r,v);if(!k||!S||h===null)return b("User must be authenticated and have a Privy wallet before it can be recovered");try{a({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:S.address}}),await(i==null?void 0:i.recover({accessToken:k,entropyId:v,entropyIdVerifier:C,recoveryPassword:h})),g(""),_?l(_):s({shouldCallAuthOnSuccess:!1}),E==null||E(S),a({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:S.address}})}catch(I){(function($){return Uc($)&&($.type==="invalid_recovery_pin"||$.type==="invalid_request_arguments")})(I)?g("Invalid recovery password, please try again."):g("An error has occurred, please try again.")}finally{w(!1)}},$hideAnimations:!v&&m,children:"Recover your account"})}),c.jsx(Ft.Watermark,{})]})]})}};let kfe=F.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),$fe=F.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),Ife=F(Bt).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],(({$hideAnimations:t})=>t&&Ln(["&&{transition:none;}"])));const Sfe={component:()=>{let{navigate:t,data:e,onUserCloseViaDialogOrKeybindRef:n}=Le(),r=Re(),[i,s]=y.useState(""),[a,o]=y.useState(!1),[l,d]=y.useState(),[u,h]=y.useState(null),{create:p}=iv(),{authenticated:f,user:g}=wt(),{closePrivyModal:m,isNewUserThisSession:w,initializeWalletProxy:v}=Se(),{onSuccess:C,onFailure:_,callAuthOnSuccessOnClose:E,shouldCreateEth:x,shouldCreateSol:b}=e.createWallet,[k,S]=y.useState(null),I=new yr((async()=>{try{let $;if(x&&b)$=await p({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:g}),$=await p({chainType:"solana",walletIndex:0,latestUser:$.user});else if(b)$=await p({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:g});else{if(!x)throw Error("Invalid args to create wallet");$=await p({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:g})}S($),w?t(sv):(C($),m({shouldCallAuthOnSuccess:E}))}catch($){s($.message)}}));return y.useEffect((()=>{u||v(3e4).then(($=>h($)))}),[u]),y.useEffect((()=>{if(!f||!g)return t(hr),void _(Error("User must be authenticated before creating a Privy wallet"))}),[f]),n.current=()=>null,c.jsx(L$,{config:{initiatedBy:"automatic"},appName:(r==null?void 0:r.name)||"privy",loading:!u,buttonLoading:a,buttonHideAnimations:!k&&a,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{k&&k.account.recoveryMethod!=="user-passcode"?(_(new qa("User created a wallet but failed to set a password for it")),m({shouldCallAuthOnSuccess:!1})):k?(C(k),m({shouldCallAuthOnSuccess:E})):(_(new qa("User wallet creation failed")),m({shouldCallAuthOnSuccess:!1}))},onPasswordChange:d,onPasswordGenerate:()=>d(M$()),onSubmit:async()=>(o(!0),I.execute().then((()=>new Promise(($=>setTimeout($,250))))).finally((()=>o(!1))))})}},Afe=F.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],(t=>t.$color??"var(--privy-color-accent)")),Tfe={component:()=>{var w;let{user:t}=wt(),{client:e,walletProxy:n,refreshSessionAndUser:r,closePrivyModal:i}=Se(),s=Le(),{entropyId:a,entropyIdVerifier:o}=(w=s.data)==null?void 0:w.recoverWallet,[l,d]=y.useState(!1),[u,h]=y.useState(null),[p,f]=y.useState(null);function g(){var v,C,_,E;if(!l){if(p)return(C=(v=s.data)==null?void 0:v.setWalletPassword)==null||C.onFailure(p),void i();if(!u)return(E=(_=s.data)==null?void 0:_.setWalletPassword)==null||E.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=g;let m=!(!l&&!u);return c.jsxs(c.Fragment,p?{children:[c.jsx(ut,{onClose:g},"header"),c.jsx(Afe,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:c.jsx(Jo,{height:38,width:38,stroke:"var(--privy-color-error)"})}),c.jsx(Ja,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),c.jsx(bc,{style:{minHeight:"2rem"}}),c.jsx(qp,{onClick:()=>f(null),children:"Try again"}),c.jsx(jt,{})]}:{children:[c.jsx(ut,{onClose:g},"header"),c.jsx(_7,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),c.jsx(Ja,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),c.jsx(Go,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),c.jsx(bc,{style:{minHeight:"2rem"}}),c.jsx(qp,{loading:l,disabled:m,onClick:()=>(async function(){d(!0);try{let v=await e.getAccessToken(),C=Ys(t,a);if(!v||!n||!C)return;if(!(await n.setRecovery({accessToken:v,entropyId:a,entropyIdVerifier:o,existingRecoveryMethod:C.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let _=await r();if(!_)throw Error("Unable to set recovery on wallet");let E=Ys(_,C.address);if(!E)throw Error("Unabled to set recovery on wallet");h(!!_),setTimeout((()=>{var x,b;(b=(x=s.data)==null?void 0:x.setWalletPassword)==null||b.onSuccess(E),i()}),an)}catch(v){f(v)}finally{d(!1)}})(),children:u?"Success":"Confirm"}),c.jsx(jt,{})]})}};function HI({isCreatingWallet:t,skipSplashScreen:e}){return t?Sfe:e?qI:_fe}function VI({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:n,isResettingPassword:r,showAutomaticRecovery:i}){return i?Tfe:n||e.length===1?HI({isCreatingWallet:t==="create",skipSplashScreen:r}):By}function KI(t){switch(t){case"user-passcode":return Efe;case"google-drive":case"icloud":return A$;default:throw Error("Recovery method not supported")}}const Pfe=({address:t,accessToken:e,appConfigTheme:n,onClose:r,isLoading:i=!1,exportButtonProps:s})=>c.jsx(vt,{title:"Export wallet",subtitle:c.jsxs(c.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",c.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:r,watermark:!0,children:c.jsxs(Dfe,{children:[c.jsx(uI,{theme:n,children:"Never share your private key or seed phrase with anyone."}),c.jsx(bg,{title:"Your wallet",address:t,showCopyButton:!0}),c.jsx("div",{style:{width:"100%"},children:i?c.jsx(Nfe,{}):e&&s&&c.jsx(Rfe,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let Dfe=F.div.withConfig({displayName:"ContentContainer",componentId:"sc-39a41d8e-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),Nfe=()=>c.jsx(jfe,{children:c.jsx(Ofe,{children:"Loading..."})}),jfe=F.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-39a41d8e-1"})(["display:flex;gap:12px;height:44px;"]),Ofe=F.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-39a41d8e-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function Rfe(t){let[e,n]=y.useState(t.dimensions.width),[r,i]=y.useState(void 0),s=y.useRef(null);y.useEffect((()=>{if(s.current&&e===void 0){let{width:l}=s.current.getBoundingClientRect();n(l)}let o=getComputedStyle(document.documentElement);i({background:o.getPropertyValue("--privy-color-background"),background2:o.getPropertyValue("--privy-color-background-2"),foreground3:o.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:o.getPropertyValue("--privy-color-foreground-accent"),accent:o.getPropertyValue("--privy-color-accent"),accentDark:o.getPropertyValue("--privy-color-accent-dark"),success:o.getPropertyValue("--privy-color-success"),colorScheme:o.getPropertyValue("color-scheme")})}),[]);let a=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return c.jsx("div",{ref:s,children:e&&c.jsxs(Mfe,{children:[c.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:v7({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets/export`,query:t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:a,...r}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:a,...r},hash:{token:t.accessToken}})}),c.jsx(A6,{children:"Loading..."}),a&&c.jsx(A6,{children:"Loading..."})]})})}const GI={component:()=>{let[t,e]=y.useState(null),{authenticated:n,user:r}=wt(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:a,client:o}=Se(),l=Re(),{data:d,onUserCloseViaDialogOrKeybindRef:u}=Le(),{onFailure:h,onSuccess:p,origin:f,appId:g,appClientId:m,entropyId:w,entropyIdVerifier:v,walletId:C,hdWalletIndex:_,chainType:E,address:x,isUnifiedWallet:b,imported:k}=d.keyExport,S=$=>{i({shouldCallAuthOnSuccess:!1}),h(typeof $=="string"?Error($):$)},I=()=>{i({shouldCallAuthOnSuccess:!1}),p(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:x}})};return y.useEffect((()=>{if(!n)return S("User must be authenticated before exporting their wallet");o.getAccessToken().then(e).catch(S)}),[n,r]),u.current=I,c.jsx(Pfe,{address:x,accessToken:t,appConfigTheme:l.appearance.palette.colorScheme,onClose:I,isLoading:!t,exportButtonProps:t?{origin:f,appId:g,appClientId:m,clientAnalyticsId:a,entropyId:w,entropyIdVerifier:v,walletId:C,hdWalletIndex:_,isUnifiedWallet:b,imported:k,chainType:E}:void 0})}};let Mfe=F.div.withConfig({displayName:"ButtonContainer",componentId:"sc-39a41d8e-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),A6=F.div.withConfig({displayName:"LoadingButton",componentId:"sc-39a41d8e-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const Lfe=({connectionFailed:t,onClose:e})=>c.jsx(vt,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:hf,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),rd={component:()=>{let{authenticated:t,user:e}=wt(),{client:n,closePrivyModal:r,createAnalyticsEvent:i,walletProxy:s}=Se(),{navigate:a,data:o,setModalData:l,onUserCloseViaDialogOrKeybindRef:d}=Le(),u=y.useMemo((()=>Date.now()),[]),[h,p]=y.useState(!1),{onCompleteNavigateTo:f,onFailure:g,shouldForceMFA:m,entropyId:w,entropyIdVerifier:v,recoveryMethod:C,connectingWalletAddress:_,isUnifiedWallet:E=!1}=o==null?void 0:o.connectWallet,x=b=>{h||(p(!0),g(typeof b=="string"?Error(b):b))};return y.useEffect((()=>{let b;return t?s?((async()=>{let k=await n.getAccessToken();if(!k)return x("User must be authenticated and have a Privy wallet before it can be connected");try{E||await s.connect({accessToken:k,entropyId:w,entropyIdVerifier:v}),m&&await s.verifyMfa({accessToken:k});let S=(Date.now()-u)/1e3;f===GI&&S<1?b=setTimeout((()=>{a(f,!1)}),1e3*(1-S)):a(f,!1)}catch(S){if(gu(S)&&C==="privy"){let I=await n.getAccessToken();if(!I)return x("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:_}});let $=await(s==null?void 0:s.recover({accessToken:I,entropyId:w,entropyIdVerifier:v}));$!=null&&$.entropyId||x(Error("Unable to recover wallet")),f?a(f):r({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:_}}),a(f)}catch{x("An error has occurred, please try again.")}}else gu(S)&&C!=="privy"&&C!=="privy-v2"?(l({...o,recoverWallet:{entropyId:w,entropyIdVerifier:v,onCompleteNavigateTo:f,onFailure:g},recoveryOAuthStatus:{provider:C,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),a(KI(C))):x(S)}})(),()=>clearTimeout(b)):void 0:x("User must be authenticated and have a Privy wallet before it can be connected")}),[t,e,s]),d.current=()=>{x("User exited before wallet could be connected"),r({shouldCallAuthOnSuccess:!1})},c.jsx(Lfe,{connectionFailed:h,onClose:()=>r({shouldCallAuthOnSuccess:!1})})}},Ffe=({style:t,color:e,...n})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...n,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),yv=t=>{let[e,n]=y.useState(!1);return c.jsxs(Ufe,{color:t.color,onClick:()=>{n(!0),navigator.clipboard.writeText(t.text),setTimeout((()=>n(!1)),1500)},$justCopied:e,children:[e?c.jsx(Ffe,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):c.jsx(K$,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let Ufe=F.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.$justCopied?"medium":"normal"),(t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"));const Bfe=F.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],(t=>t.size==="sm"?"65px":"140px"),(t=>t.size==="sm"?"65px":"140px"));let Wfe=t=>{if(!Zl(t))return t;try{let e=YA(t);return e.includes("")?t:e}catch{return t}},zfe=t=>{try{let e=Nh.decode(t),n=new TextDecoder().decode(e);return n.includes("")?t:n}catch{return t}},qfe=t=>JSON.stringify(t,null,2),Hfe=t=>{let{types:e,primaryType:n,...r}=t.typedData;return c.jsxs(c.Fragment,{children:[c.jsx(Yfe,{data:r}),c.jsx(yv,{text:qfe(t.typedData),itemName:"full payload to clipboard"})," "]})};const Vfe=({method:t,messageData:e,copy:n,iconUrl:r,isLoading:i,success:s,walletProxyIsLoading:a,errorMessage:o,isCancellable:l,onSign:d,onCancel:u,onClose:h})=>c.jsx(vt,{title:n.title,subtitle:n.description,showClose:!0,onClose:h,icon:QL,iconVariant:"subtle",helpText:o?c.jsx(Gfe,{children:o}):void 0,primaryCta:{label:n.buttonText,onClick:d,disabled:i||s||a,loading:i},secondaryCta:l?{label:"Not now",onClick:u,disabled:i||s||a}:void 0,watermark:!0,children:c.jsxs(ev,{children:[r?c.jsx(Bfe,{style:{alignSelf:"center"},size:"sm",src:r,alt:"app image"}):null,c.jsxs(Kfe,{children:[t==="personal_sign"&&c.jsx(P6,{children:Wfe(e)}),t==="eth_signTypedData_v4"&&c.jsx(Hfe,{typedData:e}),t==="solana_signMessage"&&c.jsx(P6,{children:zfe(e)})]})]})}),T6={component:()=>{let{authenticated:t}=wt(),{initializeWalletProxy:e,closePrivyModal:n}=Se(),{navigate:r,data:i,onUserCloseViaDialogOrKeybindRef:s}=Le(),[a,o]=y.useState(!0),[l,d]=y.useState(""),[u,h]=y.useState(),[p,f]=y.useState(null),[g,m]=y.useState(!1);y.useEffect((()=>{t||r(hr)}),[t]),y.useEffect((()=>{e(3e4).then((S=>{o(!1),S||(d("An error has occurred, please try again."),h(new or(new rc(l,Bi.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))}))}),[]);let{method:w,data:v,confirmAndSign:C,onSuccess:_,onFailure:E,uiOptions:x}=i.signMessage,b={title:(x==null?void 0:x.title)||"Sign message",description:(x==null?void 0:x.description)||"Signing this message will not cost you any fees.",buttonText:(x==null?void 0:x.buttonText)||"Sign and continue"},k=S=>{S?_(S):E(u||new or(new rc("The user rejected the request.",Bi.E4001_USER_REJECTED_REQUEST.eipCode))),n({shouldCallAuthOnSuccess:!1}),setTimeout((()=>{f(null),d(""),h(void 0)}),200)};return s.current=()=>{k(p)},c.jsx(Vfe,{method:w,messageData:v,copy:b,iconUrl:x!=null&&x.iconUrl&&typeof x.iconUrl=="string"?x.iconUrl:void 0,isLoading:g,success:p!==null,walletProxyIsLoading:a,errorMessage:l,isCancellable:x==null?void 0:x.isCancellable,onSign:async()=>{m(!0),d("");try{let S=await C();f(S),m(!1),setTimeout((()=>{k(S)}),an)}catch(S){console.error(S),d("An error has occurred, please try again."),h(new or(new rc(l,Bi.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),m(!1)}},onCancel:()=>k(null),onClose:()=>k(p)})}};let Kfe=F.div.withConfig({displayName:"MessageContainer",componentId:"sc-e01d451f-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),Gfe=F.p.withConfig({displayName:"ErrorText",componentId:"sc-e01d451f-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),Yfe=F(cI).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-e01d451f-2"})(["margin-top:0;"]),P6=F(lI).withConfig({displayName:"StyledMessage",componentId:"sc-e01d451f-3"})(["margin-top:0;"]);class Ns{constructor(e,n){this.scope=e,this.module=n}storeObject(e,n){this.setItem(e,JSON.stringify(n))}loadObject(e){const n=this.getItem(e);return n?JSON.parse(n):void 0}setItem(e,n){localStorage.setItem(this.scopedKey(e),n)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),n=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);typeof i=="string"&&i.startsWith(e)&&n.push(i)}n.forEach(r=>localStorage.removeItem(r))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new Ns("CBWSDK").clear(),new Ns("walletlink").clear()}}const mn={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},n2={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},YI="Unspecified error message.",Zfe="Unspecified server error.";function wv(t,e=YI){if(t&&Number.isInteger(t)){const n=t.toString();if(r2(n2,n))return n2[n].message;if(ZI(t))return Zfe}return e}function Jfe(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(n2[e]||ZI(t))}function Qfe(t,{shouldIncludeStack:e=!1}={}){const n={};if(t&&typeof t=="object"&&!Array.isArray(t)&&r2(t,"code")&&Jfe(t.code)){const r=t;n.code=r.code,r.message&&typeof r.message=="string"?(n.message=r.message,r2(r,"data")&&(n.data=r.data)):(n.message=wv(n.code),n.data={originalError:D6(t)})}else n.code=mn.rpc.internal,n.message=N6(t,"message")?t.message:YI,n.data={originalError:D6(t)};return e&&(n.stack=N6(t,"stack")?t.stack:void 0),n}function ZI(t){return t>=-32099&&t<=-32e3}function D6(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function r2(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function N6(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const $t={rpc:{parse:t=>ci(mn.rpc.parse,t),invalidRequest:t=>ci(mn.rpc.invalidRequest,t),invalidParams:t=>ci(mn.rpc.invalidParams,t),methodNotFound:t=>ci(mn.rpc.methodNotFound,t),internal:t=>ci(mn.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ci(e,t)},invalidInput:t=>ci(mn.rpc.invalidInput,t),resourceNotFound:t=>ci(mn.rpc.resourceNotFound,t),resourceUnavailable:t=>ci(mn.rpc.resourceUnavailable,t),transactionRejected:t=>ci(mn.rpc.transactionRejected,t),methodNotSupported:t=>ci(mn.rpc.methodNotSupported,t),limitExceeded:t=>ci(mn.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>jl(mn.provider.userRejectedRequest,t),unauthorized:t=>jl(mn.provider.unauthorized,t),unsupportedMethod:t=>jl(mn.provider.unsupportedMethod,t),disconnected:t=>jl(mn.provider.disconnected,t),chainDisconnected:t=>jl(mn.provider.chainDisconnected,t),unsupportedChain:t=>jl(mn.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:n,data:r}=t;if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string');return new XI(e,n,r)}}};function ci(t,e){const[n,r]=JI(e);return new QI(t,n||wv(t),r)}function jl(t,e){const[n,r]=JI(e);return new XI(t,n||wv(t),r)}function JI(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,n]}}return[]}class QI extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!n||typeof n!="string")throw new Error('"message" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}}class XI extends QI{constructor(e,n,r){if(!Xfe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,n,r)}}function Xfe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function vv(){return t=>t}const yu=vv(),ege=vv(),tge=vv();function Qs(t){return Math.floor(t)}const eS=/^[0-9]*$/,tS=/^[a-f0-9]*$/;function wo(t){return bv(crypto.getRandomValues(new Uint8Array(t)))}function bv(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function np(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function Rd(t,e=!1){const n=t.toString("hex");return yu(e?`0x${n}`:n)}function T1(t){return Rd(i2(t),!0)}function hs(t){return tge(t.toString(10))}function Ba(t){return yu(`0x${BigInt(t).toString(16)}`)}function nS(t){return t.startsWith("0x")||t.startsWith("0X")}function xv(t){return nS(t)?t.slice(2):t}function rS(t){return nS(t)?`0x${t.slice(2)}`:`0x${t}`}function Eg(t){if(typeof t!="string")return!1;const e=xv(t).toLowerCase();return tS.test(e)}function nge(t,e=!1){if(typeof t=="string"){const n=xv(t).toLowerCase();if(tS.test(n))return yu(e?`0x${n}`:n)}throw $t.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function Cv(t,e=!1){let n=nge(t,!1);return n.length%2===1&&(n=yu(`0${n}`)),e?yu(`0x${n}`):n}function Ia(t){if(typeof t=="string"){const e=xv(t).toLowerCase();if(Eg(e)&&e.length===40)return ege(rS(e))}throw $t.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function i2(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(Eg(t)){const e=Cv(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw $t.rpc.invalidParams(`Not binary data: ${String(t)}`)}function Md(t){if(typeof t=="number"&&Number.isInteger(t))return Qs(t);if(typeof t=="string"){if(eS.test(t))return Qs(Number(t));if(Eg(t))return Qs(Number(BigInt(Cv(t,!0))))}throw $t.rpc.invalidParams(`Not an integer: ${String(t)}`)}function id(t){if(t!==null&&(typeof t=="bigint"||ige(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(Md(t));if(typeof t=="string"){if(eS.test(t))return BigInt(t);if(Eg(t))return BigInt(Cv(t,!0))}throw $t.rpc.invalidParams(`Not an integer: ${String(t)}`)}function rge(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw $t.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function ige(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function sge(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function age(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function oge(t,e){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,new TextEncoder().encode(e));return{iv:n,cipherText:r}}async function lge(t,{iv:e,cipherText:n}){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return new TextDecoder().decode(r)}function iS(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function sS(t,e){const n=iS(t),r=await crypto.subtle.exportKey(n,e);return bv(new Uint8Array(r))}async function aS(t,e){const n=iS(t),r=np(e).buffer;return await crypto.subtle.importKey(n,new Uint8Array(r),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function cge(t,e){const n=JSON.stringify(t,(r,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return oge(e,n)}async function dge(t,e){return JSON.parse(await lge(e,t))}const P1={storageKey:"ownPrivateKey",keyType:"private"},D1={storageKey:"ownPublicKey",keyType:"public"},N1={storageKey:"peerPublicKey",keyType:"public"};class uge{constructor(){this.storage=new Ns("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(N1,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(D1.storageKey),this.storage.removeItem(P1.storageKey),this.storage.removeItem(N1.storageKey)}async generateKeyPair(){const e=await sge();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(P1,e.privateKey),await this.storeKey(D1,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(P1)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(D1)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(N1)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await age(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const n=this.storage.getItem(e.storageKey);return n?aS(e.keyType,n):null}async storeKey(e,n){const r=await sS(e.keyType,n);this.storage.setItem(e.storageKey,r)}}const Zu="4.3.2",oS="@coinbase/wallet-sdk";async function _v(t,e){const n=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),r=await window.fetch(e,{method:"POST",body:JSON.stringify(n),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Zu,"X-Cbw-Sdk-Platform":oS}}),{result:i,error:s}=await r.json();if(s)throw s;return i}function hge(){return globalThis.coinbaseWalletExtension}function pge(){var t,e;try{const n=globalThis;return(t=n.ethereum)!==null&&t!==void 0?t:(e=n.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function fge({metadata:t,preference:e}){var n,r;const{appName:i,appLogoUrl:s,appChainIds:a}=t;if(e.options!=="smartWalletOnly"){const l=hge();if(l)return(n=l.setAppInfo)===null||n===void 0||n.call(l,i,s,a,e),l}const o=pge();if(o!=null&&o.isCoinbaseBrowser)return(r=o.setAppInfo)===null||r===void 0||r.call(o,i,s,a,e),o}function gge(t){if(!t||typeof t!="object"||Array.isArray(t))throw $t.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:n}=t;if(typeof e!="string"||e.length===0)throw $t.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw $t.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw $t.provider.unsupportedMethod()}}const j6="accounts",O6="activeChain",R6="availableChains",M6="walletCapabilities";class mge{constructor(e){var n,r,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new uge,this.storage=new Ns("CBWSDK","SCWStateManager"),this.accounts=(n=this.storage.loadObject(j6))!==null&&n!==void 0?n:[],this.chain=this.storage.loadObject(O6)||{id:(i=(r=e.metadata.appChainIds)===null||r===void 0?void 0:r[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var n,r,i,s;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const a=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),o=await this.communicator.postRequestAndWaitForResponse(a);if("failure"in o.content)throw o.content.failure;const l=await aS("public",o.sender);await this.keyManager.setPeerPublicKey(l);const u=(await this.decryptResponseMessage(o)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const h=u.value;this.accounts=h,this.storage.storeObject(j6,h),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",h);break}}}async request(e){var n;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw $t.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Ba(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Ba(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(M6);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw $t.rpc.internal("No RPC URL set for chain");return _v(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var n,r;await((r=(n=this.communicator).waitForPopupLoaded)===null||r===void 0?void 0:r.call(n));const i=await this.sendEncryptedRequest(e),a=(await this.decryptResponseMessage(i)).result;if("error"in a)throw a.error;return a.value}async cleanup(){var e,n;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(n=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&n!==void 0?n:1}}async handleSwitchChainRequest(e){var n;const r=e.params;if(!r||!(!((n=r[0])===null||n===void 0)&&n.chainId))throw $t.rpc.invalidParams();const i=Md(r[0].chainId);if(this.updateChain(i))return null;const a=await this.sendRequestToPopup(e);return a===null&&this.updateChain(i),a}async sendEncryptedRequest(e){const n=await this.keyManager.getSharedSecret();if(!n)throw $t.provider.unauthorized("No valid session found, try requestAccounts before other methods");const r=await cge({action:e,chainId:this.chain.id},n),i=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const n=await sS("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:n,content:e,timestamp:new Date}}async decryptResponseMessage(e){var n,r;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw $t.provider.unauthorized("Invalid session");const a=await dge(i.encrypted,s),o=(n=a.data)===null||n===void 0?void 0:n.chains;if(o){const d=Object.entries(o).map(([u,h])=>({id:Number(u),rpcUrl:h}));this.storage.storeObject(R6,d),this.updateChain(this.chain.id,d)}const l=(r=a.data)===null||r===void 0?void 0:r.capabilities;return l&&this.storage.storeObject(M6,l),a}updateChain(e,n){var r;const i=n??this.storage.loadObject(R6),s=i==null?void 0:i.find(a=>a.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(O6,s),(r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Ba(s.id))),!0):!1}}var Yt={},rt={},L6;function yge(){if(L6)return rt;L6=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.toBig=rt.shrSL=rt.shrSH=rt.rotrSL=rt.rotrSH=rt.rotrBL=rt.rotrBH=rt.rotr32L=rt.rotr32H=rt.rotlSL=rt.rotlSH=rt.rotlBL=rt.rotlBH=rt.add5L=rt.add5H=rt.add4L=rt.add4H=rt.add3L=rt.add3H=void 0,rt.add=v,rt.fromBig=n,rt.split=r;const t=BigInt(2**32-1),e=BigInt(32);function n(I,$=!1){return $?{h:Number(I&t),l:Number(I>>e&t)}:{h:Number(I>>e&t)|0,l:Number(I&t)|0}}function r(I,$=!1){const A=I.length;let N=new Uint32Array(A),O=new Uint32Array(A);for(let D=0;D<A;D++){const{h:M,l:B}=n(I[D],$);[N[D],O[D]]=[M,B]}return[N,O]}const i=(I,$)=>BigInt(I>>>0)<<e|BigInt($>>>0);rt.toBig=i;const s=(I,$,A)=>I>>>A;rt.shrSH=s;const a=(I,$,A)=>I<<32-A|$>>>A;rt.shrSL=a;const o=(I,$,A)=>I>>>A|$<<32-A;rt.rotrSH=o;const l=(I,$,A)=>I<<32-A|$>>>A;rt.rotrSL=l;const d=(I,$,A)=>I<<64-A|$>>>A-32;rt.rotrBH=d;const u=(I,$,A)=>I>>>A-32|$<<64-A;rt.rotrBL=u;const h=(I,$)=>$;rt.rotr32H=h;const p=(I,$)=>I;rt.rotr32L=p;const f=(I,$,A)=>I<<A|$>>>32-A;rt.rotlSH=f;const g=(I,$,A)=>$<<A|I>>>32-A;rt.rotlSL=g;const m=(I,$,A)=>$<<A-32|I>>>64-A;rt.rotlBH=m;const w=(I,$,A)=>I<<A-32|$>>>64-A;rt.rotlBL=w;function v(I,$,A,N){const O=($>>>0)+(N>>>0);return{h:I+A+(O/2**32|0)|0,l:O|0}}const C=(I,$,A)=>(I>>>0)+($>>>0)+(A>>>0);rt.add3L=C;const _=(I,$,A,N)=>$+A+N+(I/2**32|0)|0;rt.add3H=_;const E=(I,$,A,N)=>(I>>>0)+($>>>0)+(A>>>0)+(N>>>0);rt.add4L=E;const x=(I,$,A,N,O)=>$+A+N+O+(I/2**32|0)|0;rt.add4H=x;const b=(I,$,A,N,O)=>(I>>>0)+($>>>0)+(A>>>0)+(N>>>0)+(O>>>0);rt.add5L=b;const k=(I,$,A,N,O,D)=>$+A+N+O+D+(I/2**32|0)|0;rt.add5H=k;const S={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:a,rotrSH:o,rotrSL:l,rotrBH:d,rotrBL:u,rotr32H:h,rotr32L:p,rotlSH:f,rotlSL:g,rotlBH:m,rotlBL:w,add:v,add3L:C,add3H:_,add4L:E,add4H:x,add5H:k,add5L:b};return rt.default=S,rt}var j1={},sd={},F6;function wge(){return F6||(F6=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.crypto=void 0,sd.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),sd}var U6;function vge(){return U6||(U6=1,(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=n,t.anumber=r,t.abytes=i,t.ahash=s,t.aexists=a,t.aoutput=o,t.u8=l,t.u32=d,t.clean=u,t.createView=h,t.rotr=p,t.rotl=f,t.byteSwap=g,t.byteSwap32=m,t.bytesToHex=C,t.hexToBytes=x,t.asyncLoop=k,t.utf8ToBytes=S,t.bytesToUtf8=I,t.toBytes=$,t.kdfInputToBytes=A,t.concatBytes=N,t.checkOpts=O,t.createHasher=M,t.createOptHasher=B,t.createXOFer=U,t.randomBytes=L;const e=wge();function n(T){return T instanceof Uint8Array||ArrayBuffer.isView(T)&&T.constructor.name==="Uint8Array"}function r(T){if(!Number.isSafeInteger(T)||T<0)throw new Error("positive integer expected, got "+T)}function i(T,...j){if(!n(T))throw new Error("Uint8Array expected");if(j.length>0&&!j.includes(T.length))throw new Error("Uint8Array expected of length "+j+", got length="+T.length)}function s(T){if(typeof T!="function"||typeof T.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");r(T.outputLen),r(T.blockLen)}function a(T,j=!0){if(T.destroyed)throw new Error("Hash instance has been destroyed");if(j&&T.finished)throw new Error("Hash#digest() has already been called")}function o(T,j){i(T);const W=j.outputLen;if(T.length<W)throw new Error("digestInto() expects output buffer of length at least "+W)}function l(T){return new Uint8Array(T.buffer,T.byteOffset,T.byteLength)}function d(T){return new Uint32Array(T.buffer,T.byteOffset,Math.floor(T.byteLength/4))}function u(...T){for(let j=0;j<T.length;j++)T[j].fill(0)}function h(T){return new DataView(T.buffer,T.byteOffset,T.byteLength)}function p(T,j){return T<<32-j|T>>>j}function f(T,j){return T<<j|T>>>32-j>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function g(T){return T<<24&4278190080|T<<8&16711680|T>>>8&65280|T>>>24&255}t.swap8IfBE=t.isLE?T=>T:T=>g(T),t.byteSwapIfBE=t.swap8IfBE;function m(T){for(let j=0;j<T.length;j++)T[j]=g(T[j]);return T}t.swap32IfBE=t.isLE?T=>T:m;const w=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",v=Array.from({length:256},(T,j)=>j.toString(16).padStart(2,"0"));function C(T){if(i(T),w)return T.toHex();let j="";for(let W=0;W<T.length;W++)j+=v[T[W]];return j}const _={_0:48,_9:57,A:65,F:70,a:97,f:102};function E(T){if(T>=_._0&&T<=_._9)return T-_._0;if(T>=_.A&&T<=_.F)return T-(_.A-10);if(T>=_.a&&T<=_.f)return T-(_.a-10)}function x(T){if(typeof T!="string")throw new Error("hex string expected, got "+typeof T);if(w)return Uint8Array.fromHex(T);const j=T.length,W=j/2;if(j%2)throw new Error("hex string expected, got unpadded hex of length "+j);const Z=new Uint8Array(W);for(let z=0,ie=0;z<W;z++,ie+=2){const V=E(T.charCodeAt(ie)),ee=E(T.charCodeAt(ie+1));if(V===void 0||ee===void 0){const ae=T[ie]+T[ie+1];throw new Error('hex string expected, got non-hex character "'+ae+'" at index '+ie)}Z[z]=V*16+ee}return Z}const b=async()=>{};t.nextTick=b;async function k(T,j,W){let Z=Date.now();for(let z=0;z<T;z++){W(z);const ie=Date.now()-Z;ie>=0&&ie<j||(await(0,t.nextTick)(),Z+=ie)}}function S(T){if(typeof T!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(T))}function I(T){return new TextDecoder().decode(T)}function $(T){return typeof T=="string"&&(T=S(T)),i(T),T}function A(T){return typeof T=="string"&&(T=S(T)),i(T),T}function N(...T){let j=0;for(let Z=0;Z<T.length;Z++){const z=T[Z];i(z),j+=z.length}const W=new Uint8Array(j);for(let Z=0,z=0;Z<T.length;Z++){const ie=T[Z];W.set(ie,z),z+=ie.length}return W}function O(T,j){if(j!==void 0&&{}.toString.call(j)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(T,j)}class D{}t.Hash=D;function M(T){const j=Z=>T().update($(Z)).digest(),W=T();return j.outputLen=W.outputLen,j.blockLen=W.blockLen,j.create=()=>T(),j}function B(T){const j=(Z,z)=>T(z).update($(Z)).digest(),W=T({});return j.outputLen=W.outputLen,j.blockLen=W.blockLen,j.create=Z=>T(Z),j}function U(T){const j=(Z,z)=>T(z).update($(Z)).digest(),W=T({});return j.outputLen=W.outputLen,j.blockLen=W.blockLen,j.create=Z=>T(Z),j}t.wrapConstructor=M,t.wrapConstructorWithOpts=B,t.wrapXOFConstructorWithOpts=U;function L(T=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(T));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(T));throw new Error("crypto.getRandomValues must be defined")}})(j1)),j1}var B6;function bge(){if(B6)return Yt;B6=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.shake256=Yt.shake128=Yt.keccak_512=Yt.keccak_384=Yt.keccak_256=Yt.keccak_224=Yt.sha3_512=Yt.sha3_384=Yt.sha3_256=Yt.sha3_224=Yt.Keccak=void 0,Yt.keccakP=w;const t=yge(),e=vge(),n=BigInt(0),r=BigInt(1),i=BigInt(2),s=BigInt(7),a=BigInt(256),o=BigInt(113),l=[],d=[],u=[];for(let E=0,x=r,b=1,k=0;E<24;E++){[b,k]=[k,(2*b+3*k)%5],l.push(2*(5*k+b)),d.push((E+1)*(E+2)/2%64);let S=n;for(let I=0;I<7;I++)x=(x<<r^(x>>s)*o)%a,x&i&&(S^=r<<(r<<BigInt(I))-r);u.push(S)}const h=(0,t.split)(u,!0),p=h[0],f=h[1],g=(E,x,b)=>b>32?(0,t.rotlBH)(E,x,b):(0,t.rotlSH)(E,x,b),m=(E,x,b)=>b>32?(0,t.rotlBL)(E,x,b):(0,t.rotlSL)(E,x,b);function w(E,x=24){const b=new Uint32Array(10);for(let k=24-x;k<24;k++){for(let $=0;$<10;$++)b[$]=E[$]^E[$+10]^E[$+20]^E[$+30]^E[$+40];for(let $=0;$<10;$+=2){const A=($+8)%10,N=($+2)%10,O=b[N],D=b[N+1],M=g(O,D,1)^b[A],B=m(O,D,1)^b[A+1];for(let U=0;U<50;U+=10)E[$+U]^=M,E[$+U+1]^=B}let S=E[2],I=E[3];for(let $=0;$<24;$++){const A=d[$],N=g(S,I,A),O=m(S,I,A),D=l[$];S=E[D],I=E[D+1],E[D]=N,E[D+1]=O}for(let $=0;$<50;$+=10){for(let A=0;A<10;A++)b[A]=E[$+A];for(let A=0;A<10;A++)E[$+A]^=~b[(A+2)%10]&b[(A+4)%10]}E[0]^=p[k],E[1]^=f[k]}(0,e.clean)(b)}class v extends e.Hash{constructor(x,b,k,S=!1,I=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=x,this.suffix=b,this.outputLen=k,this.enableXOF=S,this.rounds=I,(0,e.anumber)(k),!(0<x&&x<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,e.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,e.swap32IfBE)(this.state32),w(this.state32,this.rounds),(0,e.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(x){(0,e.aexists)(this),x=(0,e.toBytes)(x),(0,e.abytes)(x);const{blockLen:b,state:k}=this,S=x.length;for(let I=0;I<S;){const $=Math.min(b-this.pos,S-I);for(let A=0;A<$;A++)k[this.pos++]^=x[I++];this.pos===b&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:x,suffix:b,pos:k,blockLen:S}=this;x[k]^=b,(b&128)!==0&&k===S-1&&this.keccak(),x[S-1]^=128,this.keccak()}writeInto(x){(0,e.aexists)(this,!1),(0,e.abytes)(x),this.finish();const b=this.state,{blockLen:k}=this;for(let S=0,I=x.length;S<I;){this.posOut>=k&&this.keccak();const $=Math.min(k-this.posOut,I-S);x.set(b.subarray(this.posOut,this.posOut+$),S),this.posOut+=$,S+=$}return x}xofInto(x){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(x)}xof(x){return(0,e.anumber)(x),this.xofInto(new Uint8Array(x))}digestInto(x){if((0,e.aoutput)(x,this),this.finished)throw new Error("digest() was already called");return this.writeInto(x),this.destroy(),x}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,e.clean)(this.state)}_cloneInto(x){const{blockLen:b,suffix:k,outputLen:S,rounds:I,enableXOF:$}=this;return x||(x=new v(b,k,S,$,I)),x.state32.set(this.state32),x.pos=this.pos,x.posOut=this.posOut,x.finished=this.finished,x.rounds=I,x.suffix=k,x.outputLen=S,x.enableXOF=$,x.destroyed=this.destroyed,x}}Yt.Keccak=v;const C=(E,x,b)=>(0,e.createHasher)(()=>new v(x,E,b));Yt.sha3_224=C(6,144,224/8),Yt.sha3_256=C(6,136,256/8),Yt.sha3_384=C(6,104,384/8),Yt.sha3_512=C(6,72,512/8),Yt.keccak_224=C(1,144,224/8),Yt.keccak_256=C(1,136,256/8),Yt.keccak_384=C(1,104,384/8),Yt.keccak_512=C(1,72,512/8);const _=(E,x,b)=>(0,e.createXOFer)((k={})=>new v(x,E,k.dkLen===void 0?b:k.dkLen,!0));return Yt.shake128=_(31,168,128/8),Yt.shake256=_(31,136,256/8),Yt}var O1,W6;function lS(){if(W6)return O1;W6=1;const{keccak_256:t}=bge();function e(f){return Buffer.allocUnsafe(f).fill(0)}function n(f){return f.toString(2).length}function r(f,g){let m=f.toString(16);m.length%2!==0&&(m="0"+m);const w=m.match(/.{1,2}/g).map(v=>parseInt(v,16));for(;w.length<g;)w.unshift(0);return Buffer.from(w)}function i(f,g){const m=f<0n;let w;if(m){const v=(1n<<BigInt(g))-1n;w=(~f&v)+1n}else w=f;return w&=(1n<<BigInt(g))-1n,w}function s(f,g,m){const w=e(g);return f=o(f),m?f.length<g?(f.copy(w),w):f.slice(0,g):f.length<g?(f.copy(w,g-f.length),w):f.slice(-g)}function a(f,g){return s(f,g,!0)}function o(f){if(!Buffer.isBuffer(f))if(Array.isArray(f))f=Buffer.from(f);else if(typeof f=="string")h(f)?f=Buffer.from(u(p(f)),"hex"):f=Buffer.from(f);else if(typeof f=="number")f=intToBuffer(f);else if(f==null)f=Buffer.allocUnsafe(0);else if(typeof f=="bigint")f=r(f);else if(f.toArray)f=Buffer.from(f.toArray());else throw new Error("invalid type");return f}function l(f){return f=o(f),"0x"+f.toString("hex")}function d(f,g){if(f=o(f),g||(g=256),g!==256)throw new Error("unsupported");return Buffer.from(t(new Uint8Array(f)))}function u(f){return f.length%2?"0"+f:f}function h(f){return typeof f=="string"&&f.match(/^0x[0-9A-Fa-f]*$/)}function p(f){return typeof f=="string"&&f.startsWith("0x")?f.slice(2):f}return O1={zeros:e,setLength:s,setLengthRight:a,isHexString:h,stripHexPrefix:p,toBuffer:o,bufferToHex:l,keccak:d,bitLengthFromBigInt:n,bufferBEFromBigInt:r,twosFromBigInt:i},O1}var R1,z6;function xge(){if(z6)return R1;z6=1;const t=lS();function e(p){return p.startsWith("int[")?"int256"+p.slice(3):p==="int"?"int256":p.startsWith("uint[")?"uint256"+p.slice(4):p==="uint"?"uint256":p.startsWith("fixed[")?"fixed128x128"+p.slice(5):p==="fixed"?"fixed128x128":p.startsWith("ufixed[")?"ufixed128x128"+p.slice(6):p==="ufixed"?"ufixed128x128":p}function n(p){return Number.parseInt(/^\D+(\d+)$/.exec(p)[1],10)}function r(p){var f=/^\D+(\d+)x(\d+)$/.exec(p);return[Number.parseInt(f[1],10),Number.parseInt(f[2],10)]}function i(p){var f=p.match(/(.*)\[(.*?)\]$/);return f?f[2]===""?"dynamic":Number.parseInt(f[2],10):null}function s(p){var f=typeof p;if(f==="string"||f==="number")return BigInt(p);if(f==="bigint")return p;throw new Error("Argument is not a number")}function a(p,f){var g,m,w,v;if(p==="address")return a("uint160",s(f));if(p==="bool")return a("uint8",f?1:0);if(p==="string")return a("bytes",new Buffer(f,"utf8"));if(l(p)){if(typeof f.length>"u")throw new Error("Not an array?");if(g=i(p),g!=="dynamic"&&g!==0&&f.length>g)throw new Error("Elements exceed array size: "+g);w=[],p=p.slice(0,p.lastIndexOf("[")),typeof f=="string"&&(f=JSON.parse(f));for(v in f)w.push(a(p,f[v]));if(g==="dynamic"){var C=a("uint256",f.length);w.unshift(C)}return Buffer.concat(w)}else{if(p==="bytes")return f=new Buffer(f),w=Buffer.concat([a("uint256",f.length),f]),f.length%32!==0&&(w=Buffer.concat([w,t.zeros(32-f.length%32)])),w;if(p.startsWith("bytes")){if(g=n(p),g<1||g>32)throw new Error("Invalid bytes<N> width: "+g);return t.setLengthRight(f,32)}else if(p.startsWith("uint")){if(g=n(p),g%8||g<8||g>256)throw new Error("Invalid uint<N> width: "+g);m=s(f);const _=t.bitLengthFromBigInt(m);if(_>g)throw new Error("Supplied uint exceeds width: "+g+" vs "+_);if(m<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(m,32)}else if(p.startsWith("int")){if(g=n(p),g%8||g<8||g>256)throw new Error("Invalid int<N> width: "+g);m=s(f);const _=t.bitLengthFromBigInt(m);if(_>g)throw new Error("Supplied int exceeds width: "+g+" vs "+_);const E=t.twosFromBigInt(m,256);return t.bufferBEFromBigInt(E,32)}else if(p.startsWith("ufixed")){if(g=r(p),m=s(f),m<0)throw new Error("Supplied ufixed is negative");return a("uint256",m*BigInt(2)**BigInt(g[1]))}else if(p.startsWith("fixed"))return g=r(p),a("int256",s(f)*BigInt(2)**BigInt(g[1]))}throw new Error("Unsupported or invalid type: "+p)}function o(p){return p==="string"||p==="bytes"||i(p)==="dynamic"}function l(p){return p.lastIndexOf("]")===p.length-1}function d(p,f){var g=[],m=[],w=32*p.length;for(var v in p){var C=e(p[v]),_=f[v],E=a(C,_);o(C)?(g.push(a("uint256",w)),m.push(E),w+=E.length):g.push(E)}return Buffer.concat(g.concat(m))}function u(p,f){if(p.length!==f.length)throw new Error("Number of types are not matching the values");for(var g,m,w=[],v=0;v<p.length;v++){var C=e(p[v]),_=f[v];if(C==="bytes")w.push(_);else if(C==="string")w.push(new Buffer(_,"utf8"));else if(C==="bool")w.push(new Buffer(_?"01":"00","hex"));else if(C==="address")w.push(t.setLength(_,20));else if(C.startsWith("bytes")){if(g=n(C),g<1||g>32)throw new Error("Invalid bytes<N> width: "+g);w.push(t.setLengthRight(_,g))}else if(C.startsWith("uint")){if(g=n(C),g%8||g<8||g>256)throw new Error("Invalid uint<N> width: "+g);m=s(_);const E=t.bitLengthFromBigInt(m);if(E>g)throw new Error("Supplied uint exceeds width: "+g+" vs "+E);w.push(t.bufferBEFromBigInt(m,g/8))}else if(C.startsWith("int")){if(g=n(C),g%8||g<8||g>256)throw new Error("Invalid int<N> width: "+g);m=s(_);const E=t.bitLengthFromBigInt(m);if(E>g)throw new Error("Supplied int exceeds width: "+g+" vs "+E);const x=t.twosFromBigInt(m,g);w.push(t.bufferBEFromBigInt(x,g/8))}else throw new Error("Unsupported or invalid type: "+C)}return Buffer.concat(w)}function h(p,f){return t.keccak(u(p,f))}return R1={rawEncode:d,solidityPack:u,soliditySHA3:h},R1}var M1,q6;function Cge(){if(q6)return M1;q6=1;const t=lS(),e=xge(),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},r={encodeData(s,a,o,l=!0){const d=["bytes32"],u=[this.hashType(s,o)];if(l){const h=(p,f,g)=>{if(o[f]!==void 0)return["bytes32",g==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(f,g,o,l))];if(g===void 0)throw new Error(`missing value for field ${p} of type ${f}`);if(f==="bytes")return["bytes32",t.keccak(g)];if(f==="string")return typeof g=="string"&&(g=Buffer.from(g,"utf8")),["bytes32",t.keccak(g)];if(f.lastIndexOf("]")===f.length-1){const m=f.slice(0,f.lastIndexOf("[")),w=g.map(v=>h(p,m,v));return["bytes32",t.keccak(e.rawEncode(w.map(([v])=>v),w.map(([,v])=>v)))]}return[f,g]};for(const p of o[s]){const[f,g]=h(p.name,p.type,a[p.name]);d.push(f),u.push(g)}}else for(const h of o[s]){let p=a[h.name];if(p!==void 0)if(h.type==="bytes")d.push("bytes32"),p=t.keccak(p),u.push(p);else if(h.type==="string")d.push("bytes32"),typeof p=="string"&&(p=Buffer.from(p,"utf8")),p=t.keccak(p),u.push(p);else if(o[h.type]!==void 0)d.push("bytes32"),p=t.keccak(this.encodeData(h.type,p,o,l)),u.push(p);else{if(h.type.lastIndexOf("]")===h.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");d.push(h.type),u.push(p)}}return e.rawEncode(d,u)},encodeType(s,a){let o="",l=this.findTypeDependencies(s,a).filter(d=>d!==s);l=[s].concat(l.sort());for(const d of l){if(!a[d])throw new Error("No type definition specified: "+d);o+=d+"("+a[d].map(({name:h,type:p})=>p+" "+h).join(",")+")"}return o},findTypeDependencies(s,a,o=[]){if(s=s.match(/^\w*/)[0],o.includes(s)||a[s]===void 0)return o;o.push(s);for(const l of a[s])for(const d of this.findTypeDependencies(l.type,a,o))!o.includes(d)&&o.push(d);return o},hashStruct(s,a,o,l=!0){return t.keccak(this.encodeData(s,a,o,l))},hashType(s,a){return t.keccak(this.encodeType(s,a))},sanitizeData(s){const a={};for(const o in n.properties)s[o]&&(a[o]=s[o]);return a.types&&(a.types=Object.assign({EIP712Domain:[]},a.types)),a},hash(s,a=!0){const o=this.sanitizeData(s),l=[Buffer.from("1901","hex")];return l.push(this.hashStruct("EIP712Domain",o.domain,o.types,a)),o.primaryType!=="EIP712Domain"&&l.push(this.hashStruct(o.primaryType,o.message,o.types,a)),t.keccak(Buffer.concat(l))}};M1={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:r,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return r.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return r.hash(s.data)}};function i(s){const a=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw a;const o=s.map(function(u){return u.type==="bytes"?t.toBuffer(u.value):u.value}),l=s.map(function(u){return u.type}),d=s.map(function(u){if(!u.name)throw a;return u.type+" "+u.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),d),e.soliditySHA3(l,o)])}return M1}var _ge=Cge();const Ah=ha(_ge),Ege="walletUsername",s2="Addresses",kge="AppVersion";function Jn(t){return t.errorMessage!==void 0}class $ge{constructor(e){this.secret=e}async encrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",np(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,s.encode(e)),o=16,l=a.slice(a.byteLength-o),d=a.slice(0,a.byteLength-o),u=new Uint8Array(l),h=new Uint8Array(d),p=new Uint8Array([...r,...u,...h]);return bv(p)}async decrypt(e){const n=this.secret;if(n.length!==64)throw Error("secret must be 256 bits");return new Promise((r,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",np(n),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=np(e),o=a.slice(0,12),l=a.slice(12,28),d=a.slice(28),u=new Uint8Array([...d,...l]),h={name:"AES-GCM",iv:new Uint8Array(o)};try{const p=await window.crypto.subtle.decrypt(h,s,u),f=new TextDecoder;r(f.decode(p))}catch(p){i(p)}})()})}}class Ige{constructor(e,n,r){this.linkAPIUrl=e,this.sessionId=n;const i=`${n}:${r}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(n=>fetch(`${this.linkAPIUrl}/events/${n.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(n=>console.error("Unabled to mark event as failed:",n))}async fetchUnseenEvents(){var e;const n=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(n.ok){const{events:r,error:i}=await n.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=r==null?void 0:r.filter(a=>a.event==="Web3Response").map(a=>({type:"Event",sessionId:this.sessionId,eventId:a.id,event:a.event,data:a.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${n.status}`)}}var na;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(na||(na={}));class Sge{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,n=WebSocket){this.WebSocketClass=n,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,n)=>{var r;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){n(s);return}(r=this.connectionStateListener)===null||r===void 0||r.call(this,na.CONNECTING),i.onclose=s=>{var a;this.clearWebSocket(),n(new Error(`websocket error ${s.code}: ${s.reason}`)),(a=this.connectionStateListener)===null||a===void 0||a.call(this,na.DISCONNECTED)},i.onopen=s=>{var a;e(),(a=this.connectionStateListener)===null||a===void 0||a.call(this,na.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var a,o;if(s.data==="h")(a=this.incomingDataListener)===null||a===void 0||a.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(o=this.incomingDataListener)===null||o===void 0||o.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:n}=this;if(n){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,na.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{n.close()}catch{}}}sendData(e){const{webSocket:n}=this;if(!n){this.pendingData.push(e),this.connect();return}n.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const H6=1e4,Age=6e4;class Tge{constructor({session:e,linkAPIUrl:n,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Qs(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",o=>s.JsonRpcUrl&&this.handleChainUpdated(o,s.JsonRpcUrl)]]).forEach((o,l)=>{const d=s[l];d!==void 0&&o(d)})},this.handleDestroyed=s=>{var a;s==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async s=>{var a;const o=await this.cipher.decrypt(s);(a=this.listener)===null||a===void 0||a.accountUpdated(o)},this.handleMetadataUpdated=async(s,a)=>{var o;const l=await this.cipher.decrypt(a);(o=this.listener)===null||o===void 0||o.metadataUpdated(s,l)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(Ege,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(kge,s)},this.handleChainUpdated=async(s,a)=>{var o;const l=await this.cipher.decrypt(s),d=await this.cipher.decrypt(a);(o=this.listener)===null||o===void 0||o.chainUpdated(l,d)},this.session=e,this.cipher=new $ge(e.secret),this.listener=r;const i=new Sge(`${n}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let a=!1;switch(s){case na.DISCONNECTED:if(!this.destroyed){const o=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||i.connect().catch(()=>{o()})};o()}break;case na.CONNECTED:a=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},H6),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case na.CONNECTING:break}this.connected!==a&&(this.connected=a)}),i.setIncomingDataListener(s=>{var a;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const o=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=o||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((a=this.requestResolutions.get(s.id))===null||a===void 0||a(s))}),this.ws=i,this.http=new Ige(n,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Qs(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var n,r;this._linked=e,e&&((n=this.onceLinked)===null||n===void 0||n.call(this)),(r=this.listener)===null||r===void 0||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(n=>{this.linked?e().then(n):this.onceLinked=()=>{e().then(n),this.onceLinked=void 0}})}async handleIncomingEvent(e){var n;if(e.type!=="Event"||e.event!=="Web3Response")return;const r=await this.cipher.decrypt(e.data),i=JSON.parse(r);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:a}=i;(n=this.listener)===null||n===void 0||n.handleWeb3ResponseMessage(s,a)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(n=>this.handleIncomingEvent(n))}async publishEvent(e,n,r=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},n),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:Qs(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:r};return this.setOnceLinked(async()=>{const a=await this.makeRequest(s);if(a.type==="Fail")throw new Error(a.error||"failed to publish event");return a.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>H6*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,n={timeout:Age}){const r=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,a)=>{i=window.setTimeout(()=>{a(new Error(`request ${r} timed out`))},n.timeout)}),new Promise(s=>{this.requestResolutions.set(r,a=>{clearTimeout(i),s(a),this.requestResolutions.delete(r)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Qs(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Qs(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Qs(this.nextReqId++),sessionId:this.session.id}),!0)}}class Pge{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,n=rS(e.toString(16));return this.callbacks.get(n)&&this.callbacks.delete(n),e}}const V6="session:id",K6="session:secret",G6="session:linked";class oc{constructor(e,n,r,i=!1){this.storage=e,this.id=n,this.secret=r,this.key=QA(XA(`${n}, ${r} WalletLink`)),this._linked=!!i}static create(e){const n=wo(16),r=wo(32);return new oc(e,n,r).save()}static load(e){const n=e.getItem(V6),r=e.getItem(G6),i=e.getItem(K6);return n&&i?new oc(e,n,i,r==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(V6,this.id),this.storage.setItem(K6,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(G6,this._linked?"1":"0")}}function Dge(){try{return window.frameElement!==null}catch{return!1}}function Nge(){try{return Dge()&&window.top?window.top.location:window.location}catch{return window.location}}function jge(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function cS(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const Oge='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function dS(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(Oge)),document.documentElement.appendChild(t)}function uS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=uS(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ld(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=uS(t))&&(r&&(r+=" "),r+=e);return r}var kg,rn,hS,vo,Y6,pS,fS,gS,Ev,a2,o2,wu={},mS=[],Rge=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$g=Array.isArray;function ra(t,e){for(var n in e)t[n]=e[n];return t}function kv(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ut(t,e,n){var r,i,s,a={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?kg.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return rp(t,a,r,i,null)}function rp(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++hS,__i:-1,__u:0};return i==null&&rn.vnode!=null&&rn.vnode(s),s}function Ig(t){return t.children}function ip(t,e){this.props=t,this.context=e}function _c(t,e){if(e==null)return t.__?_c(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?_c(t):null}function yS(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return yS(t)}}function Z6(t){(!t.__d&&(t.__d=!0)&&vo.push(t)&&!Jp.__r++||Y6!=rn.debounceRendering)&&((Y6=rn.debounceRendering)||pS)(Jp)}function Jp(){for(var t,e,n,r,i,s,a,o=1;vo.length;)vo.length>o&&vo.sort(fS),t=vo.shift(),o=vo.length,t.__d&&(n=void 0,r=void 0,i=(r=(e=t).__v).__e,s=[],a=[],e.__P&&((n=ra({},r)).__v=r.__v+1,rn.vnode&&rn.vnode(n),$v(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,s,i??_c(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,bS(s,n,a),r.__e=r.__=null,n.__e!=i&&yS(n)));Jp.__r=0}function wS(t,e,n,r,i,s,a,o,l,d,u){var h,p,f,g,m,w,v,C=r&&r.__k||mS,_=e.length;for(l=Mge(n,e,C,l,_),h=0;h<_;h++)(f=n.__k[h])!=null&&(p=f.__i==-1?wu:C[f.__i]||wu,f.__i=h,w=$v(t,f,p,i,s,a,o,l,d,u),g=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&Iv(p.ref,null,f),u.push(f.ref,f.__c||g,f)),m==null&&g!=null&&(m=g),(v=!!(4&f.__u))||p.__k===f.__k?l=vS(f,l,t,v):typeof f.type=="function"&&w!==void 0?l=w:g&&(l=g.nextSibling),f.__u&=-7);return n.__e=m,l}function Mge(t,e,n,r,i){var s,a,o,l,d,u=n.length,h=u,p=0;for(t.__k=new Array(i),s=0;s<i;s++)(a=e[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=t.__k[s]=rp(null,a,null,null,null):$g(a)?a=t.__k[s]=rp(Ig,{children:a},null,null,null):a.constructor==null&&a.__b>0?a=t.__k[s]=rp(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):t.__k[s]=a,l=s+p,a.__=t,a.__b=t.__b+1,(d=a.__i=Lge(a,n,l,h))!=-1&&(h--,(o=n[d])&&(o.__u|=2)),o==null||o.__v==null?(d==-1&&(i>u?p--:i<u&&p++),typeof a.type!="function"&&(a.__u|=4)):d!=l&&(d==l-1?p--:d==l+1?p++:(d>l?p--:p++,a.__u|=4))):t.__k[s]=null;if(h)for(s=0;s<u;s++)(o=n[s])!=null&&(2&o.__u)==0&&(o.__e==r&&(r=_c(o)),CS(o,o));return r}function vS(t,e,n,r){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=vS(i[s],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=_c(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Lge(t,e,n,r){var i,s,a,o=t.key,l=t.type,d=e[n],u=d!=null&&(2&d.__u)==0;if(d===null&&o==null||u&&o==d.key&&l==d.type)return n;if(r>(u?1:0)){for(i=n-1,s=n+1;i>=0||s<e.length;)if((d=e[a=i>=0?i--:s++])!=null&&(2&d.__u)==0&&o==d.key&&l==d.type)return a}return-1}function J6(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Rge.test(e)?n:n+"px"}function Th(t,e,n,r,i){var s,a;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||J6(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||J6(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(gS,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=Ev,t.addEventListener(e,s?o2:a2,s)):t.removeEventListener(e,s?o2:a2,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Q6(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Ev++;else if(e.t<n.u)return;return n(rn.event?rn.event(e):e)}}}function $v(t,e,n,r,i,s,a,o,l,d){var u,h,p,f,g,m,w,v,C,_,E,x,b,k,S,I,$,A=e.type;if(e.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),s=[o=e.__e=n.__e]),(u=rn.__b)&&u(e);e:if(typeof A=="function")try{if(v=e.props,C="prototype"in A&&A.prototype.render,_=(u=A.contextType)&&r[u.__c],E=u?_?_.props.value:u.__:r,n.__c?w=(h=e.__c=n.__c).__=h.__E:(C?e.__c=h=new A(v,E):(e.__c=h=new ip(v,E),h.constructor=A,h.render=Uge),_&&_.sub(h),h.state||(h.state={}),h.__n=r,p=h.__d=!0,h.__h=[],h._sb=[]),C&&h.__s==null&&(h.__s=h.state),C&&A.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=ra({},h.__s)),ra(h.__s,A.getDerivedStateFromProps(v,h.__s))),f=h.props,g=h.state,h.__v=e,p)C&&A.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),C&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(C&&A.getDerivedStateFromProps==null&&v!==f&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(v,E),e.__v==n.__v||!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(v,h.__s,E)===!1){for(e.__v!=n.__v&&(h.props=v,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(N){N&&(N.__=e)}),x=0;x<h._sb.length;x++)h.__h.push(h._sb[x]);h._sb=[],h.__h.length&&a.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(v,h.__s,E),C&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(f,g,m)})}if(h.context=E,h.props=v,h.__P=t,h.__e=!1,b=rn.__r,k=0,C){for(h.state=h.__s,h.__d=!1,b&&b(e),u=h.render(h.props,h.state,h.context),S=0;S<h._sb.length;S++)h.__h.push(h._sb[S]);h._sb=[]}else do h.__d=!1,b&&b(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++k<25);h.state=h.__s,h.getChildContext!=null&&(r=ra(ra({},r),h.getChildContext())),C&&!p&&h.getSnapshotBeforeUpdate!=null&&(m=h.getSnapshotBeforeUpdate(f,g)),I=u,u!=null&&u.type===Ig&&u.key==null&&(I=xS(u.props.children)),o=wS(t,$g(I)?I:[I],e,n,r,i,s,a,o,l,d),h.base=e.__e,e.__u&=-161,h.__h.length&&a.push(h),w&&(h.__E=h.__=null)}catch(N){if(e.__v=null,l||s!=null)if(N.then){for(e.__u|=l?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,e.__e=o}else{for($=s.length;$--;)kv(s[$]);l2(e)}else e.__e=n.__e,e.__k=n.__k,N.then||l2(e);rn.__e(N,e,n)}else s==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):o=e.__e=Fge(n.__e,e,n,r,i,s,a,l,d);return(u=rn.diffed)&&u(e),128&e.__u?void 0:o}function l2(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(l2)}function bS(t,e,n){for(var r=0;r<n.length;r++)Iv(n[r],n[++r],n[++r]);rn.__c&&rn.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){rn.__e(s,i.__v)}})}function xS(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:$g(t)?t.map(xS):ra({},t)}function Fge(t,e,n,r,i,s,a,o,l){var d,u,h,p,f,g,m,w=n.props||wu,v=e.props,C=e.type;if(C=="svg"?i="http://www.w3.org/2000/svg":C=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(d=0;d<s.length;d++)if((f=s[d])&&"setAttribute"in f==!!C&&(C?f.localName==C:f.nodeType==3)){t=f,s[d]=null;break}}if(t==null){if(C==null)return document.createTextNode(v);t=document.createElementNS(i,C,v.is&&v),o&&(rn.__m&&rn.__m(e,s),o=!1),s=null}if(C==null)w===v||o&&t.data==v||(t.data=v);else{if(s=s&&kg.call(t.childNodes),!o&&s!=null)for(w={},d=0;d<t.attributes.length;d++)w[(f=t.attributes[d]).name]=f.value;for(d in w)if(f=w[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=f;else if(!(d in v)){if(d=="value"&&"defaultValue"in v||d=="checked"&&"defaultChecked"in v)continue;Th(t,d,null,f,i)}}for(d in v)f=v[d],d=="children"?p=f:d=="dangerouslySetInnerHTML"?u=f:d=="value"?g=f:d=="checked"?m=f:o&&typeof f!="function"||w[d]===f||Th(t,d,f,w[d],i);if(u)o||h&&(u.__html==h.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),wS(e.type=="template"?t.content:t,$g(p)?p:[p],e,n,r,C=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:n.__k&&_c(n,0),o,l),s!=null)for(d=s.length;d--;)kv(s[d]);o||(d="value",C=="progress"&&g==null?t.removeAttribute("value"):g!=null&&(g!==t[d]||C=="progress"&&!g||C=="option"&&g!=w[d])&&Th(t,d,g,w[d],i),d="checked",m!=null&&m!=t[d]&&Th(t,d,m,w[d],i))}return t}function Iv(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){rn.__e(i,n)}}function CS(t,e,n){var r,i;if(rn.unmount&&rn.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||Iv(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){rn.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&CS(r[i],e,n||typeof t.type!="function");n||kv(t.__e),t.__c=t.__=t.__e=void 0}function Uge(t,e,n){return this.constructor(t,n)}function c2(t,e,n){var r,i,s,a;e==document&&(e=document.documentElement),rn.__&&rn.__(t,e),i=(r=!1)?null:e.__k,s=[],a=[],$v(e,t=e.__k=Ut(Ig,null,[t]),i||wu,wu,e.namespaceURI,i?null:e.firstChild?kg.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,a),bS(s,t,a)}kg=mS.slice,rn={__e:function(t,e,n,r){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),a=i.__d),a)return i.__E=i}catch(o){t=o}throw t}},hS=0,ip.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ra({},this.state),typeof t=="function"&&(t=t(ra({},n),this.props)),t&&ra(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Z6(this))},ip.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Z6(this))},ip.prototype.render=Ig,vo=[],pS=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fS=function(t,e){return t.__v.__b-e.__v.__b},Jp.__r=0,gS=/(PointerCapture)$|Capture$/i,Ev=0,a2=Q6(!1),o2=Q6(!0);var Qp,bn,L1,X6,d2=0,_S=[],In=rn,ex=In.__b,tx=In.__r,nx=In.diffed,rx=In.__c,ix=In.unmount,sx=In.__;function ES(t,e){In.__h&&In.__h(bn,t,d2||e),d2=0;var n=bn.__H||(bn.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function ax(t){return d2=1,Bge(kS,t)}function Bge(t,e,n){var r=ES(Qp++,2);if(r.t=t,!r.__c&&(r.__=[kS(void 0,e),function(o){var l=r.__N?r.__N[0]:r.__[0],d=r.t(l,o);l!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=bn,!bn.__f)){var i=function(o,l,d){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(p){return!!p.__c});if(u.every(function(p){return!p.__N}))return!s||s.call(this,o,l,d);var h=r.__c.props!==o;return u.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(h=!0)}}),s&&s.call(this,o,l,d)||h};bn.__f=!0;var s=bn.shouldComponentUpdate,a=bn.componentWillUpdate;bn.componentWillUpdate=function(o,l,d){if(this.__e){var u=s;s=void 0,i(o,l,d),s=u}a&&a.call(this,o,l,d)},bn.shouldComponentUpdate=i}return r.__N||r.__}function Wge(t,e){var n=ES(Qp++,3);!In.__s&&Hge(n.__H,e)&&(n.__=t,n.u=e,bn.__H.__h.push(n))}function zge(){for(var t;t=_S.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(sp),t.__H.__h.forEach(u2),t.__H.__h=[]}catch(e){t.__H.__h=[],In.__e(e,t.__v)}}In.__b=function(t){bn=null,ex&&ex(t)},In.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),sx&&sx(t,e)},In.__r=function(t){tx&&tx(t),Qp=0;var e=(bn=t.__c).__H;e&&(L1===bn?(e.__h=[],bn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(sp),e.__h.forEach(u2),e.__h=[],Qp=0)),L1=bn},In.diffed=function(t){nx&&nx(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(_S.push(e)!==1&&X6===In.requestAnimationFrame||((X6=In.requestAnimationFrame)||qge)(zge)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),L1=bn=null},In.__c=function(t,e){e.some(function(n){try{n.__h.forEach(sp),n.__h=n.__h.filter(function(r){return!r.__||u2(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],In.__e(r,n.__v)}}),rx&&rx(t,e)},In.unmount=function(t){ix&&ix(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{sp(r)}catch(i){e=i}}),n.__H=void 0,e&&In.__e(e,n.__v))};var ox=typeof requestAnimationFrame=="function";function qge(t){var e,n=function(){clearTimeout(r),ox&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);ox&&(e=requestAnimationFrame(n))}function sp(t){var e=bn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),bn=e}function u2(t){var e=bn;t.__c=t.__(),bn=e}function Hge(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function kS(t,e){return typeof e=="function"?e(t):e}const Vge=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",Kge="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",Gge="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class $S{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=cS()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const n=this.nextItemKey++;return this.items.set(n,e),this.render(),()=>{this.items.delete(n),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&c2(Ut("div",null,Ut(IS,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,n])=>Ut(Yge,Object.assign({},n,{key:e}))))),this.root)}}const IS=t=>Ut("div",{class:Ld("-cbwsdk-snackbar-container")},Ut("style",null,Vge),Ut("div",{class:"-cbwsdk-snackbar"},t.children)),Yge=({autoExpand:t,message:e,menuItems:n})=>{const[r,i]=ax(!0),[s,a]=ax(t??!1);Wge(()=>{const l=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{a(!0)},1e4)];return()=>{l.forEach(window.clearTimeout)}});const o=()=>{a(!s)};return Ut("div",{class:Ld("-cbwsdk-snackbar-instance",r&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},Ut("div",{class:"-cbwsdk-snackbar-instance-header",onClick:o},Ut("img",{src:Kge,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",Ut("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),Ut("div",{class:"-gear-container"},!s&&Ut("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ut("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),Ut("img",{src:Gge,class:"-gear-icon",title:"Expand"}))),n&&n.length>0&&Ut("div",{class:"-cbwsdk-snackbar-instance-menu"},n.map((l,d)=>Ut("div",{class:Ld("-cbwsdk-snackbar-instance-menu-item",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:l.onClick,key:d},Ut("svg",{width:l.svgWidth,height:l.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ut("path",{"fill-rule":l.defaultFillRule,"clip-rule":l.defaultClipRule,d:l.path,fill:"#AAAAAA"})),Ut("span",{class:Ld("-cbwsdk-snackbar-instance-menu-item-info",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},l.info)))))},SS="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class Zge{constructor(){this.attached=!1,this.snackbar=new $S}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,n=document.createElement("div");n.className="-cbwsdk-css-reset",e.appendChild(n),this.snackbar.attach(n),this.attached=!0,dS()}showConnecting(e){let n;return e.isUnlinkedErrorState?n={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:n={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:SS,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(n)}}const Jge=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class Qge{constructor(){this.root=null,this.darkMode=cS()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),dS()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(c2(null,this.root),e&&c2(Ut(Xge,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const Xge=({title:t,buttonText:e,darkMode:n,onButtonClick:r,onDismiss:i})=>{const s=n?"dark":"light";return Ut(IS,{darkMode:n},Ut("div",{class:"-cbwsdk-redirect-dialog"},Ut("style",null,Jge),Ut("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),Ut("div",{class:Ld("-cbwsdk-redirect-dialog-box",s)},Ut("p",null,t),Ut("button",{onClick:r},e))))},eme="https://keys.coinbase.com/connect",tme="https://rpc.wallet.coinbase.com",lx="https://www.walletlink.org",nme="https://go.cb-w.com/walletlink";class cx{constructor(){this.attached=!1,this.redirectDialog=new Qge}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const n=new URL(nme);n.searchParams.append("redirect_url",Nge().href),e&&n.searchParams.append("wl_url",e);const r=document.createElement("a");r.target="cbw-opener",r.href=n.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class Xs{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=jge(),this.linkedUpdated=s=>{this.isLinked=s;const a=this.storage.getItem(s2);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,a){const o=a.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";o[0]!==""&&!s&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,a)=>{this.storage.setItem(s,a)},this.chainUpdated=(s,a)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:s,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(a,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),Xs.accountRequestCallbackIds.size>0&&(Array.from(Xs.accountRequestCallbackIds.values()).forEach(a=>{this.invokeCallback(a,{method:"requestEthereumAccounts",result:[s]})}),Xs.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:n,ui:r,connection:i}=this.subscribe();this._session=n,this.connection=i,this.relayEventManager=new Pge,this.ui=r,this.ui.attach()}subscribe(){const e=oc.load(this.storage)||oc.create(this.storage),{linkAPIUrl:n}=this,r=new Tge({session:e,linkAPIUrl:n,listener:this}),i=this.isMobileWeb?new cx:new Zge;return r.connect(),{session:e,ui:i,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{const e=oc.load(this.storage);(e==null?void 0:e.id)===this._session.id&&Ns.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:hs(e.weiValue),data:Rd(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?hs(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?hs(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?hs(e.gasPriceInWei):null,gasLimit:e.gasLimit?hs(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:hs(e.weiValue),data:Rd(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?hs(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?hs(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?hs(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?hs(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,n){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:Rd(e,!0),chainId:n}})}getWalletLinkSession(){return this._session}sendRequest(e){let n=null;const r=wo(8),i=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s),n==null||n()};return new Promise((s,a)=>{n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,o=>{if(n==null||n(),Jn(o))return a(new Error(o.errorMessage));s(o)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,n){const r={type:"WEB3_REQUEST",id:e,request:n};this.publishEvent("Web3Request",r,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(r.id,{method:n.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(n.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof cx)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const n={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",n,!1).then()}publishEvent(e,n,r){return this.connection.publishEvent(e,n,r)}handleWeb3ResponseMessage(e,n){if(n.method==="requestEthereumAccounts"){Xs.accountRequestCallbackIds.forEach(r=>this.invokeCallback(r,n)),Xs.accountRequestCallbackIds.clear();return}this.invokeCallback(e,n)}handleErrorResponse(e,n,r){var i;const s=(i=r==null?void 0:r.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:n,errorMessage:s})}invokeCallback(e,n){const r=this.relayEventManager.callbacks.get(e);r&&(r(n),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:n}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:n}},i=wo(8);return new Promise((s,a)=>{this.relayEventManager.callbacks.set(i,o=>{if(Jn(o))return a(new Error(o.errorMessage));s(o)}),Xs.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,r)})}watchAsset(e,n,r,i,s,a){const o={method:"watchAsset",params:{type:e,options:{address:n,symbol:r,decimals:i,image:s},chainId:a}};let l=null;const d=wo(8),u=h=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,o.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,p)=>{this.relayEventManager.callbacks.set(d,f=>{if(l==null||l(),Jn(f))return p(new Error(f.errorMessage));h(f)}),this.publishWeb3RequestEvent(d,o)})}addEthereumChain(e,n,r,i,s,a){const o={method:"addEthereumChain",params:{chainId:e,rpcUrls:n,blockExplorerUrls:i,chainName:s,iconUrls:r,nativeCurrency:a}};let l=null;const d=wo(8),u=h=>{this.publishWeb3RequestCanceledEvent(d),this.handleErrorResponse(d,o.method,h),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,p)=>{this.relayEventManager.callbacks.set(d,f=>{if(l==null||l(),Jn(f))return p(new Error(f.errorMessage));h(f)}),this.publishWeb3RequestEvent(d,o)})}switchEthereumChain(e,n){const r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:n})};let i=null;const s=wo(8),a=o=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,r.method,o),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:a,onResetConnection:this.resetAndReload}),new Promise((o,l)=>{this.relayEventManager.callbacks.set(s,d=>{if(i==null||i(),Jn(d)&&d.errorCode)return l($t.provider.custom({code:d.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Jn(d))return l(new Error(d.errorMessage));o(d)}),this.publishWeb3RequestEvent(s,r)})}}Xs.accountRequestCallbackIds=new Set;const dx="DefaultChainId",ux="DefaultJsonRpcUrl";class AS{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new Ns("walletlink",lx),this.callback=e.callback||null;const n=this._storage.getItem(s2);if(n){const r=n.split(" ");r[0]!==""&&(this._addresses=r.map(i=>Ia(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:n,secret:r}=e.getWalletLinkSession();return{id:n,secret:r}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(ux))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(ux,e)}updateProviderInfo(e,n){var r;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(dx,n.toString(10)),Md(n)!==i&&((r=this.callback)===null||r===void 0||r.call(this,"chainChanged",Ba(n)))}async watchAsset(e){const n=Array.isArray(e)?e[0]:e;if(!n.type)throw $t.rpc.invalidParams("Type is required");if((n==null?void 0:n.type)!=="ERC20")throw $t.rpc.invalidParams(`Asset of type '${n.type}' is not supported`);if(!(n!=null&&n.options))throw $t.rpc.invalidParams("Options are required");if(!(n!=null&&n.options.address))throw $t.rpc.invalidParams("Address is required");const r=this.getChainId(),{address:i,symbol:s,image:a,decimals:o}=n.options,d=await this.initializeRelay().watchAsset(n.type,i,s,o,a,r==null?void 0:r.toString());return Jn(d)?!1:!!d.result}async addEthereumChain(e){var n,r;const i=e[0];if(((n=i.rpcUrls)===null||n===void 0?void 0:n.length)===0)throw $t.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw $t.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw $t.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const a=this.initializeRelay(),{rpcUrls:o=[],blockExplorerUrls:l=[],chainName:d,iconUrls:u=[],nativeCurrency:h}=i,p=await a.addEthereumChain(s.toString(),o,u,l,d,h);if(Jn(p))return!1;if(((r=p.result)===null||r===void 0?void 0:r.isApproved)===!0)return this.updateProviderInfo(o[0],s),null;throw $t.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const n=e[0],r=Number.parseInt(n.chainId,16),s=await this.initializeRelay().switchEthereumChain(r.toString(10),this.selectedAddress||void 0);if(Jn(s))throw s;const a=s.result;return a.isApproved&&a.rpcUrl.length>0&&this.updateProviderInfo(a.rpcUrl,r),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,n){var r;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>Ia(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(r=this.callback)===null||r===void 0||r.call(this,"accountsChanged",i),this._storage.setItem(s2,i.join(" ")))}async request(e){const n=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Ba(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(n);case"wallet_switchEthereumChain":return this.switchEthereumChain(n);case"wallet_watchAsset":return this.watchAsset(n);default:if(!this.jsonRpcUrl)throw $t.rpc.internal("No RPC URL set for chain");return _v(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const n=Ia(e);if(!this._addresses.map(i=>Ia(i)).includes(n))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const n=e.from?Ia(e.from):this.selectedAddress;if(!n)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(n);const r=e.to?Ia(e.to):null,i=e.value!=null?id(e.value):BigInt(0),s=e.data?i2(e.data):Buffer.alloc(0),a=e.nonce!=null?Md(e.nonce):null,o=e.gasPrice!=null?id(e.gasPrice):null,l=e.maxFeePerGas!=null?id(e.maxFeePerGas):null,d=e.maxPriorityFeePerGas!=null?id(e.maxPriorityFeePerGas):null,u=e.gas!=null?id(e.gas):null,h=e.chainId?Md(e.chainId):this.getChainId();return{fromAddress:n,toAddress:r,weiValue:i,data:s,nonce:a,gasPriceInWei:o,maxFeePerGas:l,maxPriorityFeePerGas:d,gasLimit:u,chainId:h}}async ecRecover(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw $t.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:T1(r[0]),signature:T1(r[1]),addPrefix:n==="personal_ecRecover"}});if(Jn(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(dx))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,n;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Ba(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Jn(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(n=this.callback)===null||n===void 0||n.call(this,"connect",{chainId:Ba(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw $t.rpc.invalidParams();const n=e[1],r=e[0];this._ensureKnownAddress(n);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Ia(n),message:T1(r),addPrefix:!0,typedDataJson:null}});if(Jn(s))throw s;return s.result}async _eth_signTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(n);if(Jn(i))throw i;return i.result}async _eth_sendRawTransaction(e){const n=i2(e[0]),i=await this.initializeRelay().submitEthereumTransaction(n,this.getChainId());if(Jn(i))throw i;return i.result}async _eth_sendTransaction(e){const n=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(n);if(Jn(i))throw i;return i.result}async signTypedData(e){const{method:n,params:r}=e;if(!Array.isArray(r))throw $t.rpc.invalidParams();const i=d=>{const u={eth_signTypedData_v1:Ah.hashForSignTypedDataLegacy,eth_signTypedData_v3:Ah.hashForSignTypedData_v3,eth_signTypedData_v4:Ah.hashForSignTypedData_v4,eth_signTypedData:Ah.hashForSignTypedData_v4};return Rd(u[n]({data:rge(d)}),!0)},s=r[n==="eth_signTypedData_v1"?1:0],a=r[n==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const l=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Ia(s),message:i(a),typedDataJson:JSON.stringify(a,null,2),addPrefix:!1}});if(Jn(l))throw l;return l.result}initializeRelay(){return this._relay||(this._relay=new Xs({linkAPIUrl:lx,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const TS="SignerType",PS=new Ns("CBWSDK","SignerConfigurator");function rme(){return PS.getItem(TS)}function ime(t){PS.setItem(TS,t)}async function sme(t){const{communicator:e,metadata:n,handshakeRequest:r,callback:i}=t;ome(e,n,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:r})},{data:a}=await e.postRequestAndWaitForResponse(s);return a}function ame(t){const{signerType:e,metadata:n,communicator:r,callback:i}=t;switch(e){case"scw":return new mge({metadata:n,callback:i,communicator:r});case"walletlink":return new AS({metadata:n,callback:i})}}async function ome(t,e,n){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const r=new AS({metadata:e,callback:n});t.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const lme=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,cme=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,n=await fetch(e,{method:"HEAD"});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=n.headers.get("Cross-Origin-Opener-Policy");t=r??"null",t==="same-origin"&&console.error(lme)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:dme,getCrossOriginOpenerPolicy:ume}=cme(),hx=420,px=540,hme={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:SS,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},pme="Popup was blocked. Try again.";let Ph=null;function fme(t){const e=(window.innerWidth-hx)/2+window.screenX,n=(window.innerHeight-px)/2+window.screenY;mme(t);function r(){const s=`wallet_${crypto.randomUUID()}`,a=window.open(t,s,`width=${hx}, height=${px}, left=${e}, top=${n}`);return a==null||a.focus(),a||null}let i=r();if(!i){const s=yme();return new Promise((a,o)=>{s.presentItem({autoExpand:!0,message:pme,menuItems:[Object.assign(Object.assign({},hme),{onClick:()=>{i=r(),i?a(i):o($t.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function gme(t){t&&!t.closed&&t.close()}function mme(t){const e={sdkName:oS,sdkVersion:Zu,origin:window.location.origin,coop:ume()};for(const[n,r]of Object.entries(e))t.searchParams.append(n,r.toString())}function yme(){if(!Ph){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Ph=new $S,Ph.attach(t)}return Ph}class wme{constructor({url:e=eme,metadata:n,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:a})=>a===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,a)=>{const o=l=>{if(l.origin!==this.url.origin)return;const d=l.data;i(d)&&(s(d),window.removeEventListener("message",o),this.listeners.delete(o))};window.addEventListener("message",o),this.listeners.set(o,{reject:a})}),this.disconnect=()=>{gme(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i($t.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await fme(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:Zu,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw $t.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=n,this.preference=r}}function vme(t){const e=Qfe(bme(t),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return n.searchParams.set("version",Zu),n.searchParams.set("code",e.code.toString()),n.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:n.href})}function bme(t){var e;if(typeof t=="string")return{message:t,code:mn.rpc.internal};if(Jn(t)){const n=t.errorMessage,r=(e=t.errorCode)!==null&&e!==void 0?e:n.match(/(denied|rejected)/i)?mn.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:n,code:r,data:{method:t.method}})}return t}class xme extends Zo{}var Cme=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class _me extends xme{constructor(e){var{metadata:n}=e,r=e.preference,{keysUrl:i}=r,s=Cme(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=n,this.preference=s,this.communicator=new wme({url:i,metadata:n,preference:s});const a=rme();a&&(this.signer=this.initSigner(a))}async request(e){try{if(gge(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const n=await this.requestSignerSelection(e),r=this.initSigner(n);await r.handshake(e),this.signer=r,ime(n);break}case"wallet_sendCalls":{const n=this.initSigner("scw");await n.handshake({method:"handshake"});const r=await n.request(e);return await n.cleanup(),r}case"wallet_getCallsStatus":return _v(e,tme);case"net_version":return 1;case"eth_chainId":return Ba(1);default:throw $t.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){const{code:r}=n;return r===mn.provider.unauthorized&&this.disconnect(),Promise.reject(vme(n))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,Ns.clearAll(),this.emit("disconnect",$t.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return sme({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return ame({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function Eme(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function kme(t){var e;const n={metadata:t.metadata,preference:t.preference};return(e=fge(n))!==null&&e!==void 0?e:new _me(n)}const $me={options:"all"};function fx(t){var e;new Ns("CBWSDK").setItem("VERSION",Zu),dme();const r={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign($me,(e=t.preference)!==null&&e!==void 0?e:{})};Eme(r.preference);let i=null;return{getProvider:()=>(i||(i=kme(r)),i)}}const Ime=({as:t="div",...e},n)=>c.jsx(t,{...e,ref:n}),Sme=y.forwardRef(Ime),Ame="https://challenges.cloudflare.com/turnstile/v0/api.js",Xp="cf-turnstile-script",Tme="cf-turnstile",DS="onloadTurnstileCallback",ef=t=>!!document.getElementById(t),Pme=({render:t="explicit",onLoadCallbackName:e=DS,scriptOptions:{nonce:n="",defer:r=!0,async:i=!0,id:s="",appendTo:a,onError:o,crossOrigin:l=""}={}})=>{const d=s||Xp;if(ef(d))return;const u=document.createElement("script");if(u.id=d,u.src=`${Ame}?onload=${e}&render=${t}`,document.querySelector(`script[src="${u.src}"]`))return;u.defer=!!r,u.async=!!i,n&&(u.nonce=n),l&&(u.crossOrigin=l),o&&(u.onerror=o),(a==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(u)},ps={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function Dme(t){let e;return t!=="invisible"&&(e=t),e}function Nme(t=Xp){const[e,n]=y.useState(!1);return y.useEffect(()=>{const r=()=>{ef(t)&&n(!0)},i=new MutationObserver(r);return i.observe(document,{childList:!0,subtree:!0}),r(),()=>{i.disconnect()}},[t]),e}const NS=y.forwardRef((t,e)=>{const{scriptOptions:n,options:r={},siteKey:i,onWidgetLoad:s,onSuccess:a,onExpire:o,onError:l,onBeforeInteractive:d,onAfterInteractive:u,onUnsupported:h,onLoadScript:p,id:f,style:g,as:m="div",injectScript:w=!0,...v}=t,C=r.size??"normal",[_,E]=y.useState(r.execution==="execute"?ps.invisible:r.appearance==="interaction-only"?ps.interactionOnly:ps[C]),x=y.useRef(null),b=y.useRef(!1),[k,S]=y.useState(),[I,$]=y.useState(!1),A=f??Tme,N=w?(n==null?void 0:n.id)||`${Xp}__${A}`:(n==null?void 0:n.id)||Xp,O=Nme(N),D=n!=null&&n.onLoadCallbackName?`${n.onLoadCallbackName}__${A}`:`${DS}__${A}`,M=y.useMemo(()=>({sitekey:i,action:r.action,cData:r.cData,callback:a,"error-callback":l,"expired-callback":o,"before-interactive-callback":d,"after-interactive-callback":u,"unsupported-callback":h,theme:r.theme??"auto",language:r.language??"auto",tabindex:r.tabIndex,"response-field":r.responseField,"response-field-name":r.responseFieldName,size:Dme(C),retry:r.retry??"auto","retry-interval":r.retryInterval??8e3,"refresh-expired":r.refreshExpired??"auto",execution:r.execution??"render",appearance:r.appearance??"always"}),[i,r,a,l,o,C,d,u,h]),B=y.useMemo(()=>JSON.stringify(M),[M]);return y.useImperativeHandle(e,()=>{if(typeof window>"u"||!O)return;const{turnstile:U}=window;return{getResponse(){if(!(U!=null&&U.getResponse)||!k){console.warn("Turnstile has not been loaded");return}return U.getResponse(k)},reset(){if(!(U!=null&&U.reset)||!k){console.warn("Turnstile has not been loaded");return}r.execution==="execute"&&E(ps.invisible);try{U.reset(k)}catch(L){console.warn(`Failed to reset Turnstile widget ${k}`,L)}},remove(){if(!(U!=null&&U.remove)||!k){console.warn("Turnstile has not been loaded");return}S(""),E(ps.invisible),U.remove(k)},render(){if(!(U!=null&&U.render)||!x.current||k){console.warn("Turnstile has not been loaded or widget already rendered");return}const L=U.render(x.current,M);return S(L),r.execution!=="execute"&&E(ps[C]),L},execute(){if(r.execution==="execute"){if(!(U!=null&&U.execute)||!x.current||!k){console.warn("Turnstile has not been loaded or widget has not been rendered");return}U.execute(x.current,M),E(ps[C])}},isExpired(){if(!(U!=null&&U.isExpired)||!k){console.warn("Turnstile has not been loaded");return}return U.isExpired(k)}}},[O,k,r.execution,C,M,x]),y.useEffect(()=>(window[D]=()=>$(!0),()=>{delete window[D]}),[D]),y.useEffect(()=>{w&&!I&&Pme({onLoadCallbackName:D,scriptOptions:{...n,id:N}})},[w,I,D,n,N]),y.useEffect(()=>{O&&!I&&window.turnstile&&$(!0)},[I,O]),y.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!O||!x.current||!I||b.current)return;const U=window.turnstile.render(x.current,M);S(U),b.current=!0},[O,i,M,b,I]),y.useEffect(()=>{if(window.turnstile&&x.current&&k){ef(k)&&window.turnstile.remove(k);const U=window.turnstile.render(x.current,M);S(U),b.current=!0}},[B,i]),y.useEffect(()=>{if(window.turnstile&&k&&ef(k))return s==null||s(k),()=>{window.turnstile.remove(k)}},[k,s]),y.useEffect(()=>{E(r.execution==="execute"?ps.invisible:M.appearance==="interaction-only"?ps.interactionOnly:ps[C])},[r.execution,C,M.appearance]),y.useEffect(()=>{!O||typeof p!="function"||p()},[O,p]),c.jsx(Sme,{ref:x,as:m,id:A,style:{..._,...g},...v})});NS.displayName="Turnstile";const jme=t=>{let[e,n]=y.useState("auto");return y.useEffect((()=>{let r=new ResizeObserver((i=>{var s;n(((s=i[0])==null?void 0:s.contentRect.height)??"auto")}));return t.current&&r.observe(t.current),()=>{t.current&&r.unobserve(t.current)}}),[t.current]),e};function Ome(t){let{logout:e}=y.useContext(fa);return Lc("logout",t),{logout:e}}const Rme=F.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]);function Nwe(t){let{login:e}=y.useContext(fa);return Lc("login",t),{login:e}}function vu(t){return["ethereum","solana"].includes(t.chainType)}function jS(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const OS=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),gx={[Si.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[N2.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[pa.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[P2.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[Ai.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[D2.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[is.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[T2.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Ic.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[A2.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[rs.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[S2.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},mx=({address:t,appConfig:e,fundWalletConfig:n,methodScreen:r,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{var m;let a,o;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=OS(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");a=i||(n!=null&&n.chain?n.chain.id:jS(e.fundingConfig.defaultRecommendedCurrency.chain));let d=e.chains.find((w=>w.id===a));if(!d)throw new G(`Funding chain ${a} is not in PrivyProvider chains list`);let u=(n==null?void 0:n.amount)??e.fundingConfig.defaultRecommendedAmount,h=!1;function p(){if(!a)return;let w=gx[a];l.find((v=>v.method==="wallets"))&&!w&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),o=w,h=!0}var f;n&&"asset"in n?n.asset==="USDC"?p():typeof n.asset!="string"&&"erc20"in n.asset&&(f=o=n.asset.erc20,h=f===gx[d.id]):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&p();let g=n==null?void 0:n.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:u,chain:d,erc20Address:o,erc20ContractInfo:h?{symbol:"USDC",decimals:6}:void 0,isUSDC:h,methodScreen:r,supportedOptions:l,comingFromSendTransactionScreen:s,defaultFundingMethod:g,usingDefaultFundingMethod:!!g,preferredCardProvider:(m=n==null?void 0:n.card)==null?void 0:m.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:n&&"uiConfig"in n?n.uiConfig:void 0,externalSolanaFundingScreen:null}},Mme=t=>t.reduce(((e,n)=>!e||e.walletIndex<n.walletIndex?n:e),null),Lme=async({appConfig:t,getAccessToken:e,initializeWalletProxy:n,user:r,privy:i,emitPrivyEvent:s,recoverEmbeddedWallet:a,setModalData:o,openModal:l,setUser:d,options:u,timeoutDuration:h,refreshSessionAndUser:p,chainType:f})=>{var C,_;let[g,m]=await Promise.all([n(h),e()]);if(!m||!r)throw s("createWallet","onError",Q.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!g&&((C=t.customAuth)!=null&&C.enabled))throw s("createWallet","onError",Q.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(u&&"walletIndex"in u&&typeof u.walletIndex=="number"){if(t.embeddedWallets.mode==="user-controlled-server-wallets-only")throw s("createWallet","onError",Q.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return yx({accessToken:m,appConfig:t,privy:i,emitPrivyEvent:s,openModal:l,proxy:g,refreshSessionAndUser:p,recoverEmbeddedWallet:a,setModalData:o,user:r,walletIndex:u.walletIndex,chainType:f,setUser:d})}let w=u&&"createAdditional"in u&&u.createAdditional,v=rv(r,{chainType:f});if(v[0]&&!w)throw s("createWallet","onError",Q.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return yx({accessToken:m,appConfig:t,privy:i,emitPrivyEvent:s,openModal:l,proxy:g,recoverEmbeddedWallet:a,setModalData:o,user:r,walletIndex:(((_=Mme(v))==null?void 0:_.walletIndex)??-1)+1,chainType:f,refreshSessionAndUser:p,setUser:d})};let yx=async({accessToken:t,appConfig:e,privy:n,emitPrivyEvent:r,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:a,user:o,walletIndex:l,setModalData:d,openModal:u,chainType:h,setUser:p})=>{if(l<0)throw r("createWallet","onError",Q.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let f=Zi(o);if(l>0&&!f)throw r("createWallet","onError",Q.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw r("createWallet","onError",Q.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!f&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await wx({emitPrivyEvent:r,setModalData:d,openModal:u,chainType:h});let g=rv(o,{chainType:h,walletIndex:l})[0];if(g)return{user:o,account:g};if(l===0&&!i)return wx({emitPrivyEvent:r,setModalData:d,openModal:u,chainType:h});if(!i)throw r("createWallet","onError",Q.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return S$({appConfig:e,walletIndex:l,chainType:h,user:o,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:n,recoverEmbeddedWallet:a,setUser:p})},wx=async({emitPrivyEvent:t,setModalData:e,openModal:n,chainType:r})=>new Promise(((i,s)=>{e({createWallet:{onSuccess:({user:a,account:o})=>{t("createWallet","onSuccess",{wallet:o}),i({user:a,account:o})},onFailure:a=>{t("createWallet","onError",Q.UNKNOWN_EMBEDDED_WALLET_ERROR),s(a)},callAuthOnSuccessOnClose:!1,shouldCreateEth:r==="ethereum",shouldCreateSol:r==="solana"}}),n(ga)}));const Fme=()=>{let t=Re(),e=ol(),{setModalData:n}=Le(),{initializeWalletProxy:r,recoverEmbeddedWallet:i,setUser:s,openModal:a,refreshSessionAndUser:o,privy:l,client:d}=Se();return{create:async({chainType:u,options:h,latestUser:p})=>{let f=p;if(f||(f=await o()),!f)throw e("createWallet","onError",Q.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await Lme({appConfig:t,privy:l,getAccessToken:()=>d.getAccessToken(),refreshSessionAndUser:o,initializeWalletProxy:r,user:f,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:n,openModal:a,setUser:s,options:h,timeoutDuration:Hoe,chainType:u})}}};function Ume(t){let{create:e}=Fme();return Lc("createWallet",t),{createWallet:async n=>{n&&"target"in n&&n&&(n=void 0);let{account:r}=await e({chainType:"ethereum",options:n});return r}}}const Bme=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:n,refreshSessionAndUser:r,user:i,appConfig:s},{privateKey:a,chainType:o,additionalSigners:l})=>{if(!i)throw t("linkAccount","onError",Q.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new G("User must be authenticated before linking an account.");let d=s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device";if(l&&d==="on-device")throw new G("Specifying additionalSigners is only supported for TEE execution and this app uses On-device execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");let[u,h]=await Promise.all([e(),n(15e3)]);if(!h||!u)throw t("linkAccount","onError",Q.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new G("User must be authenticated before linking an account.");let{address:p}=await h.importWallet({privateKey:a,accessToken:u,chainType:o,mode:d,additionalSigners:l}),f=await r(),g=v0(f),m=g==null?void 0:g.find((w=>w.address===p));if(!m)throw t("createWallet","onError",Q.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:m}),m},Wme=()=>{let{user:t}=wt(),{client:e,refreshSessionAndUser:n,initializeWalletProxy:r}=Se(),i=ol(),s=Re();return{importWallet:y.useCallback((({privateKey:a,additionalSigners:o})=>Bme({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:r,refreshSessionAndUser:n,emitPrivyEvent:i,appConfig:s},{privateKey:a,chainType:"ethereum",additionalSigners:o})),[t,e,n,r,i,s])}},zme=()=>{let{importWallet:t}=Wme(),{createWallet:e}=Ume();return{...y.useContext(fa),importWallet:t,createWallet:e}};function qme({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Hme=y.forwardRef(qme);function Vme({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const Kme=y.forwardRef(Vme);function Gme({title:t,titleId:e,...n},r){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Yme=y.forwardRef(Gme);class jwe{async init(){if(!this.api)throw new G("Auth flow has no API instance");let{nonce:e,expires_at:n}=await this.api.post(tL,{});return{nonce:e,expiresAt:n}}async authenticate(){if(!this.message||!this.signature||!this.fid)throw new G("Auth flow has no message, signature, or fid");if(!this.api)throw new G("Auth flow has no API instance");try{let e=await this.api.post(nL,{message:this.message,signature:this.signature,fid:this.fid});if(!e)throw new G("No response from authentication");return e}catch(e){throw yt(e)}}async link(){throw Error("Not implemented")}setAuthData({message:e,signature:n,fid:r}){this.message=e,this.signature=n,this.fid=r}constructor(){this.meta={}}}function bu(t){return t?{"privy-ui":"t"}:void 0}class Gl{async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new G("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(iL,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw yt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new G("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(sL,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw yt(e)}}async sendCodeEmail({email:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new G("Auth flow has no API instance");if(e&&(this.meta.email=e),n&&(this.meta.captchaToken=n),!this.meta.email)throw new G("Email must be set when initialzing authentication.");let i=bu(r);try{return await this.api.post(rL,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw yt(s)}}constructor({email:e,captchaToken:n,disableSignup:r}){this.meta={email:e,captchaToken:n,disableSignup:r??!1}}}class Zme extends Gl{async link(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new G("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(oL,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw yt(e)}}constructor(e,n,r){super({email:n,captchaToken:r}),this.meta={email:n,captchaToken:r,oldAddress:e,disableSignup:!1}}}class vx{get meta(){return this._meta}async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.channelToken)throw new G("Auth flow must be initialized first");try{let e=await this.api.post(ZM,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new G("No response from authentication");return e}catch(e){throw yt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(JM,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw yt(e)}}async _startChannelOnce(){if(!this.api)throw new G("Auth flow has no API instance");let e=await this.api.post(YM,{token:this.captchaToken});It.isMobile&&!It.isIOS&&e.connect_uri&&kk(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new G("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.channelToken)throw new G("Auth flow must be initialized first");let e=await this.api.get(QM,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,n=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new yr(this._startChannelOnce.bind(this)),this.pollForReady=new yr(this._pollForReady.bind(this)),this._meta.disableSignup=n}}function Sv(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function RS(){var e;if(!Sv())return;let t=window.chrome;return(e=t==null?void 0:t.runtime)==null?void 0:e.id}function h2(){var e;if(!Sv())return!1;let t=window.chrome;return typeof((e=t==null?void 0:t.identity)==null?void 0:e.launchWebAuthFlow)=="function"}async function bx(t){return new Promise(((e,n)=>{h2()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async r=>{try{let i=(function(){var u,h;if(!Sv())return;let d=window.chrome;return(h=(u=d==null?void 0:d.runtime)==null?void 0:u.lastError)==null?void 0:h.message})();if(i||!r){let d=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(d)}let s=new URL(r),a=RS();if(!a)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==a)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let d=s.hostname.split(".");if(d.length!==3||d[1]!=="chromiumapp"||d[2]!=="org"||d[0]!==a)throw Error("Invalid responseUri origin")}}let o=s.searchParams.get("privy_oauth_state"),l=s.searchParams.get("privy_oauth_code");if(!o||!l)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:o,privyOAuthCode:l})}catch(i){n(i)}})):n(Error("Chrome identity API not available"))}))}class Ll{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new G("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new G("User denied confirmation during OAuth flow");let e=Koe();try{let n=await this.api.post(LC,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return qe.del(wd),qe.del(Up),qe.del(Dd),n}catch(n){let r=yt(n);throw r.privyErrorCode?new G(r.message||"Invalid code during OAuth flow.",void 0,r.privyErrorCode):r.message==="User denied confirmation during OAuth flow"?new G("Invalid code during oauth flow.",void 0,Q.OAUTH_USER_DENIED):new G("Invalid code during OAuth flow.",void 0,Q.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new G("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new G("User denied confirmation during OAuth flow");let e=qe.get(wd);if(!e)throw new G("Authentication error.");try{let n=await this.api.post(FC,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return qe.del(wd),n}catch(n){throw yt(n)}}async getAuthorizationUrl(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.provider)throw new G("Provider must be set when initializing OAuth authentication.");let e=eg();qe.put(wd,e);let n=Ww();qe.put(Fp,n);let r=await zw(e);this.meta.withPrivyUi||qe.put(Up,!0),this.meta.disableSignup?qe.put(Dd,!0):qe.del(Dd);let i=bu(this.meta.withPrivyUi),s=window.location.href,a=(function(){let o=RS();if(o)return`https://${o}.chromiumapp.org`})();a&&(s=a);try{return await this.api.post(MC,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:r,state_code:n},{headers:{...i}})}catch(o){throw yt(o)}}constructor(e){this.meta=e}}const Jme=({style:t})=>c.jsx(k7,{style:{color:"var(--privy-color-error)",...t}});let xx={google:{name:"Google",component:Nk},discord:{name:"Discord",component:Pk},github:{name:"Github",component:Dk},linkedin:{name:"LinkedIn",component:Rk},twitter:{name:"Twitter",component:Fk},spotify:{name:"Spotify",component:Mk},instagram:{name:"Instagram",component:jk},tiktok:{name:"Tiktok",component:Lk},line:{name:"LINE",component:Ok},apple:{name:"Apple",component:Tk}};const F1=t=>t in xx?xx[t]:{name:"Unknown",component:Jme};function Qme(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),n=t.get("privy_oauth_state"),r=t.get("privy_oauth_provider");if(!e||!n||!r)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:n,provider:r,withPrivyUi:!qe.get(Up),popupFlow:window.opener!==null&&i,disableSignup:!!qe.get(Dd)}}class Ol{async initRegisterFlow(e){if(!this.api)throw new G("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new G("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new G("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var n,r;let e=await za(()=>import("./class-map-DSkJZd-J.js").then(i=>i.i),__vite__mapDeps([4,3,1,2]));if(!this.api)throw new G("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new G("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(kL,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new G("Passkey request timed out or rejected by user.",void 0,Q.PASSKEY_NOT_ALLOWED):yt(i)}}async authenticate(){var r,i,s;if(this.authenticateForRegistration)return this.register();let e=await za(()=>import("./class-map-DSkJZd-J.js").then(a=>a.i),__vite__mapDeps([4,3,1,2]));if(!this.api)throw new G("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new G("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let n=((r=this.meta.allowedCredentialsIds)==null?void 0:r.map((a=>({type:"public-key",id:a}))))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let a=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:n}));return(s=(i=this.meta).setPasskeyAuthState)==null||s.call(i,{status:"submitting-response"}),await this.api.post(EL,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(a)})}catch(a){throw a.name==="NotAllowedError"?new G("Passkey request timed out or rejected by user.",void 0,Q.PASSKEY_NOT_ALLOWED):yt(a)}}async link(){var n,r;let e=await za(()=>import("./class-map-DSkJZd-J.js").then(i=>i.i),__vite__mapDeps([4,3,1,2]));if(!this.api)throw new G("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new G("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(r=(n=this.meta).setPasskeyAuthState)==null||r.call(n,{status:"submitting-response"}),await this.api.post(_L,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new G("Passkey request timed out or rejected by user.",void 0,Q.PASSKEY_NOT_ALLOWED):yt(i)}}async _initRegisterOnce(e){if(!this.api)throw new G("Auth flow has no API instance");let n=bu(e);return await this.api.post(CL,{token:this.meta.captchaToken},{headers:{...n}})}async _initAuthenticateOnce(e){if(!this.api)throw new G("Auth flow has no API instance");let n=bu(e);return await this.api.post(xL,{token:this.meta.captchaToken},{headers:{...n}})}async _initLinkOnce(){if(!this.api)throw new G("Auth flow has no API instance");return await this.api.post(bL,{})}_transformInitLinkOptionsToCamelCase(e){var n,r,i,s,a,o,l,d,u;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((h=>({type:h.type,alg:h.alg}))),timeout:e.timeout,excludeCredentials:(n=e.exclude_credentials)==null?void 0:n.map((h=>({id:h.id,type:h.type,transports:h.transports}))),authenticatorSelection:{authenticatorAttachment:(r=e.authenticator_selection)==null?void 0:r.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(a=e.authenticator_selection)==null?void 0:a.user_verification},attestation:e.attestation,extensions:{appid:(o=e.extensions)==null?void 0:o.app_id,credProps:(d=(l=e.extensions)==null?void 0:l.cred_props)==null?void 0:d.rk,hmacCreateSecret:(u=e.extensions)==null?void 0:u.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var n,r,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((n=e.allow_credentials)==null?void 0:n.map((a=>({id:a.id,type:a.type,transports:a.transports}))))||[],timeout:e.timeout,extensions:{appid:(r=e.extensions)==null?void 0:r.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:n}){this.authenticateForRegistration=!1,this.initRegisterOnce=new yr(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new yr(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new yr(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:n}}}class Yl{async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new G("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(hL,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw yt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new G("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(dL,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw yt(e)}}async sendSmsCode({phoneNumber:e,captchaToken:n,withPrivyUi:r}){if(!this.api)throw new G("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),n&&(this.meta.captchaToken=n),!this.meta.phoneNumber)throw new G("phone nNumber must be set when initialzing authentication.");let i=bu(r);try{return await this.api.post(cL,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw yt(s)}}constructor({phoneNumber:e,captchaToken:n,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:n,disableSignup:r??!1}}}class Xme extends Yl{async link(){if(!this.api)throw new G("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new G("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(pL,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw yt(e)}}constructor(e,n,r){super({phoneNumber:n,captchaToken:r}),this.meta={phoneNumber:n,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}class Fa{static parse(e){try{return new Fa(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return d0(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=d0(e)}}class Av extends Fa{static parse(e){try{return new Av(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let Rl,ad;class e1e extends sl{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:Kk,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Jt("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw to(e)}}constructor(e,n,r,i,s){super("base_account",e,n,r),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new al(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[n.id].concat(e.map((a=>a.id)))},Rl?(this.proxyProvider.setWalletProvider(Rl.getProvider()),this.setBaseAccountSdk(Rl),console.log("Base Account SDK Initialized")):this.importPromise=za(()=>import("./index-BmRF13jk.js"),__vite__mapDeps([5,6,1,2])).then((({createBaseAccountSDK:a})=>{Rl=a(this.baseAccountConfig),this.proxyProvider.setWalletProvider(Rl.getProvider()),this.setBaseAccountSdk(Rl),console.log("Base Account SDK Initialized")})).catch(console.error)}}let t1e=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class n1e extends sl{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:Vk,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Jt("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw to(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",ad=fx({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(ad.getProvider())}constructor(e,n,r,i){var s,a;if(super("coinbase_wallet",e,n,r),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new al(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[n.id].concat(e.map((o=>o.id)))},this.walletClientType=((s=this.coinbaseWalletConfig.preference)==null?void 0:s.options)==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!ad){let o=((a=this.coinbaseWalletConfig.preference)==null?void 0:a.options)!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((l=>!t1e.includes(l))):[];o.length>0&&!o.every((l=>hC.has(l)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${o.join(", ")}`),ad=fx(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(ad.getProvider())}}class Cx extends sl{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[Ry((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:Jk,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:n,defaultChain:r,rpcConfig:i,imported:s,walletIndex:a}){super("privy",n,r,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=a,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const r1e=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class ji extends Error{constructor(e,n,r){super(e),this.code=n,this.data=r}}class _x extends Zo{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new ji(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Ht()||!this.address)throw new ji("Disconnected",4900);let{hash:r}=await iye(n,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new ji(`Invalid params for ${e.method}`,4200);let n=e.params[0];if(!await Ht()||!this.address)throw new ji("Disconnected",4900);let{signature:r}=await rye(n,{address:this.address});return r}handleSwitchEthereumChain(e){let n;if(!e.params||!Array.isArray(e.params))throw new ji(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")n=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new ji(`Invalid params for ${e.method}`,4200);n=e.params[0].chainId}this.chainId=Number(n),this.publicClient=vc(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",n)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let n=e.params[0],r=e.params[1],{signature:i}=await tye({message:n},{address:r});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let n=e.params[0],r=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await nye(Yh(r),{address:n});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let n={...e.params[0],chainId:Ry(this.chainId)};return await this.publicClient.estimateGas({account:n.from??this.address,...lp(n)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return Ry(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(n=>r1e.includes(n))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let n=await Ht();if(await sye({address:this.address}),!n||!this.address)throw new ji("Disconnected",4900);try{let r={method:e.method,params:e.params},i=this.walletAccount;return i&&Vr(i)?this.handleWalletApiRequest(r,i,n):(await this.walletProxy.rpc({accessToken:n,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(r){throw console.error(r),new ji("Disconnected",4900)}}}async handleWalletApiRequest(e,n,r){let i=this.privyClient;if(!i)throw new ji("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Fi(i,(async({message:a})=>this.walletProxy.signWithUserSigner({accessToken:r,message:a})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:n.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new ji(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new ji(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:n,entropyId:r,entropyIdVerifier:i,rpcConfig:s,chains:a,appId:o,chainId:l=1,walletIndex:d,privyClient:u,walletAccount:h}){super(),this.walletProxy=e,this.address=n,this.entropyId=r,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=s,this.chains=a,this.publicClient=vc(l,this.chains,s,{appId:o}),this.rpcTimeoutDuration=qw(s,"privy"),this.appId=o,this.walletIndex=d,this.privyClient=u,this.walletAccount=h}}function U1(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var i1e=0;class MS extends sl{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Jt("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw to(e)}}constructor(e,n,r,i,s){super(s||"unknown",e,n,r),this.connectorType="injected",this.proxyProvider=new al(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let a=i.provider;this.proxyProvider.setWalletProvider(a)}}var uo="__private_"+i1e+++"__walletBranding";class B1 extends sl{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return U1(this,uo)[uo]??{name:"Browser Extension",icon:Vw,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Jt("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw to(e)}}constructor(e,n,r,i,s){super(s??"unknown",e,n,r),Object.defineProperty(this,uo,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new al(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?U1(this,uo)[uo]={name:"MetaMask",icon:My,id:"io.metamask"}:s==="phantom"&&(U1(this,uo)[uo]={name:"Phantom",icon:Qk,id:"phantom"})}}class s1e extends MS{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{It.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new Jt("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw to(e)}}}class a1e extends Zo{get wallets(){let e=new Set;return this.walletConnectors.flatMap((n=>n.wallets)).sort(((n,r)=>n.connectedAt&&r.connectedAt?r.connectedAt-n.connectedAt:0)).filter((n=>{let r=`${n.address}${n.walletClientType}${n.connectorType}${n.meta.id}`;return!e.has(r)&&(e.add(r),!0)}))}async initialize(e){var r,i,s;if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let n=Zoe({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((a=>{a.forEach((({type:o,eip6963InjectedProvider:l,legacyInjectedProvider:d})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:o,providers:{eip6963InjectedProvider:l,legacyInjectedProvider:d}})}))}));for(let a of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(Kw)))!a.isInstalled&&this.walletList.includes(a.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&a.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:a.client,walletConfig:a}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&a.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new Gw({id:a.client,name:a.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),(r=this.externalWalletConfig.solana.connectors)==null||r.get().forEach(this.addSolanaWalletConnector),(s=(i=this.externalWalletConfig.solana.connectors)==null?void 0:i._setOnConnectorsUpdated)==null||s.call(i,(a=>{a==null||a.forEach(this.addSolanaWalletConnector)})),await n,this.initialized=!0}findWalletConnector(e,n,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(Xc).find((i=>i.connectorType===e&&(!r||i.wallets.some((s=>s.address===r)))))??null:this.walletConnectors.filter(Xc).find((i=>i.connectorType===e&&i.walletClientType===n&&(!r||i.wallets.some((s=>s.address===r)))))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(ng).find((n=>n.walletClientType==="unknown"?n.walletBranding.id===e:n.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}findImportedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded_imported"))}onInitialized(e){e.wallets.forEach((n=>{let r=this.storedConnections.find((i=>i.address===n.address&&i.connectorType===n.connectorType&&(n.type==="solana"&&i.walletClientType==="unknown"&&n.walletClientType==="unknown"?n.meta.id===i.id:i.walletClientType===n.walletClientType)));r&&(n.connectedAt=r.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:n,embeddedWallets:r,defaultChain:i,appId:s,privyClient:a}){let{entropyId:o,entropyIdVerifier:l}=Ui(n);for(let d of r){let u=this.findEmbeddedWalletConnectors().find((h=>h.walletIndex===d.walletIndex));if(u&&Xc(u))u.proxyProvider.walletProxy=e;else{let h=new Cx({provider:new _x({walletProxy:e,address:d.address,entropyId:o,entropyIdVerifier:l,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:d.walletIndex,privyClient:a,walletAccount:d}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:d.walletIndex});this.addWalletConnector(h)}}}addImportedWalletConnector(e,n,r,i){let s=this.findWalletConnector("embedded_imported","privy",n);if(s&&Xc(s))s.proxyProvider.walletProxy=e;else{let a=new Cx({provider:new _x({walletProxy:e,address:n,entropyId:n,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(a)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=Zh(),this.emit("walletsUpdated")}removeImportedWalletConnectors(){let e=this.findImportedWalletConnectors();e.length&&(e.forEach((n=>{let r=this.walletConnectors.indexOf(n);this.walletConnectors.splice(r,1)})),this.storedConnections=Zh(),this.emit("walletsUpdated"))}async createEthereumWalletConnector({connectorType:e,walletClientType:n,providers:r,walletConfig:i}){let s=this.findWalletConnector(e,n);if(s&&Xc(s))return s instanceof ic&&s.resetConnection(n),s;let a=e!=="injected"?e==="coinbase_wallet"?new n1e(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new e1e(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new ic({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:n}):i?new Hw({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:n==="metamask"&&(r!=null&&r.eip6963InjectedProvider)?new s1e(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,"metamask"):n==="metamask"&&(r!=null&&r.legacyInjectedProvider)?new B1(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"metamask"):n==="phantom"&&(r!=null&&r.legacyInjectedProvider)?new B1(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider,"phantom"):r!=null&&r.legacyInjectedProvider&&n==="unknown_browser_extension"?new B1(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.legacyInjectedProvider):r!=null&&r.eip6963InjectedProvider?new MS(this.chains,this.defaultChain,this.rpcConfig,r==null?void 0:r.eip6963InjectedProvider,n):void 0;return a&&this.addWalletConnector(a),a||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((n=>{console.debug("Failed to initialize connector",n)}))}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,n,r,i,s,a,o,l,d,u,h,p){super(),this.addSolanaWalletConnector=async f=>{let g=this.findSolanaWalletConnector(f.walletClientType);if(!g||g.connectorType==="null"){if((g==null?void 0:g.connectorType)==="null"){let m=this.walletConnectors.indexOf(g);this.walletConnectors.splice(m,1)}this.addWalletConnector(f)}},this.privyAppId=e,this.walletConnectCloudProjectId=n,this.rpcConfig=r,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=a,this.walletList=o,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=d,this.privyAppName=u,this.walletChainType=p||"ethereum-only",this.setBaseAccountSdk=h,this.storedConnections=Zh()}}let o1e=[OC,RC,UC];class l1e{async get(e,n){try{return await this.baseFetch(e,n)}catch(r){throw yt(r)}}async post(e,n,r){try{return await this.baseFetch(e,{method:"POST",...n?{body:n}:{},...r})}catch(i){throw yt(i)}}async delete(e,n){try{return await this.baseFetch(e,{method:"DELETE",...n})}catch(r){throw yt(r)}}constructor({appId:e,appClientId:n,client:r,defaults:i}){this.appId=e,this.appClientId=n,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion=zoe,this.client=r,this.defaults=i,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=jC.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:a})=>{let o=new Headers(a.headers);o.set("privy-app-id",this.appId),this.appClientId&&o.set("privy-client-id",this.appClientId),o.set("privy-ca-id",this.clientAnalyticsId||""),o.set("privy-client",`react-auth:${this.sdkVersion}`);let l=o1e.includes(s.toString());if(!o.has("authorization")){let d=await this.client.getAccessToken({disableAutoRefresh:l});d!==null&&o.set("authorization",`Bearer ${d}`)}a.headers=o,a.retryDelay&&typeof a.retryDelay=="number"&&(a.retryDelay=3*a.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new RM}})}}let c1e=/paymaster\.biconomy\.io\/api/i,d1e={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const u1e=(t,e)=>t&&c1e.test(t)?d1e:e&&e.policy_id?{policyId:e.policy_id}:void 0,h1e=t=>{var e,n,r,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map((s=>({id:s.id,type:s.type,transports:s.transports}))))||[],timeout:t.timeout,extensions:{appid:(n=t.extensions)==null?void 0:n.app_id,credProps:(r=t.extensions)==null?void 0:r.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};class LS{async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(NL,{token:this.meta.token})}catch(e){throw yt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(jL,{token:this.meta.token})}catch(e){throw yt(e)}}constructor(e){this.meta={token:e}}}class p1e{getOrCreateGuestCredential(e){let n=Ik(e);if(Ay()){if(qe.get(n))return qe.get(n);{let r=Lo(Dy(32));return qe.put(n,r),r}}return Lo(Dy(32))}async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(OL,{guest_credential:this.meta.guestCredential})}catch(e){throw yt(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function W1(){return!(It.isSafari&&window.location.origin.startsWith("http://localhost"))}const p2=$c((()=>({identityToken:null})));function Owe(){let{identityToken:t}=p2();return{identityToken:t}}var z1,Ex=((z1={}).PRIVY="privy_access_token",z1.CUSTOMER="customer_access_token",z1);class f1e{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(Hl)}get privyAccessToken(){return this._getToken(Gh)}_getToken(e){try{let n=qe.get(e);return typeof n=="string"?Fa.throwIfNotWellFormedJwt(n):null}catch(n){return console.error(n),this.destroyLocalState(),null}}get refreshToken(){try{let e=qe.get(m1);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let n=qe.get(kh(e));if(typeof n!="string")return null;{let r=new Fa(n);return r.isExpired()?(qe.del(kh(e)),null):r.value}}catch(n){return console.error(n),null}}get mightHaveServerCookies(){try{let e=yn.get(y1);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let n=typeof this.getToken(e)=="string",r=typeof this.refreshToken=="string"&&this.refreshToken!==Voe;return this.mightHaveServerCookies||n&&r}hasActiveAccessToken(e){let n=Fa.parse(this.getToken(e));return n!==null&&!n.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,n){typeof n=="string"?qe.put(kh(e),n):qe.del(kh(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let n=await e.authenticate(),{user:r,is_new_user:i,oauth_tokens:s}=n;this.handleTokenResponse(n);let a=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Yn(r),isNewUser:i,oAuthTokens:a}}catch(n){throw console.warn("Error authenticating session"),en(n)}}_trackAuthenticateEvents(e,n){let r=(function(i){return i instanceof Gl?"email":i instanceof Yl?"sms":i instanceof nc?"siwe":i instanceof p1e?"guest":i instanceof LS?"custom_auth":i instanceof Ll?i.meta.provider:null})(e);r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:n}}),r==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let n=await e.link(),r=n.oauth_tokens,i=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:Yn(n),oAuthTokens:i}}catch(n){throw console.warn("Error linking account"),en(n)}}async _refresh(){if(!this.api)throw new G("Session has no API instance");if(!this.client)throw new G("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,n=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&n||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),r=await this.api.post(OC,n?{refresh_token:n}:{},{headers:i})}return this.handleTokenResponse(r),Yn(r.user)}catch(r){if(r instanceof Zr&&r.privyErrorCode===Q.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw en(r)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(RC,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){var n,r,i,s,a,o;if(typeof e=="string"){let l=qe.get(Hl);if(qe.put(Hl,e),!((n=this.client)!=null&&n.useServerCookies)){let d=(r=Fa.parse(e))==null?void 0:r.expiration;yn.set(q8,e,{sameSite:"Strict",secure:W1(),expires:d?new Date(1e3*d):void 0})}l!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else qe.del(Hl),yn.remove(q8),(o=(a=this.client)==null?void 0:a.onDeleteCustomerAccessToken)==null||o.call(a)}storeRefreshToken(e){var n;typeof e=="string"?(qe.put(m1,e),(n=this.client)!=null&&n.useServerCookies||yn.set(y1,"t",{sameSite:"Strict",secure:W1(),expires:30})):(qe.del(m1),yn.remove(qoe),yn.remove(y1))}storePrivyAccessToken(e){typeof e=="string"?qe.put(Gh,e):qe.del(Gh)}storeIdentityToken(e){var r,i;if(p2.setState({identityToken:e}),(r=this.client)==null?void 0:r.useServerCookies)return;qe.put(H8,e);let n=(i=Fa.parse(e))==null?void 0:i.expiration;yn.set(V8,e,{sameSite:"Strict",secure:W1(),expires:n?new Date(1e3*n):void 0})}clearIdentityToken(){qe.del(H8),p2.setState({identityToken:null}),yn.remove(V8)}constructor(){this.authenticateOnce=new yr((async e=>this._authenticate(e))),this.linkOnce=new yr((async e=>this._link(e))),this.refreshOnce=new yr(this._refresh.bind(this)),this.destroyOnce=new yr(this._destroy.bind(this))}}let q1;var g1e=0,H1="__private_"+g1e+++"__getOrGenerateClientAnalyticsId";class m1e{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:n,chains:r,defaultChain:i,store:s,walletList:a,shouldEnforceDefaultChainOnConnect:o,externalWalletConfig:l,appName:d,walletChainType:u,setBaseAccountSdk:h}){this.connectors||(this.connectors=new a1e(this.appId,e,n,r,i,s,a,o,l,d,h,u))}generateApi(){let e=new l1e({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new G("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new G("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,n){this.session.storeProviderAccessToken(e,n)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((n=>n.type==="cross_app")).forEach((n=>{this.storeProviderAccessToken(n.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(TL,{action:"verify"})}catch(e){throw yt(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(PL,{});return h1e(e.options)}catch(e){throw yt(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(n){console.error("Error fetching cross app provider details",n)}}async acceptTerms(){try{let e=await this.api.post(DL,{});return Yn(e)}catch(e){throw en(e)}}async unlinkEmail(e){try{let n=await this.api.post(aL,{address:e});return await this.getAuthenticatedUser()??Yn(n)}catch(n){throw en(n)}}async unlinkPhone(e){try{let n=await this.api.post(uL,{phoneNumber:e});return await this.getAuthenticatedUser()??Yn(n)}catch(n){throw en(n)}}async unlinkEthereumWallet(e){try{let n=await this.api.post(WM,{address:e});return await this.getAuthenticatedUser()??Yn(n)}catch(n){throw en(n)}}async unlinkSolanaWallet(e){try{let n=await this.api.post(KM,{address:e});return await this.getAuthenticatedUser()??Yn(n)}catch(n){throw en(n)}}async unlinkOAuth(e,n){try{let r=await this.api.post(gL,{provider:e,subject:n});return await this.getAuthenticatedUser()??Yn(r)}catch(r){throw en(r)}}async unlinkFarcaster(e){try{let n=await this.api.post(XM,{fid:e});return await this.getAuthenticatedUser()??Yn(n)}catch(n){throw en(n)}}async unlinkTelegram(e){try{let n=await this.api.post(SL,{telegram_user_id:e});return await this.getAuthenticatedUser()??Yn(n)}catch(n){throw en(n)}}async revokeDelegatedWallet(){try{await this.api.post(FL,{})}catch(e){throw en(e)}}async createAnalyticsEvent({eventName:e,payload:n,timestamp:r,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(UC,{event_name:e,client_id:this.clientAnalyticsId,payload:{...n||{},clientTimestamp:r?r.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(RL,e)}catch(n){throw en(n)}}async initCoinbaseOnRamp(e){try{return this.api.post(ML,e)}catch(n){throw en(n)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${LL}?partnerUserId=${e}`)}catch(n){throw en(n)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(Ex.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(Ex.PRIVY,e)}async _getToken(e,n){var r;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((r=Av.parse(this.session.getToken(e)))==null?void 0:r.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(n!=null&&n.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},n=this.session.token;n&&(e.authorization=`Bearer ${n}`);let r=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return r.enabled?{enabled:r.enabled,smartWalletVersion:r.smart_wallet_version,smartWalletType:r.smart_wallet_type,configuredNetworks:r.configured_networks.map((i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:u1e(i.paymaster_url,i.paymaster_context)})))}:{enabled:r.enabled}}catch(e){throw en(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:n}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${n}`)}catch{return void console.error(`Unable to fetch token metadata for ${n}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(n){throw console.error("Unable to fetch Farcaster signer status"),n}}async generateSiweNonce({address:e,captchaToken:n}){try{return(await this.api.post(LM,{address:e,token:n})).nonce}catch(r){throw en(r)}}async authenticateWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a}){return await this.api.post(FM,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s,mode:a})}async linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){return await this.api.post(UM,{message:e,signature:n,chainId:r,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:n,smartWalletType:r,smartWalletVersion:i}){try{let s=await this.api.post(BM,{message:e,signature:n,smart_wallet_type:r,smart_wallet_version:i});return Yn(s)}catch(s){throw en(s)}}async linkWithSiwe({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s}){try{let a=await this.linkWithSiweInternal({message:e,signature:n,chainId:r,walletClientType:i,connectorType:s});return Yn(a)}catch(a){throw en(a)}}async generateSiwsNonce({address:e,captchaToken:n}){try{return(await this.api.post(qM,{address:e,token:n})).nonce}catch(r){throw en(r)}}async authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){return await this.api.post(HM,{message:e,signature:n,walletClientType:r,connectorType:i,mode:s,message_type:a})}async authenticateWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a="plain"}){let o=await this.authenticateWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,mode:s,messageType:a});this.session.handleTokenResponse(o);let l=Yn(o.user);if(!l)throw Error("Authentication failed - no user returned");return{user:l,isNewUser:o.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:n,accountType:r,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:a,farcasterEmbeddedAddress:o,oAuthUserInfo:l}){try{let d,u;switch(r){case"email":d=lL,u={nonce:e,email:n};break;case"sms":d=fL,u={nonce:e,phoneNumber:n};break;case"siwe":if(d=zM,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:n,...i};break;case"farcaster":d=eL,u={nonce:e,farcaster_id:n,farcaster_embedded_address:o};break;case"telegram":d=AL,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:a};break;case"siws":d=GM,u={nonce:e,address:n,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:d=mL,u={nonce:e,userInfo:l}}let h=await this.api.post(d,u);return await this.getAuthenticatedUser()??Yn(h)}catch(d){throw en(d)}}async linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){return await this.api.post(VM,{message:e,signature:n,walletClientType:r,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s="plain"}){try{let a=await this.linkWithSiwsInternal({message:e,signature:n,walletClientType:r,connectorType:i,messageType:s});return Yn(a)}catch(a){throw en(a)}}async updateUserAndIdToken(){try{let e=await this.api.get(UL);return this.session.updateIdentityToken(e.identity_token),Yn(e.user)}catch(e){throw en(e)}}async scanTransaction(e){try{return await this.api.post(BL,e)}catch(n){throw en(n)}}constructor({apiUrl:e=Ty,appId:n,appClientId:r,timeout:i=Woe}){Object.defineProperty(this,H1,{value:y1e}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==Ty&&e.startsWith("https://privy."),this.timeout=i,this.appId=n,this.appClientId=r,this.clientAnalyticsId=(function(s,a){if(!Object.prototype.hasOwnProperty.call(s,a))throw TypeError("attempted to use private field on non-instance");return s})(this,H1)[H1](),q1||(q1=new f1e),this.session=q1,this.api=this.generateApi(),this.session.client=this}}function y1e(){if(typeof window>"u")return null;try{let e=qe.get(Py);if(typeof e=="string"&&e.length>0)return e}catch{}let t=f0();try{return qe.put(Py,t),t}catch{return t}}const w1e=({delayedExecution:t,...e})=>{let{enabled:n,siteKey:r,appId:i,setError:s,setToken:a,setExecuting:o,ref:l}=Lr(),[,d]=y.useMemo((()=>(r==null?void 0:r.split("t:"))||[]),[r]);if(y.useEffect((()=>{var u;return(u=l.current)==null?void 0:u.remove}),[]),!n)return null;if(!d)throw Error("Unsupported captcha site key");return c.jsx("div",{className:"hidden h-0 w-0",children:c.jsx(NS,{...e,ref:l,siteKey:d,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{var u;(u=e.onUnsupported)==null||u.call(e),console.warn("Browser does not support Turnstile.")},onError:()=>{var u;(u=e.onError)==null||u.call(e),s("Captcha failed"),o(!1)},onSuccess:u=>{var h;(h=e.onSuccess)==null||h.call(e,u),a(u),o(!1)},onExpire:()=>{var u,h;(u=e.onExpire)==null||u.call(e);try{(h=l.current)==null||h.reset(),s(void 0),a(void 0)}catch{s("expired_and_failed_reset")}}})})};function v1e(t){Lc("configureMfa",t)}const Tv=F.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Nr=F.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),mi=F.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),Yo=F.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),Sg=F.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),Ro=F.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),Mo=F.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),Fl=F.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),FS=F.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),V1=F.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),K1=F.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),G1=F.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),kx=F.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],(t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)")),Y1=F.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),US=F.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),f2=F.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],(t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)")),yi=F.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),BS=F.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),WS=({handleClose:t,user:e,onSelect:n})=>c.jsxs(vt,{title:"Verify your identity",subtitle:"Choose a verification method",icon:Fo,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[c.jsxs(FS,{children:[e.mfaMethods.includes("totp")&&c.jsxs(cn,{onClick:()=>n("totp"),children:[c.jsx(Ki,{children:c.jsx(Ef,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&c.jsxs(cn,{onClick:()=>n("sms"),children:[c.jsx(Ki,{children:c.jsx(Ka,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&c.jsxs(cn,{onClick:()=>n("passkey"),children:[c.jsx(Ki,{children:c.jsx(J2,{})}),"Passkey"]},"passkey")]}),c.jsx(xn,{})]}),g2=({pendingTransaction:t})=>{let{wallets:e}=ll(),{walletProxy:n,rpcConfig:r,chains:i,appId:s,nativeTokenSymbolForChainId:a}=Se(),[o,l]=y.useState(null),[d,u]=y.useState(t),{tokenPrice:h}=Hu(d.chainId),p=a(t.chainId)||"ETH",f=y.useMemo((()=>e.find((g=>g.walletClientType==="privy"))),[e]);return y.useEffect((()=>{(async function(){if(!n||!f)return d;let g=vc(d.chainId,i,r,{appId:s}),m=await Hp(d,g,f.address);return l(Yr(BigInt(m.gas??0))),m})().then(u).catch(console.error)}),[n]),f?c.jsx(b1e,{children:c.jsx(b$,{from:f.address,to:d.to,txn:d,gas:o??void 0,tokenPrice:h,tokenSymbol:p})}):null};let b1e=F.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]);const Pv=({style:t,...e})=>c.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),zS=({hasBlockingError:t,error:e,onClose:n,onBack:r,handleSubmit:i,account:s,submitSuccess:a})=>{var l;let{pendingTransaction:o}=Se();return c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:n},"header"),c.jsx(C$,{children:c.jsxs("div",{children:[c.jsx(l$,{success:a,fail:!!e}),c.jsx(e?Jo:Pv,{style:{width:"38px",height:"38px"}})]})}),c.jsx(Nr,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),c.jsxs(Sg,{children:[c.jsxs(Mo,{children:[c.jsx(Ro,{children:c.jsx(Fo,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),c.jsxs(Mo,{children:[c.jsx(Ro,{children:c.jsx(SB,{})}),"You last added a passkey on"," ",(l=s==null?void 0:s.firstVerifiedAt)==null?void 0:l.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),o&&c.jsx(Yo,{children:c.jsx(g2,{pendingTransaction:o})}),e&&c.jsxs(c.Fragment,{children:[c.jsx(BS,{style:{marginTop:"1.25rem"},children:e.message}),c.jsx(Bt,{disabled:t,onClick:i,style:{margin:"1.25rem auto 0"},children:"Try again"})]}),r&&c.jsx(f2,{style:{marginTop:"1rem"},onClick:r,children:"Choose another method"}),c.jsx(xn,{})]})};let x1e=Array(6).fill("");var od,C1e=((od=C1e||{})[od.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",od[od.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",od);function m2(t){return/^[0-9]{1}$/.test(t)}function $x(t){return t.length===6&&t.every(m2)}const tf=({onChange:t,disabled:e,errorReasonOverride:n,success:r})=>{let[i,s]=y.useState(x1e),[a,o]=y.useState(null),[l,d]=y.useState(null),u=async p=>{var k;p.preventDefault();let f=p.currentTarget.value.replace(/\s+/g,"");if(f==="")return;let g=i.reduce(((S,I)=>S+Number(m2(I))),0),m=f.split(""),w=!m.every(m2),v=m.length+g>6;if(w)return o("Passcode can only be numbers"),void d(1);if(v)return o("Passcode must be exactly 6 numbers"),void d(1);o(null),d(null);let C=Number((k=p.currentTarget.name)==null?void 0:k.charAt(4)),_=[...f||[""]].slice(0,6-C),E=[...i.slice(0,C),..._,...i.slice(C+_.length)];s(E);let x=Math.min(Math.max(C+_.length,0),5),b=document.querySelector(`input[name=pin-${x}]`);if(b==null||b.focus(),$x(E))try{await t(E.join(""));let S=document.querySelector(`input[name=pin-${x}]`);S==null||S.blur()}catch(S){d(1),o(S.message)}else try{await t(null)}catch(S){d(1),o(S.message)}},h=r?"success":!n&&!a?"":"fail";return c.jsx(c.Fragment,{children:c.jsxs(_1e,{children:[c.jsx("div",{children:i.map(((p,f)=>c.jsx("input",{name:`pin-${f}`,type:"text",value:i[f],onChange:u,onKeyUp:g=>{g.key==="Backspace"&&(m=>{l===1&&(o(null),d(null));let w=[...i.slice(0,m),"",...i.slice(m+1)];if(s(w),m>0){let v=document.querySelector(`input[name=pin-${m-1}]`);v==null||v.focus()}$x(w)?t(w.join("")):t(null)})(f)},inputMode:"numeric",autoFocus:f===0,pattern:"[0-9]",className:h,autoComplete:It.isMobile?"one-time-code":"off",disabled:e},f)))}),c.jsx("div",{children:c.jsx(E1e,{$fail:!!n||!!a,children:n||a})})]})})};let _1e=F.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),E1e=F.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],(t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"));const qS=({selectedMethod:t,submitSuccess:e,hasBlockingError:n,onClose:r,onBack:i,handleSubmitCode:s})=>{let a=Re(),{pendingTransaction:o}=Se();switch(t){case"sms":return c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:r},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Ka,{})}),c.jsx(Nr,{children:"Enter verification code"}),c.jsxs(Yo,{children:[c.jsx(tf,{success:e,disabled:n,onChange:s}),c.jsxs(mi,{children:["To continue, please enter the 6-digit code sent to your ",c.jsx("strong",{children:"mobile device"})]}),o&&c.jsx(g2,{pendingTransaction:o})]}),i&&c.jsx(f2,{theme:a==null?void 0:a.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),c.jsx(Xi,{onClick:r,children:"Cancel"}),c.jsx(xn,{})]});case"totp":return c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:r},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Ef,{})}),c.jsx(Nr,{children:"Enter verification code"}),c.jsxs(Yo,{children:[c.jsx(tf,{success:e,disabled:n,onChange:s}),c.jsxs(mi,{children:["To continue, please enter the 6-digit code generated from your"," ",c.jsx("strong",{children:"authenticator app"})]}),o&&c.jsx(g2,{pendingTransaction:o})]}),i&&c.jsx(f2,{theme:a==null?void 0:a.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),c.jsx(Xi,{onClick:r,children:"Cancel"}),c.jsx(xn,{})]});default:return null}},nf=t=>Uce(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:nv(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:tv(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),k1e={component:()=>{let{user:t}=wt(),{data:e}=Le(),[n,r]=y.useState(t==null?void 0:t.mfaMethods[0]),[i,s]=y.useState(!1),[a,o]=y.useState(),[l,d]=y.useState();if(y.useEffect((()=>{r(t==null?void 0:t.mfaMethods[0])}),[t==null?void 0:t.mfaMethods]),!(e!=null&&e.mfaVerify))throw Error("Missing modal data for MFA verification screen.");let{onFailure:u,onSuccess:h,generateOptions:p,verifyTotpCode:f,verifyPasskey:g,verifySmsCode:m,sendSmsCode:w}=e.mfaVerify,v=async x=>{if(x!=="passkey")try{r(x),x==="sms"&&(r(x),await w()),x==="totp"&&r(x)}catch(b){console.error(b)}else try{r(x);let b=await p();if(!b)throw Error("something went wrong");o(b),await g(b),s(!0),d(void 0),h()}catch(b){d(nf(b))}},C=async x=>{d(void 0);try{if(!x||!n)return;if(n==="passkey"){if(!a)throw Error("Missing passkey challenge");await g(a)}else n==="sms"?await m(x):n==="totp"&&await f(x);d(void 0),s(!0),h()}catch(b){throw nf(b).error}},_=()=>{l||!i?u((l==null?void 0:l.error)??Error("Canceled MFA verification.")):h()},E=y.useRef(!1);return y.useEffect((()=>{!E.current&&n&&(E.current=!0,v(n).finally((()=>{E.current=!1})))}),[open]),t?n==="passkey"?c.jsx(zS,{account:t.linkedAccounts.filter((x=>x.type==="passkey"&&x.enrolledInMfa)).sort(((x,b)=>b.firstVerifiedAt.valueOf()-x.firstVerifiedAt.valueOf()))[0],submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,error:l==null?void 0:l.error,onClose:_,onBack:()=>{r(void 0),d(void 0)},handleSubmit:()=>C(a).catch(d)}):n==="sms"||n==="totp"?c.jsx(qS,{selectedMethod:n,submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,handleSubmitCode:C,onClose:_,onBack:t.mfaMethods.length>1?()=>r(void 0):void 0}):c.jsx(WS,{user:t,onSelect:v,handleClose:_}):null}};function HS(){let{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}=y.useContext(fa);return{promptMfa:t,init:e,submit:n,cancel:r,mfaMethods:i}}const Ix=({onClose:t})=>{let{user:e}=wt(),[n,r]=y.useState((e==null?void 0:e.mfaMethods[0])??null),{init:i,cancel:s,submit:a}=HS(),[o,l]=y.useState(!1),[d,u]=y.useState(null),[h,p]=y.useState();y.useEffect((()=>{r((e==null?void 0:e.mfaMethods[0])??null)}),[e==null?void 0:e.mfaMethods]);let f=y.useRef(!1);async function g(v){p(void 0);try{if(!v||!n)return;await a(n,v),l(!0),p(void 0),t()}catch(C){throw nf(C).error}}async function m(v){if(v!=="passkey")try{r(v),await i(v)}catch(C){console.error(C)}else try{r(v);let C=await i(v);if(!C)throw Error("something went wrong");u(C),await a(v,C),l(!0),p(void 0),t()}catch(C){p(nf(C))}}y.useEffect((()=>{!f.current&&n&&(f.current=!0,m(n).finally((()=>{f.current=!1})))}),[]);let w=()=>{r(null),p(void 0),s(),t()};return e?n==="passkey"?c.jsx(zS,{account:e.linkedAccounts.filter((v=>v.type==="passkey"&&v.enrolledInMfa)).sort(((v,C)=>C.firstVerifiedAt.valueOf()-v.firstVerifiedAt.valueOf()))[0],submitSuccess:o,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,error:h==null?void 0:h.error,onClose:w,onBack:()=>{r(null),p(void 0)},handleSubmit:()=>g(d).catch(p)}):n?c.jsx(qS,{submitSuccess:o,hasBlockingError:(h==null?void 0:h.isBlocking)??!1,handleSubmitCode:g,selectedMethod:n,onClose:w,onBack:e.mfaMethods.length>1?()=>r(null):void 0}):c.jsx(WS,{user:e,onSelect:m,handleClose:w}):null},xu=$c((()=>({inProgressMfaFlow:void 0}))),$1e=rU([":root{","};"],(t=>I1e(t.palette))),I1e=t=>Ln(["",""],Object.entries((function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t)).map((([e,n])=>`${e}: ${n};`)).join(`
`)),Sx=F.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),S1e=({children:t,open:e,onClick:n,...r})=>c.jsx(pk,{show:e,as:Ie.Fragment,children:c.jsxs(goe,{onClose:n,...r,as:T1e,children:[c.jsx(fu,{as:Ie.Fragment,enterFrom:"entering",leaveTo:"leaving",children:c.jsx(A1e,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),c.jsx(P1e,{children:c.jsx(fu,{as:Ie.Fragment,enterFrom:"entering",leaveTo:"leaving",children:c.jsx(fk,{as:D1e,children:t})})})]})});let A1e=F.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),T1e=F.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),P1e=F.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const D1e=F.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),N1e=F.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let VS=()=>{let{ready:t,isModalOpen:e}=wt(),{headless:n}=Re(),{currentScreen:r}=Le(),{status:i,execute:s,reset:a,enabled:o}=Lr(),l=xu((h=>h.inProgressMfaFlow)),d=()=>xu.setState({inProgressMfaFlow:void 0}),u=e&&r&&r.isCaptchaRequired&&!n&&i==="ready";return y.useEffect((()=>{u&&s()}),[u]),y.useEffect((()=>{!e&&o&&a()}),[e,o]),r&&!t&&r.isShownBeforeReady?c.jsxs(c.Fragment,{children:[c.jsx(ut,{}),c.jsx(Rs,{}),c.jsx(N1e,{children:c.jsx(ki,{})}),c.jsx(ss,{}),c.jsx(xn,{})]}):r||l!=="txn"?r?c.jsxs(c.Fragment,{children:[c.jsx(xc,{$if:!!l,children:c.jsx(r.component,{})}),l==="txn"&&c.jsx(Ix,{onClose:d}),l==="auth"&&c.jsx(k1e.component,{})]}):null:c.jsx(Ix,{onClose:d})},j1e=()=>{let t=y.useRef(null);return c.jsx(R1e,{style:{height:jme(t)},id:"privy-modal-content",children:c.jsx("div",{ref:t,children:c.jsx(VS,{})})})};const O1e=({open:t})=>{let e=Re(),{gracefulClosePrivyModal:n}=(()=>{let{closePrivyModal:i}=Se(),{onUserCloseViaDialogOrKeybindRef:s}=Le();return{gracefulClosePrivyModal:y.useCallback((()=>{if(!(s!=null&&s.current))return i({shouldCallAuthOnSuccess:!1});s.current()}),[i])}})(),r=xu((i=>i.inProgressMfaFlow));return v1e({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||xu.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?c.jsx(Sx,{children:c.jsx(KS,{id:"privy-modal-content",children:c.jsx(VS,{})})}):c.jsx(S1e,{open:!(!t&&!r),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>n(),children:c.jsx(Sx,{children:c.jsx(j1e,{})})})};let KS=F.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),R1e=F(KS).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function M1e(t){let e=y.useRef(null),n=y.useRef();return y.useEffect((()=>{var r,i;(r=n.current)==null||r.remove(),n.current=(function({botUsername:s,scriptHost:a}){let o=document.createElement("script"),{origin:l}=new URL(a);return o.async=!0,o.src=`${l}/js/telegram-login.js`,o.setAttribute("data-telegram-login",s),o.setAttribute("data-request-access","write"),o.setAttribute("data-lang","en"),o})(t),(i=e.current)==null||i.after(n.current)}),[t]),c.jsx("div",{ref:e,hidden:!0})}const L1e=()=>{let{ready:t}=ll(),{client:e}=Se();return y.useEffect((()=>{var r;let n=()=>{if(!e.connectors||!t)return;let i=e.connectors.wallets.map((s=>({address:s.address,connectorType:s.connectorType,walletClientType:s.walletClientType,connectedAt:s.connectedAt,id:s.meta.id})));qe.put(Sk,i)};return(r=e.connectors)==null||r.on("walletsUpdated",n),()=>{var i;(i=e.connectors)==null||i.off("walletsUpdated",n)}}),[t,e.connectors]),null};async function di(t,e,n,r,i,s=!1){var d,u,h;let a=s,o=async p=>{var f;if(a&&e&&e.length>0){p===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):(f=r.current)==null||f.reject(new pn("missing_or_invalid_mfa","MFA verification failed, retry."));let g=await new Promise(((m,w)=>{n.current={resolve:m,reject:w},setTimeout((()=>{var C;let v=new pn("mfa_timeout","Timed out waiting for MFA code");(C=r.current)==null||C.reject(v),w(v)}),3e5)}));return await t(g)}return await t()},l=null;for(let p=0;p<4;p++)try{l=await o(p),(d=r.current)==null||d.resolve(void 0);break}catch(f){if(f.type!=="missing_or_invalid_mfa")throw(u=r.current)==null||u.resolve(void 0),f;a=!0}if(l===null){let p=new pn("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(h=r.current)==null||h.reject(p),p}return l}var Ax;let F1e=(Ax=0,()=>"id-"+Ax++);function Nn(t){return t.error!==void 0}let kn=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let n=this.callbacks[e];if(!n)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return n;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},Z1=new Map,U1e=(t,e)=>typeof e=="bigint"?e.toString():e;function jn(t,e,n,r){let i=n.contentWindow;if(!i)throw Error("iframe not initialized");let s=((o,l)=>`${o}${JSON.stringify(l,U1e)}`)(t,e);if(t==="privy:wallet:create"){let o=Z1.get(s);if(o)return o}let a=new Promise(((o,l)=>{let d=F1e();kn.enqueue(d,{resolve:o,reject:l}),i.postMessage({id:d,event:t,data:e},r)})).finally((()=>{Z1.delete(s)}));return Z1.set(s,a),a}function B1e(t){let e=n$(),n=y.useRef(null),r=y.useRef(t.mfaMethods),i=ol(),[s,a]=y.useState(!1);return y.useEffect((()=>{r.current=t.mfaMethods}),[t.mfaMethods]),y.useEffect((()=>{if(!s)return;let o=n.current;if(!o)return;function l(h){var p;h&&h.origin===t.origin&&typeof(p=h.data).event=="string"&&/^privy:.+/.test(p.event)&&(function(f){switch(f.event){case"privy:iframe:ready":let g=kn.dequeue(f.event,f.id);return Nn(f)?g.reject(new pn(f.error.type,f.error.message)):g.resolve(f.data);case"privy:user-signer:sign":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:wallets:add":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:wallets:set-recovery":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:wallets:connect":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:wallets:recover":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:wallets:rpc":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:wallet:create":let m=kn.dequeue(f.event,f.id);return Nn(f)?m.reject(new pn(f.error.type,f.error.message)):m.resolve(f.data);case"privy:wallets:import":let w=kn.dequeue(f.event,f.id);return Nn(f)?w.reject(new pn(f.error.type,f.error.message)):w.resolve(f.data);case"privy:mfa:verify":let v=kn.dequeue(f.event,f.id);return Nn(f)?v.reject(new pn(f.error.type,f.error.message)):v.resolve(f.data);case"privy:mfa:init-enrollment":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:mfa:submit-enrollment":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:mfa:unenroll":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:mfa:clear":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:auth:unlink-passkey":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:solana-wallet:create":let C=kn.dequeue(f.event,f.id);return Nn(f)?C.reject(new pn(f.error.type,f.error.message)):C.resolve(f.data);case"privy:farcaster:init-signer":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:farcaster:sign":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}case"privy:delegated-actions:consent":{let _=kn.dequeue(f.event,f.id);return Nn(f)?_.reject(new pn(f.error.type,f.error.message)):_.resolve(f.data)}default:console.warn("Unsupported wallet proxy method:",f)}})(h.data)}let d={signWithUserSigner:h=>di((p=>jn("privy:user-signer:sign",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:h=>di((p=>jn("privy:wallets:add",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:h=>di((p=>jn("privy:wallets:set-recovery",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:h=>di((p=>jn("privy:wallets:connect",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:h=>di((p=>jn("privy:wallets:recover",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!h.recoveryAccessToken&&!h.recoveryPassword&&!h.recoverySecretOverride),rpc:h=>di((p=>jn("privy:wallets:rpc",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),create:h=>jn("privy:wallet:create",h,o,t.origin),importWallet:h=>jn("privy:wallets:import",h,o,t.origin),createSolana:h=>di((p=>jn("privy:solana-wallet:create",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:h=>jn("privy:delegated-actions:consent",h,o,t.origin),verifyMfa:h=>di((p=>jn("privy:mfa:verify",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:h=>di((p=>jn("privy:mfa:init-enrollment",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:h=>di((p=>jn("privy:mfa:submit-enrollment",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:h=>di((p=>jn("privy:mfa:unenroll",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:h=>jn("privy:mfa:clear",h,o,t.origin),unlinkPasskeyAccount:h=>di((p=>jn("privy:auth:unlink-passkey",{...h,...p},o,t.origin)),r.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:h=>jn("privy:farcaster:init-signer",h,o,t.origin),signFarcasterMessage:h=>jn("privy:farcaster:sign",h,o,t.origin)};window.addEventListener("message",l);let u=new AbortController;return Oy((()=>jn("privy:iframe:ready",{},o,t.origin)),{abortSignal:u.signal}).then((()=>t.onLoad(d)),((...h)=>{console.warn("Privy iframe failed to load: ",...h),t.onLoadFailed()})),()=>{window.removeEventListener("message",l),u.abort()}}),[s]),e?c.jsx("iframe",{ref:n,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>a(!0),src:v7({origin:t.origin,path:`/apps/${t.appId}/embedded-wallets`,query:{caid:t.clientAnalyticsId,client_id:t.appClientId}})}):null}const W1e=({address:t,user:e})=>{let n=e.linkedAccounts.find((r=>r.type==="wallet"&&r.walletClientType==="privy"&&r.address===t));if(!n)throw new G("Address to delegate is not associated with current user.");if(!vu(n))throw new G(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,walletIndex:n.walletIndex??0}},z1e=({address:t,user:e})=>{let n=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!n)throw new G("Address to delegate is not associated with current user.");let r=n.imported?n:Zi(e);if(!r)throw new G("Unable to determine root address for delegated address.");if(!vu(r))throw new G(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,imported:r.imported}},Tx=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),q1e=()=>{let t=Re();y.useEffect((()=>{(async e=>{let n=new URL("v3/wallets","https://explorer-api.walletconnect.com");n.searchParams.append("projectId",e);let r=await fetch(n);return r.ok?Object.values((await r.json()).listings).sort((({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch((()=>"No response."))}`),[])})(t.walletConnectCloudProjectId).then((e=>sle({listings:e}))).catch(console.error)}),[t.walletConnectCloudProjectId])},Px="popup-privy-oauth",Dx="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class H1e{async authenticate(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(LC,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw yt(e)}}async link(){if(!this.api)throw new G("Auth flow has no API instance");try{return await this.api.post(FC,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw yt(e)}}constructor({authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}){this.meta={authorizationCode:e,stateCode:n,codeVerifier:r,provider:i}}}async function GS({api:t,requesterAppId:e,providerAppId:n}){let r=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((i=>i.provider_app_id===n));if(!r)throw new G("Invalid connected app");return{name:r.provider_app_name,logoUrl:r.provider_app_icon_url||void 0,apiUrl:r.provider_app_custom_api_url,readOnly:r.read_only,customAuthAuthorizeUrl:r.provider_app_custom_auth_authorize_url,customAuthTransactUrl:r.provider_app_custom_auth_transact_url}}const Dh=async({user:t,address:e,client:n,request:r,requesterAppId:i,reconnect:s})=>{n.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:r.method}});let a=t==null?void 0:t.linkedAccounts.find((h=>h.type==="cross_app"&&(h.embeddedWallets.some((p=>p.address===e))||h.smartWallets.some((p=>p.address===e)))));if(!t||!a)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new G("Cannot request a signature with this wallet address");let o=n.getProviderAccessToken(a.providerApp.id),l=await GS({api:n.api,requesterAppId:i,providerAppId:a.providerApp.id});if(!o){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new G("Cannot transact against a read-only provider app");await s({appId:a.providerApp.id,action:"link"})&&(o=n.getProviderAccessToken(a.providerApp.id))}if(!o)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new G("Transactions require a valid token");let d=lg();if(!d)throw n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new G("Failed to initialize signature request");let u=new URL(l.customAuthTransactUrl||`${l.apiUrl}/oauth/transact`);return u.searchParams.set("token",o||""),u.searchParams.set("request",V1e(r)),d.location=u.href,new Promise(((h,p)=>{let f=setTimeout((()=>{w(),p(new G("Request timeout")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),g=setInterval((()=>{d.closed&&(w(),p(new G("User rejected request")),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),m=v=>{var C,_,E;v.data&&(((C=v.data.token)==null?void 0:C.action)==="set"&&((_=v.data.token)==null?void 0:_.value)!==void 0?n.storeProviderAccessToken(a.providerApp.id,v.data.token.value):((E=v.data.token)==null?void 0:E.action)==="clear"&&n.storeProviderAccessToken(a.providerApp.id,null),v.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&v.data.result&&(w(),h(v.data.result),n.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:r.method}})),v.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&v.data.error&&(w(),p(v.data.error),n.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:v.data.error,address:e}})))};window.addEventListener("message",m);let w=()=>{d.close(),clearInterval(g),clearTimeout(f),window.removeEventListener("message",m)}}))};let V1e=t=>JSON.stringify({content:{request:{request:y2(t,Yr)}},timestamp:Date.now(),callbackUrl:window.origin});const y2=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((n=>y2(n,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([n,r])=>[n,y2(r,e)]))):t,K1e=({passkeys:t,isLoading:e,errorReason:n,success:r,expanded:i,onLinkPasskey:s,onUnlinkPasskey:a,onExpand:o,onBack:l,onClose:d})=>c.jsx(vt,r?{title:"Passkeys updated",icon:ku,iconVariant:"success",primaryCta:{label:"Done",onClick:d},onClose:d,watermark:!0}:i?{icon:pp,title:"Your passkeys",onBack:l,onClose:d,watermark:!0,children:c.jsx(Nx,{passkeys:t,expanded:i,onUnlink:a,onExpand:o})}:{icon:pp,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:d,watermark:!0,helpText:n||void 0,children:t.length===0?c.jsx(Y1e,{}):c.jsx(G1e,{children:c.jsx(Nx,{passkeys:t,expanded:i,onUnlink:a,onExpand:o})})});let G1e=F.div.withConfig({displayName:"ContentContainer",componentId:"sc-d4c46a0c-0"})(["margin-bottom:12px;"]),Nx=({passkeys:t,expanded:e,onUnlink:n,onExpand:r})=>{let[i,s]=y.useState([]),a=e?t.length:2,o=l=>l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device";return c.jsxs("div",{children:[c.jsx(e0e,{children:"Your passkeys"}),c.jsxs(X1e,{children:[t.slice(0,a).map((l=>{var d;return c.jsxs(r0e,{children:[c.jsxs("div",{children:[c.jsx(t0e,{children:o(l)}),c.jsxs(n0e,{children:["Last used:"," ",((d=l.latestVerifiedAt??l.firstVerifiedAt)==null?void 0:d.toLocaleString())??"N/A"]})]}),c.jsx(s0e,{disabled:i.includes(l.credentialId),onClick:()=>(async u=>{s((h=>h.concat([u]))),await n(u),s((h=>h.filter((p=>p!==u))))})(l.credentialId),children:i.includes(l.credentialId)?c.jsx(ro,{}):c.jsx(XL,{size:16})})]},l.credentialId)})),t.length>2&&!e&&c.jsx(Q1e,{onClick:r,children:"View all"})]})]})},Y1e=()=>c.jsxs(mI,{style:{color:"var(--privy-color-foreground)"},children:[c.jsx(ac,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),c.jsx(ac,{children:"Takes seconds to set up and use"}),c.jsx(ac,{children:"Use your passkey to verify transactions and login to your account"})]});const Z1e={component:()=>{let{user:t,unlinkPasskey:e}=wt(),{linkWithPasskey:n,closePrivyModal:r}=Se(),i=t==null?void 0:t.linkedAccounts.filter((f=>f.type==="passkey")),[s,a]=y.useState(!1),[o,l]=y.useState(""),[d,u]=y.useState(!1),[h,p]=y.useState(!1);return y.useEffect((()=>{i.length===0&&p(!1)}),[i.length]),c.jsx(K1e,{passkeys:i,isLoading:s,errorReason:o,success:d,expanded:h,onLinkPasskey:()=>{a(!0),n().then((()=>u(!0))).catch((f=>{if(f instanceof ur){if(f.privyErrorCode===Q.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(f.privyErrorCode===Q.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")})).finally((()=>{a(!1)}))},onUnlinkPasskey:async f=>(a(!0),await e(f).then((()=>u(!0))).catch((g=>{g instanceof ur&&g.privyErrorCode===Q.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")})).finally((()=>{a(!1)}))),onExpand:()=>p(!0),onBack:()=>p(!1),onClose:()=>r()})}},YS=F.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-d4c46a0c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let J1e=Ln(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const Q1e=F.button.withConfig({displayName:"LinkButton",componentId:"sc-d4c46a0c-2"})(["",""],J1e);let X1e=F.div.withConfig({displayName:"List",componentId:"sc-d4c46a0c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),e0e=F.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-d4c46a0c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),t0e=F.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d4c46a0c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),n0e=F.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d4c46a0c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),r0e=F.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-d4c46a0c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),i0e=Ln([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),s0e=F.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-d4c46a0c-8"})(["",""],i0e);const J1=new Map([[xi,null],[Yu,"external"],[II,"external"],[$I,"external"],[SI,"external"],[Gp,"manual"],[AI,"moonpay"]]),a0e=()=>{let t=Re(),{user:e}=wt(),{client:n,refreshSessionAndUser:r,walletProxy:i}=Se();return{migrate:y.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new G("User must be authenticated before migrating wallets",Q.MUST_BE_AUTHENTICATED);let s=Zi(e);if(!s||Vr(s)||!vu(s))return{success:!0};if(!i)throw new G("Cannot connect to wallet proxy");let a=await n.getAccessToken();if(!a)throw new G("User must be authenticated before migrating wallets",Q.MUST_BE_AUTHENTICATED);let o=s.imported?[s]:e.linkedAccounts.filter((u=>u.type==="wallet"&&u.walletClientType==="privy"&&!u.imported)).filter(vu),{entropyId:l,entropyIdVerifier:d}=Ui(e,s);try{await i.connect({accessToken:a,entropyId:l,entropyIdVerifier:d})}catch(u){if(!gu(u)||s.recoveryMethod!=="privy")throw u;await i.recover({accessToken:a,entropyId:l,entropyIdVerifier:d})}return await i.createDelegatedAction({accessToken:a,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:o}),await r(),{success:!0}}),[t.embeddedWallets.mode,e,i,n,r])}},o0e=({disabled:t})=>{let{migrate:e}=a0e(),{user:n}=wt(),{walletProxy:r}=Se();return y.useEffect((()=>{!t&&n&&r&&e().catch((i=>{console.debug("Unable to migrate wallets: ",i)}))}),[n,r,t,e]),null},l0e=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),c0e=({providerApp:t,success:e,error:n,onClose:r})=>{let{title:i,subtitle:s}=y.useMemo((()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:n?{title:"Authentication failed",subtitle:n.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`}),[e,n,t.name]);return c.jsx(vt,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!n},onBack:r,watermark:!0})},d0e={component:()=>{let t=Re(),{data:e,navigate:n,setModalData:r,onUserCloseViaDialogOrKeybindRef:i}=Le(),{crossAppAuthFlow:s,updateWallets:a,closePrivyModal:o,createAnalyticsEvent:l}=Se(),{logout:d}=Ome(),[u,h]=y.useState({}),p=e==null?void 0:e.crossAppAuth,f={id:p.appId,name:p.name,logoUrl:p.logoUrl},g=new G(`There was an issue connecting your ${f.name} account. Please try again.`),m=new yr((async v=>{var C,_,E,x,b,k,S,I,$,A,N,O,D,M,B;if(p.popup)try{let U=await s({appId:v,popup:p.popup,action:p.action});h({data:U})}catch(U){if(U instanceof G)h({error:U});else if(U instanceof Zr){if(U.privyErrorCode===Q.ACCOUNT_TRANSFER_REQUIRED&&((_=(C=U.data)==null?void 0:C.data)!=null&&_.nonce))return r({accountTransfer:{nonce:(x=(E=U.data)==null?void 0:E.data)==null?void 0:x.nonce,account:(k=(b=U.data)==null?void 0:b.data)==null?void 0:k.subject,displayName:($=(I=(S=U.data)==null?void 0:S.data)==null?void 0:I.account)==null?void 0:$.displayName,linkMethod:`privy:${f.id}`,embeddedWalletAddress:(O=(N=(A=U.data)==null?void 0:A.data)==null?void 0:N.otherUser)==null?void 0:O.embeddedWalletAddress,oAuthUserInfo:(B=(M=(D=U.data)==null?void 0:D.data)==null?void 0:M.otherUser)==null?void 0:B.oAuthUserInfo}}),void n(cl);p.popup&&p.popup.close(),h({error:g})}else h({error:g})}else h({error:g})})),w=()=>{u.data&&(a(),p.onSuccess(u.data),o({shouldCallAuthOnSuccess:!0,isSuccess:!0})),p.onError(u.error??new G("User canceled flow")),o({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=w,y.useEffect((()=>{f.id.length&&m.execute(f.id)}),[f.id]),y.useEffect((()=>{if(!u.data)return;let v=u.data;if(t.legal.requireUsersAcceptTerms&&!v.hasAcceptedTerms){let _=setTimeout((()=>{n(dl)}),an);return()=>clearTimeout(_)}if(so(v,t.embeddedWallets)){let _=setTimeout((()=>{r({createWallet:{onSuccess:()=>{},onFailure:E=>{console.error(E),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:E,provider:`privy:${f.id}`,screen:"CrossAppAuthScreen"}}),d()},callAuthOnSuccessOnClose:!0}}),n(ga)}),an);return()=>clearTimeout(_)}let C=setTimeout(w,an);return()=>clearTimeout(C)}),[u.data]),c.jsx(c0e,{providerApp:f,success:!!u.data,error:u.error,onClose:w})}},u0e=({appName:t,address:e,success:n,error:r,onAccept:i,onDecline:s,onClose:a})=>c.jsx(vt,n||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:r?WC:ku,iconVariant:r?"error":"success",onBack:a,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:YL,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:a,watermark:!0,children:c.jsx(bg,{address:e,title:"Wallet"})}),h0e={component:()=>{let{data:t}=Le(),e=Re(),{closePrivyModal:n}=Se(),[r,i]=y.useState(!1),[s,a]=y.useState(),{address:o,onDelegate:l,onSuccess:d,onError:u}=t.delegatedActions.consent,h=async()=>{r?d():u(s??new G("User declined delegating actions.")),n({shouldCallAuthOnSuccess:!1})};return y.useEffect((()=>{if(!r&&!s)return;let p=setTimeout(h,$k);return()=>clearTimeout(p)}),[r,s]),c.jsx(u0e,{appName:e.name,address:o,success:r,error:s,onAccept:async()=>{try{await l(),i(!0)}catch(p){a(p)}},onDecline:()=>{h()},onClose:h})}},p0e=({appName:t,success:e,error:n,onRevoke:r,onDeny:i,onClose:s})=>c.jsx(vt,e||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":"You've successfully revoked permissions.",icon:n?WC:ku,iconVariant:n?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:VL,primaryCta:{label:"Confirm",onClick:r},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),f0e={component:()=>{let{data:t}=Le(),e=Re(),{closePrivyModal:n}=Se(),[r,i]=y.useState(!1),[s,a]=y.useState(),{onRevoke:o,onSuccess:l,onError:d}=t.delegatedActions.revoke,u=async()=>{r?l():d(s??new G("User declined revoking access to their delegated wallet.")),n({shouldCallAuthOnSuccess:!1})};return y.useEffect((()=>{if(!r&&!s)return;let h=setTimeout(u,$k);return()=>clearTimeout(h)}),[r,s]),c.jsx(p0e,{appName:e.name,success:r,error:s,onRevoke:async()=>{try{await o(),i(!0)}catch(h){a(h)}},onDeny:()=>{u()},onClose:u})}};let jx="#8a63d2";const g0e=({appName:t,loading:e,success:n,errorMessage:r,connectUri:i,onBack:s,onClose:a,onOpenFarcaster:o})=>c.jsx(vt,It.isMobile||e?It.isIOS?{title:r?r.message:"Add a signer to Farcaster",subtitle:r?r.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:Oo,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},primaryCta:i&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:s,onClose:a,watermark:!0}:{title:r?r.message:"Requesting signer from Farcaster",subtitle:r?r.detail:"This should only take a moment",icon:Oo,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},onBack:s,onClose:a,watermark:!0,children:i&&It.isMobile&&c.jsx(m0e,{children:c.jsx(PI,{text:"Take me to Farcaster",url:i,color:jx})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:a,watermark:!0,children:c.jsxs(y0e,{children:[c.jsx(w0e,{children:i?c.jsx(Ku,{url:i,size:275,squareLogoElement:Oo}):c.jsx(x0e,{children:c.jsx(ki,{})})}),c.jsxs(v0e,{children:[c.jsx(b0e,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&c.jsx(yv,{text:i,itemName:"link",color:jx})]})]})});let m0e=F.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-75c99bb6-0"})(["margin-top:24px;"]),y0e=F.div.withConfig({displayName:"ContentContainer",componentId:"sc-75c99bb6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),w0e=F.div.withConfig({displayName:"QrContainer",componentId:"sc-75c99bb6-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),v0e=F.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-75c99bb6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),b0e=F.div.withConfig({displayName:"InstructionText",componentId:"sc-75c99bb6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),x0e=F.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-75c99bb6-5"})(["position:relative;width:82px;height:82px;"]);const C0e={component:()=>{let{lastScreen:t,navigateBack:e,data:n}=Le(),r=Re(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=Se(),[a,o]=y.useState(void 0),[l,d]=y.useState(!1),[u,h]=y.useState(!1),p=y.useRef([]),f=n==null?void 0:n.farcasterSigner;y.useEffect((()=>{let m=Date.now(),w=setInterval((async()=>{if(!(f!=null&&f.public_key))return clearInterval(w),void o({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});f.status==="approved"&&(clearInterval(w),d(!1),h(!0),p.current.push(setTimeout((()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0})),an)));let v=await i(f==null?void 0:f.public_key),C=Date.now()-m;v.status==="approved"?(clearInterval(w),d(!1),h(!0),p.current.push(setTimeout((()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0})),an))):C>3e5?(clearInterval(w),o({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):v.status==="revoked"&&(clearInterval(w),o({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))}),2e3);return()=>{clearInterval(w),p.current.forEach((v=>clearTimeout(v)))}}),[]);let g=(f==null?void 0:f.status)==="pending_approval"?f.signer_approval_url:void 0;return c.jsx(g0e,{appName:r.name,loading:l,success:u,errorMessage:a,connectUri:g,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{g&&(window.location.href=g)}})}},_0e=({onClose:t})=>c.jsx(vt,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:w0,primaryCta:{label:"Close",onClick:t},watermark:!0}),Ox={component:()=>{let{closePrivyModal:t}=Se();return c.jsx(_0e,{onClose:()=>t()})}},E0e=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>c.jsx(vt,{title:t,subtitle:e,icon:G2,watermark:!0,children:c.jsx(f$,{children:c.jsx(BI,{stacked:!0})})}),k0e={component:()=>{let t=Re();return c.jsx(E0e,{subtitle:`Add your email to your ${t==null?void 0:t.name} account`})}},$0e=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=y.useState(null),a=async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)};return c.jsx(vt,{title:t,subtitle:e,icon:Ka,primaryCta:{label:r?"Submitting":"Submit",onClick:a,disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:c.jsx(_g,{onChange:o=>{s(o)},onSubmit:a,noIncludeSubmitButton:!0,hideRecent:!0})})},Dv={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:r}=Le(),i=Re(),{initLoginWithSms:s}=Se(),[a,o]=y.useState(!1);return c.jsx($0e,{subtitle:`Add your number to your ${i==null?void 0:i.name} account`,onSubmit:async l=>{var d;o(!0);try{await s({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),n(ua)}catch(u){r({errorModalData:{error:u,previousScreen:((d=e==null?void 0:e.errorModalData)==null?void 0:d.previousScreen)||t||Dv}}),n(dn)}finally{o(!1)}},isSubmitting:a})}},I0e=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:n="Try again",secondaryCtaText:r="Cancel",onTryAgain:i,onCancel:s})=>c.jsx(vt,{title:t,subtitle:e,icon:hf,iconVariant:"error",primaryCta:{label:n,onClick:i},secondaryCta:{label:r,onClick:s},watermark:!0}),S0e={component:()=>{let{closePrivyModal:t}=Se(),{navigate:e}=Le();return c.jsx(I0e,{onTryAgain:()=>{e(hr)},onCancel:async()=>{await t()}})}};function ZS(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:a,enrollInMfa:o}=y.useContext(fa);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:n,submitEnrollmentWithSms:r,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>a("sms"),unenrollWithTotp:()=>a("totp"),unenrollWithPasskey:l=>a("passkey",l),showMfaEnrollmentModal:()=>o(!0),closeMfaEnrollmentModal:()=>o(!1)}}const A0e=t=>c.jsxs(T0e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[c.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),c.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let T0e=F.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],(t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);"));const P0e=({showIntro:t,userMfaMethods:e,appMfaMethods:n,userHasAuthSms:r,isTotpLoading:i,isPasskeyLoading:s,error:a,onClose:o,onBackToIntro:l,handleSelectMethod:d,setRemovingMfaMethod:u})=>{let h=e.reduce(((f,g)=>({...f,[g]:!0})),{}),p=n.reduce(((f,g)=>({...f,[g]:!0})),{});return c.jsxs(c.Fragment,{children:[c.jsx(ut,{backFn:t?l:void 0,onClose:o},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Fo,{})}),c.jsx(Nr,{children:"Choose a verification method"}),e.length>0?c.jsx(mi,{children:"To add or delete verification methods, verification is required."}):c.jsx(mi,{children:"How would you like to verify your identity?"}),a&&c.jsx(BS,{style:{marginTop:"1.25rem"},children:a.message}),c.jsxs(FS,{children:[(p.passkey||h.passkey)&&c.jsxs(V1,{children:[c.jsx(cn,{style:{justifyContent:"center"},onClick:()=>d("passkey"),disabled:h.passkey||s,children:s?c.jsx(ki,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):c.jsxs(Y1,{children:[c.jsxs(G1,{children:[c.jsx(J2,{}),"Passkey"]}),h.passkey?c.jsx(Q1,{color:"green",children:"Enabled"}):c.jsx(kx,{$isAccent:!0,children:c.jsx(jB,{})})]})}),h.passkey&&c.jsx(K1,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:c.jsx(Xg,{})})]},"passkey"),(p.totp||h.totp)&&c.jsxs(V1,{children:[c.jsx(cn,{style:{justifyContent:"center"},disabled:h.totp||i,onClick:()=>d("totp"),children:i?c.jsx(ki,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):c.jsxs(Y1,{children:[c.jsxs(G1,{children:[c.jsx(Ef,{}),"Authenticator app"]}),h.totp&&c.jsx(Q1,{color:"green",children:"Enabled"})]})}),h.totp&&c.jsx(K1,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:c.jsx(Xg,{})})]},"totp"),(p.sms||h.sms)&&c.jsxs(V1,{children:[c.jsx(cn,{disabled:h.sms||r,onClick:()=>d("sms"),children:c.jsxs(Y1,{children:[c.jsxs(G1,{children:[c.jsx(Ka,{}),"SMS"]}),h.sms&&c.jsx(Q1,{color:"green",children:"Enabled"}),r&&c.jsx(kx,{children:"Disabled"})]})}),h.sms&&c.jsx(K1,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:c.jsx(Xg,{})})]},"sms")]}),c.jsx(D0e,{children:"You can always change your selection later"}),c.jsx(xn,{})]})};let Q1=F(Ds).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),D0e=F(US).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const JS=({style:t,...e})=>c.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[c.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[c.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),c.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),c.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),c.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),c.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),c.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),c.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),c.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),c.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),c.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),c.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),c.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),c.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),c.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),c.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),c.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),c.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),c.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),c.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),c.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),c.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),c.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),c.jsx("defs",{children:c.jsx("clipPath",{id:"clip0_113_33841",children:c.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),N0e=({onClose:t,onReset:e,submitEnrollmentWithPasskey:n})=>{let{user:r}=wt(),{initLinkWithPasskey:i,linkWithPasskey:s}=Se(),a=Re(),[o,l]=y.useState(!1),[d,u]=y.useState(!1),[h,p]=y.useState(null),f=y.useMemo((()=>(r==null?void 0:r.linkedAccounts.filter((w=>w.type==="passkey")))??[]),[r]),g=async w=>{l(!0);try{await n(w)}catch(v){p(v)}finally{l(!1)}},m=async()=>{u(!0),p(null);try{await i();let w=await s(),v=(w==null?void 0:w.linkedAccounts.filter((C=>C.type==="passkey")).map((C=>C.credentialId)))??[];await g(v)}catch(w){p(w)}finally{u(!1)}};return f.length===0||d?c.jsx(j0e,{onReset:e,onClose:t,onClick:m,isCreating:d}):h?c.jsx(yg,{allowlistConfig:a.allowlistConfig,error:h,onBack:()=>p(null),onRetry:()=>p(null)}):c.jsx(O0e,{passkeys:f,isSubmitting:o,isCreating:d,onReset:e,onClose:t,onSubmitEnrollment:()=>g(f.map((w=>w.credentialId))),onAddPasskey:m})};let j0e=({onReset:t,onClose:e,onClick:n,isCreating:r})=>c.jsxs(c.Fragment,{children:[c.jsx(ut,{backFn:t,onClose:e},"header"),c.jsx(Tv,{children:c.jsxs(YS,{children:[c.jsx(Pv,{}),c.jsx(JS,{})]})}),c.jsx(Nr,{children:"Set up passkey verification"}),c.jsxs(Sg,{children:[c.jsxs(Mo,{children:[c.jsx(Ro,{children:c.jsx(Fo,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),c.jsxs(Mo,{children:[c.jsx(Ro,{children:c.jsx(LB,{})}),"Takes seconds to set up and use"]}),c.jsxs(Mo,{children:[c.jsx(Ro,{children:c.jsx(EB,{})}),"Use your passkey to verify transactions and login to your account"]})]}),c.jsx(Bt,{style:{marginTop:"2.25rem"},onClick:n,loading:r,children:"Add a new passkey"}),c.jsx(xn,{})]}),O0e=({onReset:t,onClose:e,onAddPasskey:n,onSubmitEnrollment:r,passkeys:i,isSubmitting:s,isCreating:a})=>{let[o,l]=y.useState(!1),d=o?i.length:i.length>3?2:3;return c.jsxs(c.Fragment,{children:[c.jsx(ut,{backFn:o?()=>l(!1):t,onClose:e},"header"),!o&&c.jsx(Tv,{children:c.jsxs(YS,{children:[c.jsx(Pv,{}),c.jsx(JS,{})]})}),c.jsx(Nr,{children:"Enable your passkeys for verification"}),c.jsxs(Sg,{children:[i.slice(0,d).map((u=>{var h;return c.jsxs(R0e,{children:[c.jsx(M0e,{children:F0e(u)}),c.jsxs(L0e,{children:["Last used: ",(h=u.latestVerifiedAt)==null?void 0:h.toLocaleString()]})]},u.credentialId)})),!o&&i.length>3&&c.jsx(Rx,{onClick:()=>l(!0),children:"View All"})]}),c.jsx(Bt,{style:{marginTop:"1.5rem"},onClick:r,loading:s,children:"Enable passkeys"}),i.length<5&&c.jsx(Rx,{style:{marginTop:"0.5rem"},onClick:n,disabled:a,children:a?c.jsx(ki,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),c.jsx(xn,{})]})},R0e=F.div.withConfig({displayName:"PasskeyItem",componentId:"sc-23451ce2-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),M0e=F.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-23451ce2-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),L0e=F.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-23451ce2-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),F0e=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const Rx=F.button.withConfig({displayName:"StyledLink",componentId:"sc-23451ce2-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),U0e=({appName:t,onComplete:e,onReset:n,onClose:r})=>{let[i,s]=y.useState(""),[a,o]=y.useState(!1),[l,d]=y.useState(null),[u,h]=y.useState("enroll"),{initEnrollmentWithSms:p,submitEnrollmentWithSms:f}=ZS(),{data:g}=Le(),m=Re();function w(){var v;(v=g==null?void 0:g.mfaEnrollmentFlow)==null||v.onSuccess(),e()}return l?c.jsx(yg,{allowlistConfig:m.allowlistConfig,error:l,onBack:()=>d(null),onRetry:()=>d(null)}):c.jsxs(c.Fragment,u==="enroll"?{children:[c.jsx(ut,{backFn:n,onClose:r},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Ka,{})}),c.jsx(Nr,{children:"Set up SMS verification"}),c.jsxs(mi,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),c.jsxs(Yo,{children:[c.jsx(_g,{onSubmit:async function({qualifiedPhoneNumber:v}){try{await p({phoneNumber:v}),s(v),h("verify")}catch(C){d(C)}},hideRecent:!0}),c.jsxs(US,{children:["By providing your mobile number, you agree to receive text messages from ",m==null?void 0:m.name,". Some carrier charges may apply"]})]}),c.jsx(xn,{})]}:a?{children:[c.jsx(ut,{onClose:w},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(_f,{})}),c.jsx(Nr,{children:"SMS verification added"}),c.jsxs(mi,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),c.jsx(Fl,{children:c.jsx(Bt,{onClick:w,children:"Done"})}),c.jsx(xn,{})]}:{children:[c.jsx(ut,{backFn:function(){u==="verify"?h("enroll"):n()},onClose:r},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Ka,{})}),c.jsx(Nr,{children:"Enter enrollment code"}),c.jsxs(Yo,{children:[c.jsx(tf,{onChange:async function(v){try{if(!v)return;await f({phoneNumber:i,mfaCode:v}),o(!0)}catch(C){throw _$(C)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):nv(C)?Error("The code you entered is not valid"):tv(C)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):E$(C)?Error("Verification canceled"):Error("Unknown error")}}}),c.jsxs(mi,{children:["To continue, enter the 6-digit code sent to ",c.jsx("strong",{children:NR(i)})]})]}),c.jsx(xn,{})]})},B0e=({size:t,authUrl:e})=>c.jsx(Ku,{url:e,squareLogoElement:Yme,size:t,fgColor:"#1F1F1F"}),W0e=({onClose:t,onReset:e,totpInfo:n,submitEnrollmentWithTotp:r,error:i})=>{let[s,a]=y.useState("enroll");return c.jsxs(c.Fragment,s==="enroll"?{children:[c.jsx(ut,{backFn:e,onClose:t},"header"),c.jsx(Ja,{children:"Scan QR code"}),c.jsx(Go,{children:"Open your authenticator app and scan this code to continue"}),c.jsx(yce,{children:c.jsx(B0e,{authUrl:n.authUrl,size:240})}),c.jsx(hv,{style:{textAlign:"left"},children:"Setup key"}),c.jsxs(vg,{style:{marginTop:"0.25rem"},children:[c.jsx(Rme,{children:"".repeat(16)}),c.jsx(yv,{itemName:" ",text:n.secret})]}),c.jsx(Bt,{style:{marginTop:"1rem"},onClick:function(){a("verify")},children:"Continue"}),c.jsx(xn,{})]}:{children:[c.jsx(ut,{backFn:function(){s==="verify"?a("enroll"):e()},onClose:t},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Ef,{})}),c.jsx(Ja,{children:"Enter enrollment code"}),c.jsx(Go,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),c.jsx(Yo,{children:c.jsx(tf,{onChange:async function(o){try{if(!o)return;await r({mfaCode:o})}catch(l){throw _$(l)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):nv(l)?Error("The code you entered is not valid"):tv(l)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):E$(l)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i==null?void 0:i.message})}),c.jsx(xn,{})]})},z0e={component:()=>{var W;let{user:t,enrollInMfa:e,ready:n}=wt(),[r,i]=y.useState(null),{unenrollWithSms:s,unenrollWithTotp:a,unenrollWithPasskey:o,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:d,submitEnrollmentWithPasskey:u,initEnrollmentWithTotp:h}=ZS(),{data:p,onUserCloseViaDialogOrKeybindRef:f}=Le(),g=Re(),{closePrivyModal:m}=Se(),{promptMfa:w}=HS(),[v,C]=y.useState(!1),[_,E]=y.useState(null),[x,b]=y.useState(null),k=()=>{m({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout((()=>{i(null),E(null)}),500)},[S,I]=y.useState(!1),[$,A]=y.useState();f.current=k;let N=t==null?void 0:t.mfaMethods.includes("sms"),O=!!(t!=null&&t.phone),D=t==null?void 0:t.mfaMethods.includes("totp"),M=t==null?void 0:t.mfaMethods.includes("passkey"),B=N||D||M,U=(t==null?void 0:t.linkedAccounts.filter((Z=>Z.type==="passkey")).map((Z=>Z.credentialId)))??[];function L(){i(null),E(null)}async function T(Z=U){var z,ie;I(!0);try{return await d(),await u({credentialIds:Z},{removeForLogin:(z=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:z.shouldUnlinkOnUnenrollMfa}),(ie=p==null?void 0:p.mfaEnrollmentFlow)==null||ie.onSuccess(),k()}catch(V){A(V)}finally{I(!1)}}if(y.useEffect((()=>{B&&C(!0)}),[B]),!n||!t||!g)return c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:k},"header"),c.jsx(Tv,{children:c.jsx(A0e,{})}),c.jsx(Yo,{children:c.jsx(ki,{})}),c.jsx(xn,{})]});if(r==="sms")return c.jsxs(c.Fragment,{children:[c.jsx(ut,{backFn:L,onClose:k},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Jl,{})}),c.jsx(Nr,{children:"Remove SMS verification?"}),c.jsxs(mi,{children:["MFA adds an extra layer of security to your ",g==null?void 0:g.name," account. Make sure you have other methods to secure your account."]}),c.jsx(Fl,{children:c.jsx(Bt,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),c.jsx(xn,{})]});if(r==="totp")return c.jsxs(c.Fragment,{children:[c.jsx(ut,{backFn:L,onClose:k},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Jl,{})}),c.jsx(Nr,{children:"Remove authenticator app verification?"}),c.jsxs(mi,{children:["MFA adds an extra layer of security to your ",g==null?void 0:g.name," account. Make sure you have other methods to secure your account."]}),c.jsx(Fl,{children:c.jsx(Bt,{$warn:!0,onClick:async function(){i(null);try{await a()}catch{i(null)}},children:"Remove"})}),c.jsx(xn,{})]});if(r==="passkey"){let Z=((W=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:W.shouldUnlinkOnUnenrollMfa)??!0;return c.jsxs(c.Fragment,{children:[c.jsx(ut,{backFn:L,onClose:k},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Jl,{})}),c.jsx(Nr,{children:"Are you sure you want to remove this passkey?"}),c.jsx(mi,{children:Z?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),c.jsx(Fl,{children:c.jsx(Bt,{$warn:!0,onClick:async function(){var z;i(null);try{await o({removeForLogin:(z=p==null?void 0:p.mfaEnrollmentFlow)==null?void 0:z.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),c.jsx(xn,{})]})}if(p.mfaEnrollmentFlow.mfaMethods.length===0&&!B)return c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:k},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Fo,{})}),c.jsx(Nr,{children:"Add more security"}),c.jsxs(mi,{children:[g==null?void 0:g.name," does not have any verification methods enabled."]}),c.jsx(Fl,{children:c.jsx(Bt,{onClick:k,children:"Close"})}),c.jsx(xn,{})]});let j=!B&&!v;return j?c.jsxs(c.Fragment,{children:[c.jsx(ut,{onClose:k},"header"),c.jsx(yi,{style:{marginBottom:"1.5rem"},children:c.jsx(Fo,{})}),c.jsx(Nr,{children:"Transaction Protection"}),c.jsx(mi,{children:"Set up transaction protection to add an extra layer of security to your account"}),c.jsxs(Sg,{children:[c.jsxs(Mo,{children:[c.jsx(Ro,{children:c.jsx(Hme,{})}),"Enable 2-Step verification for your ",g==null?void 0:g.name," wallet."]}),c.jsxs(Mo,{children:[c.jsx(Ro,{children:c.jsx(Kme,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),c.jsxs(Fl,{children:[c.jsx(Bt,{onClick:()=>C(!0),children:"Continue"}),c.jsx(Xi,{onClick:k,children:"Not now"})]}),c.jsx(xn,{})]}):_==="sms"?c.jsx(U0e,{appName:(g==null?void 0:g.name)||"Privy",onComplete:k,onReset:L,onClose:k}):_==="totp"&&x?c.jsx(W0e,{onClose:k,onReset:L,submitEnrollmentWithTotp:({mfaCode:Z})=>(async function(z){var ie;try{return A(void 0),await l({mfaCode:z}),(ie=p==null?void 0:p.mfaEnrollmentFlow)==null||ie.onSuccess(),k()}catch(V){A(V)}finally{i(null)}})(Z),totpInfo:{...x,appName:(g==null?void 0:g.name)||"Privy"}}):_==="passkey"?c.jsx(N0e,{onReset:L,onClose:k,submitEnrollmentWithPasskey:T}):c.jsx(P0e,{showIntro:j,userMfaMethods:t.mfaMethods,appMfaMethods:g.mfa.methods,userHasAuthSms:O,onBackToIntro:function(){C(!1)},handleSelectMethod:async function(Z){try{await w()}catch(z){return void A(z)}return Z==="totp"?(E(Z),b(null),void h().then((z=>{b(z)})).catch((()=>{b(null),L()}))):Z==="passkey"&&U.length===1?await T():void E(Z)},isTotpLoading:_==="totp"&&!x,isPasskeyLoading:S,error:$,onClose:k,setRemovingMfaMethod:async Z=>{try{await w()}catch(z){return void A(z)}i(Z)}})}},q0e=({providerName:t,ProviderLogo:e,success:n,errorMessage:r,onRetry:i})=>{let s=n?`Successfully connected with ${t}`:r?r.message:`Verifying connection to ${t}`;return c.jsx(vt,{title:s,subtitle:n?"You're good to go!":r?r.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!r},secondaryCta:r!=null&&r.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},Mx={component:()=>{var b;let{authenticated:t,logout:e,ready:n,user:r}=wt(),{setModalData:i,navigate:s,resetNavigation:a}=Le(),o=Re(),{getAuthMeta:l,initLoginWithOAuth:d,loginWithOAuth:u,updateWallets:h,setReadyToTrue:p,closePrivyModal:f,createAnalyticsEvent:g}=Se(),[m,w]=y.useState(!1),[v,C]=y.useState(void 0),_=((b=l())==null?void 0:b.provider)||"google",{name:E,component:x}=F1(_);return y.useEffect((()=>{u(_).then((()=>{w(!0),p(!0)})).catch((k=>{var $,A,N,O,D,M,B,U,L,T,j,W,Z,z,ie,V;if(p(!1),(k==null?void 0:k.privyErrorCode)===Q.ALLOWLIST_REJECTED)return C(void 0),a(),void s(wg);if((k==null?void 0:k.privyErrorCode)===Q.USER_LIMIT_REACHED)return console.error(new Eu(k).toString()),C(void 0),a(),void s(Gu);if((k==null?void 0:k.privyErrorCode)===Q.USER_DOES_NOT_EXIST)return C(void 0),a(),void s(Vu);if((k==null?void 0:k.privyErrorCode)===Q.ACCOUNT_TRANSFER_REQUIRED&&((A=($=k.data)==null?void 0:$.data)!=null&&A.nonce))return C(void 0),a(),i({accountTransfer:{nonce:(O=(N=k.data)==null?void 0:N.data)==null?void 0:O.nonce,account:(M=(D=k.data)==null?void 0:D.data)==null?void 0:M.subject,displayName:(L=(U=(B=k.data)==null?void 0:B.data)==null?void 0:U.account)==null?void 0:L.displayName,linkMethod:(T=l())==null?void 0:T.provider,embeddedWalletAddress:(Z=(W=(j=k.data)==null?void 0:j.data)==null?void 0:W.otherUser)==null?void 0:Z.embeddedWalletAddress,oAuthUserInfo:(V=(ie=(z=k.data)==null?void 0:z.data)==null?void 0:ie.otherUser)==null?void 0:V.oAuthUserInfo}}),void s(cl);let{retryable:S,detail:I}=(function(ee,ae){let te={detail:"",retryable:!1},he=Ak(ae);if((ee==null?void 0:ee.privyErrorCode)===Q.LINKED_TO_ANOTHER_USER&&(te.detail="This account has already been linked to another user."),(ee==null?void 0:ee.privyErrorCode)===Q.INVALID_CREDENTIALS&&(te.retryable=!0,te.detail="Something went wrong. Try again."),ee.privyErrorCode===Q.OAUTH_USER_DENIED&&(te.detail=`Retry and check ${he} to finish connecting your account.`,te.retryable=!0),(ee==null?void 0:ee.privyErrorCode)===Q.TOO_MANY_REQUESTS&&(te.detail="Too many requests. Please wait before trying again."),(ee==null?void 0:ee.privyErrorCode)===Q.TOO_MANY_REQUESTS&&ee.message.includes("provider rate limit")){let xe=F1(ae).name;te.detail=`Request limit reached for ${xe}. Please wait a moment and try again.`}if((ee==null?void 0:ee.privyErrorCode)===Q.OAUTH_ACCOUNT_SUSPENDED){let xe=F1(ae).name;te.detail=`Your ${xe} account is suspended. Please try another login method.`}return(ee==null?void 0:ee.privyErrorCode)===Q.CANNOT_LINK_MORE_OF_TYPE&&(te.detail="You cannot authorize more than one account for this user."),(ee==null?void 0:ee.privyErrorCode)===Q.OAUTH_UNEXPECTED&&ae.startsWith("privy:")&&(te.detail="Something went wrong. Please try again."),te})(k,_);C({retryable:S,detail:I,message:"Authentication failed"})})).finally((()=>{Ny()}))}),[E,_]),y.useEffect((()=>{if(n&&t&&m&&r){if(o!=null&&o.legal.requireUsersAcceptTerms&&!r.hasAcceptedTerms){let k=setTimeout((()=>{s(dl)}),an);return()=>clearTimeout(k)}if(so(r,o.embeddedWallets)){let k=setTimeout((()=>{i({createWallet:{onSuccess:()=>{},onFailure:S=>{console.error(S),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:S,provider:_,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(ga)}),an);return()=>clearTimeout(k)}{let k=setTimeout((()=>f({shouldCallAuthOnSuccess:!0,isSuccess:!0})),an);return h(),()=>clearTimeout(k)}}}),[n,t,m,r]),c.jsx(q0e,{providerName:E,ProviderLogo:x,success:m,errorMessage:v,onRetry:v!=null&&v.retryable?()=>{Ny(),d(_),C(void 0)}:void 0})}},H0e=y.forwardRef(((t,e)=>{let[n,r]=y.useState(""),[i,s]=y.useState(""),[a,o]=y.useState(!1),{authenticated:l,user:d}=wt(),{initUpdateEmail:u}=Se(),{navigate:h,setModalData:p,currentScreen:f}=Le(),{enabled:g,token:m}=Lr(),w=Re(),v=zk(n)&&(w.disablePlusEmails&&n.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),C=a||!v,_=()=>{!g||m||l?(async E=>{if(!(d!=null&&d.email))throw Error("User is required to have an email address to update it.");o(!0);try{await u({oldAddress:d.email.address,newAddress:n,captchaToken:E}),h(ua)}catch(x){p({errorModalData:{error:x,previousScreen:f||hr}})}o(!1)})(m):(p({captchaModalData:{callback:E=>{if(!(d!=null&&d.email))throw Error("User is required to have an email address to update it.");return u({oldAddress:d.email.address,newAddress:n,captchaToken:E})},userIntentRequired:!1,onSuccessNavigateTo:ua,onErrorNavigateTo:dn}}),h(ts))};return c.jsxs(c.Fragment,{children:[c.jsxs(V0e,{children:[i&&c.jsx(Ko,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),c.jsxs(K0e,{$error:!!i,children:[c.jsx(Ki,{children:c.jsx(pf,{})}),c.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:E=>r(E.target.value),onKeyUp:E=>{E.key==="Enter"&&_()},value:n,autoComplete:"email"}),t.stacked?null:c.jsx(ig,{isSubmitting:a,onClick:_,disabled:C,children:"Submit"})]})]}),t.stacked?c.jsx(Bt,{loadingText:null,loading:a,disabled:C,onClick:_,style:{width:"100%"},children:"Submit"}):null]})}));let V0e=Z$,K0e=Y$;const G0e=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>c.jsx(vt,{title:t,subtitle:e,icon:G2,watermark:!0,children:c.jsx(f$,{children:c.jsx(H0e,{stacked:!0})})}),Y0e={component:()=>c.jsx(G0e,{})},Z0e=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:n,isSubmitting:r=!1})=>{let[i,s]=y.useState(null);return c.jsx(vt,{title:t,subtitle:e,icon:Ka,primaryCta:{label:r?"Submitting":"Update",onClick:async()=>{i!=null&&i.qualifiedPhoneNumber&&await n(i)},disabled:!(i!=null&&i.isValid)||r},watermark:!0,children:c.jsx(_g,{onChange:a=>{s(a)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},J0e={component:()=>{let{currentScreen:t,data:e,navigate:n,setModalData:r}=Le(),{user:i}=wt(),{initUpdatePhone:s}=Se(),[a,o]=y.useState(!1);return c.jsx(Z0e,{onSubmit:async l=>{var d,u,h;o(!0);try{if(!((d=i==null?void 0:i.phone)!=null&&d.number))throw Error("User is required to have an phone number to update it.");await s((u=i==null?void 0:i.phone)==null?void 0:u.number,l.qualifiedPhoneNumber),n(ua)}catch(p){r({errorModalData:{error:p,previousScreen:((h=e==null?void 0:e.errorModalData)==null?void 0:h.previousScreen)||t||Dv}}),n(dn)}finally{o(!1)}},isSubmitting:a})}};function Q0e({subscribe:t,getExternalJwt:e,enabled:n=!0,onAuthenticated:r,onUnauthenticated:i,onError:s}){let{client:a,onCustomAuthAuthenticated:o}=Se(),{logout:l,authenticated:d,ready:u}=zme();if(!a)throw new G("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[h,p]=y.useState({status:"initial"}),f=y.useRef(),g=y.useRef(!1),m=y.useRef(e);y.useEffect((()=>{m.current=e}),[e]);let w=y.useRef(r);y.useEffect((()=>{w.current=r}),[r]);let v=y.useRef(i);y.useEffect((()=>{v.current=i}),[i]);let C=y.useRef(s);return y.useEffect((()=>{C.current=s}),[s]),y.useEffect((()=>{if(!n||!u)return;let _=async()=>{var E,x,b,k;if(!g.current){g.current=!0;try{p({status:"loading"});let S=await m.current();if(f.current!==void 0&&f.current===S)return void p({status:"done"});if(!S)return d&&(await l(),(E=v.current)==null||E.call(v)),f.current=S,void p({status:"done"});a.startAuthFlow(new LS(S));let{user:I,isNewUser:$=!1}=await a.authenticate();if(!I)throw new G("Failed to sync with custom auth provider");(x=w.current)==null||x.call(w,{user:I,isNewUser:$}),o(I,$),f.current=S,p({status:"done"})}catch(S){if(console.warn(S),await l().catch((()=>{})),(b=v.current)==null||b.call(v),S instanceof Zr&&S.privyErrorCode===Q.LINKED_TO_ANOTHER_USER)return p({status:"initial"}),void setTimeout((()=>{_()}),0);(k=C.current)==null||k.call(C,S),p({status:"error",error:S})}finally{g.current=!1}}};return _(),t(_)}),[t,a,o,d,l,n,u]),n?{state:h}:{state:{status:"not-enabled"}}}let X0e=$c((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function eye({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:n}){let r=ol(),i=y.useRef(),s=y.useCallback((l=>(i.current=l,()=>{i.current=void 0})),[]),a=(n==null?void 0:n.getCustomAccessToken)??(()=>Promise.resolve(void 0)),{state:o}=Q0e({enabled:(n==null?void 0:n.enabled)===!0,subscribe:s,getExternalJwt:a,onAuthenticated:({user:l,isNewUser:d})=>{r("login","onComplete",{user:l,isNewUser:d,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),r("customAuth","onAuthenticated",{user:l})},onUnauthenticated:()=>{r("customAuth","onUnauthenticated")},onError:l=>{r("login","onError",l.privyErrorCode||Q.UNKNOWN_AUTH_ERROR)}});return y.useEffect((()=>{(async()=>{var l;n&&!n.isLoading&&((l=i.current)==null||l.call(i))})()}),[n==null?void 0:n.enabled,n==null?void 0:n.getCustomAccessToken,n==null?void 0:n.isLoading]),{jwtAuthFlowState:o}})({customAuth:t});return y.useEffect((()=>{X0e.setState({jwtAuthFlowState:e})}),[e]),null}const QS=y.createContext(!1);let Wa,XS,eA,tA,nA,rA;function Rwe(){return Wa?Wa.getCustomerAccessToken():Promise.resolve(qe.get(Hl)||null)}async function Ht(){return Wa?Wa.getAccessToken():Promise.resolve(qe.get(Gh)||qe.get(Hl)||null)}const tye=(t,e)=>XS(t,e),nye=(t,e)=>eA(t,e),rye=(t,e)=>tA(t,e),iye=(t,e)=>nA(t,e),sye=t=>rA(t),Mwe=({config:t,...e})=>{var n;if((()=>{if(y.useContext(QS))throw new G("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new G("Embedded wallet is only available over HTTPS");if(typeof(n=e.appId)!="string"||n.length!==25)throw new G("Cannot initialize the Privy provider with an invalid Privy app ID");Wa||(Wa=new m1e({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let r=Object.assign({},t),i=y.useMemo((()=>new SR({appId:e.appId,clientId:e.clientId,storage:qe,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.1.0"})),[]);return c.jsx(lle,{client:i,legacyClient:Wa,appClientId:e.clientId,clientConfig:r,children:c.jsx(mue,{children:c.jsx(aye,{...e,client:Wa,privy:i})})})};let aye=t=>{var Pi;let e=t.client,n=t.privy,r=uv();q1e();let[i,s]=y.useState(!1),a=xu((P=>P.inProgressMfaFlow)),[o,l]=y.useState(!1),[d,u]=y.useState(!1),[h,p]=y.useState(null),[f,g]=y.useState([]),[m,w]=y.useState(void 0),[v,C]=y.useState(!1),[_,E]=y.useState(null),[x,b]=y.useState(!1),[k,S]=y.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:se}),[I,$]=y.useState({status:"initial"}),[A,N]=y.useState({status:"initial"}),[O,D]=y.useState({status:"initial"}),[M,B]=y.useState({status:"initial"}),[U,L]=y.useState({status:"initial"}),[T,j]=y.useState({status:"initial"}),[W,Z]=y.useState(null),z=Re(),ie=n$(),[V,ee]=y.useState({}),[ae,te]=y.useState(null),he=y.useRef(null),[xe,ke]=y.useState(!1),[Ue,ge]=y.useState(!1),Ce=y.useRef(null),Ee=y.useRef(null),re=y.useRef(hle),[We,ze]=y.useState(!1);e.onStoreCustomerAccessToken=P=>{P&&ue(re,"accessToken","onAccessTokenGranted",{accessToken:P})},e.onDeleteCustomerAccessToken=()=>{p(null),u(!1),ue(re,"accessToken","onAccessTokenRemoved")};let de=y.useRef(null),ve=y.useRef(null),St=y.useRef(!1),Wt=({showWalletUIs:P})=>St.current?St.current:P!==void 0?!P:!z.embeddedWallets.showWalletUIs,pe=P=>{E(P),setTimeout((()=>{s(!0)}),15)};y.useEffect((()=>{var H,J,X;if(!h)return void((H=e.connectors)==null?void 0:H.removeEmbeddedWalletConnectors());let P=ys(h),R=qC(h),K=v0(h);P&&R.length||((J=e.connectors)==null||J.removeEmbeddedWalletConnectors()),K.length||((X=e.connectors)==null||X.removeImportedWalletConnectors()),e.connectors?W?(P&&e.connectors.addEmbeddedWalletConnectors({walletProxy:W,user:h,embeddedWallets:R,defaultChain:z.defaultChain,appId:t.appId,privyClient:n}),K.forEach((le=>{var ce;return(ce=e.connectors)==null?void 0:ce.addImportedWalletConnector(W,le.address,z.defaultChain,t.appId)}))):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[W,h]),y.useEffect((()=>{var P;W&&((P=he.current)==null||P.call(he,W))}),[W]);let zt=y.useCallback(((P,R)=>{p(P),C(R),u(!0),ge(!0)}),[]);y.useEffect((()=>{Ue&&W&&h&&(async()=>{var H;let P=lv(h,z.embeddedWallets.ethereum.createOnLogin),R=cv(h,z.embeddedWallets.solana.createOnLogin),K=await Ht();if(K){if(P&&R){let J=await W.create({accessToken:K});return await W.createSolana({accessToken:K,ethereumAddress:J==null?void 0:J.address}),void ge(!1)}if(R)return await W.createSolana({accessToken:K,ethereumAddress:(H=ys(h))==null?void 0:H.address}),await Ae.refreshSessionAndUser(),void ge(!1);if(P)return await W.create({accessToken:K}),void ge(!1)}})().catch(console.error)}),[Ue&&W&&h]),y.useEffect((()=>{if(z.externalWallets.solana.connectors)return z.externalWallets.solana.connectors.onMount(),()=>{var P;return(P=z.externalWallets.solana.connectors)==null?void 0:P.onUnmount()}}),[z.externalWallets.solana.connectors]),y.useEffect((()=>{!o&&ie&&(async function(){var le,ce,Qe;let P,R=Te(),K=ht(),H=eT();e.initializeConnectorManager({walletConnectCloudProjectId:z.walletConnectCloudProjectId,rpcConfig:z.rpcConfig,chains:z.chains,defaultChain:z.defaultChain,store:H,walletList:z.appearance.walletList,shouldEnforceDefaultChainOnConnect:z.shouldEnforceDefaultChainOnConnect,externalWalletConfig:z.externalWallets,appName:z.name??"Privy",walletChainType:z.appearance.walletChainType,setBaseAccountSdk:w}),(le=e.connectors)==null||le.on("connectorInitialized",(()=>{P&&clearTimeout(P);let it=e.connectors.walletConnectors.length,dt=e.connectors.walletConnectors.reduce(((ft,Ne)=>ft+(Ne.initialized?1:0)),0);dt===it?ze(!0):P=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:dt,expected:it}),ze(!0)}),1500)})),(ce=e.connectors)==null||ce.initialize().then((()=>{be()}));let J=await e.getAuthenticatedUser(),X=!!J;z.legal.requireUsersAcceptTerms&&J&&!J.hasAcceptedTerms?(await e.logout(),Ae.setReadyToTrue(!0),ue(re,"logout","onSuccess")):((Qe=z.customAuth)!=null&&Qe.enabled||(u(!!J),J&&ue(re,"login","onComplete",{user:J,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),p(J)),R?ve.current=X?"link":"login":K&&!X?(ve.current="login",ee({telegramAuthModalData:{seamlessAuth:!0}}),pe(tp)):Ae.setReadyToTrue(!!J))})()}),[e,ae,o,ie]),y.useEffect((()=>{if(o){if(!h||!h.linkedAccounts.find((P=>P.type==="wallet"&&P.walletClientType==="privy")))return void ke(!!W);if([...f].some((P=>P.walletClientType==="privy")))return void ke(!0);ke(!!W)}}),[o,h,f,W]),y.useEffect((()=>{var P;(P=e.connectors)==null||P.setWalletList(z.appearance.walletList)}),[z.appearance.walletList.join()]);let Te=()=>{let P=Qme();return P.inProgress&&P.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):P.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:P.stateCode,authorizationCode:P.authorizationCode}):(P.inProgress&&(function(R){return R.startsWith("privy:")})(P.provider)&&!P.popupFlow&&(new BroadcastChannel(Px).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:P.stateCode,authorizationCode:P.authorizationCode}),window.close()),!!P.inProgress&&!!P.withPrivyUi&&(e.startAuthFlow(new Ll({...P,customOAuthRedirectUrl:z.customOAuthRedirectUrl})),pe(Mx),!0))},ht=()=>{var K;let P=Xoe();if(!P||!z.loginMethods.telegram||!((K=z.loginConfig.telegramAuthConfiguration)!=null&&K.seamlessAuthEnabled))return;let R=new Qc;return e.startAuthFlow(R),P.flowType==="login-url"&&(R.meta.telegramWebAppData=void 0,R.meta.telegramAuthResult=P.authData),P.flowType==="web-app"&&(R.meta.telegramAuthResult=void 0,R.meta.telegramWebAppData=P.authData),!0},bt=async(P,R,K,H)=>{var J,X;if(P!=="solana_adapter")ct(await((J=e.connectors)==null?void 0:J.createEthereumWalletConnector({connectorType:P,walletClientType:R}))||null,R,K,H);else{let le=(X=e.connectors)==null?void 0:X.findSolanaWalletConnector(R);if(!le)return;ct(le,R,K,H)}};async function ct(P,R,K,H){if(!P)return S({status:"disconnected",connectedWallet:null,connectError:new Jt("Unable to connect to wallet."),connector:null,connectRetry:se}),H==null?void 0:H(null,K);S({status:"disconnected",connectedWallet:null,connectError:null,connector:P,connectRetry:se}),P instanceof ic&&R&&await P.resetConnection(R),S({connector:P,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>ct(P,R,K,H)});try{let J=await P.connect({showPrompt:!0});if((!J||Na(J))&&z.shouldEnforceDefaultChainOnConnect&&!z.chains.find((X=>X.id===Number(J==null?void 0:J.chainId.replace("eip155:",""))))&&((J==null?void 0:J.connectorType)!=="wallet_connect_v2"||(J==null?void 0:J.walletClientType)!=="metamask")){S((X=>({...X,connector:P,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:se})));try{await(J==null?void 0:J.switchChain(z.defaultChain.id)),J&&(J.chainId=Nd(Yr(z.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${z.defaultChain.id}`)}}return S((X=>({...X,status:"connected",connectedWallet:J,connectError:null,connectRetry:se}))),J&&ue(re,"connectWallet","onSuccess",{wallet:J}),H==null?void 0:H(J,K)}catch(J){return J instanceof ur?(console.warn(J.cause?J.cause:J.message),ue(re,"connectWallet","onError",J.privyErrorCode||Q.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(J),ue(re,"connectWallet","onError",Q.UNKNOWN_CONNECT_WALLET_ERROR)),S((X=>({...X,status:"disconnected",connectedWallet:null,connectError:J}))),H==null?void 0:H(null,K)}}let st=async(P,R,K)=>{if(P===null||!Na(P))return;let H=new nc(e,P,R,K);e.startAuthFlow(H)},un=async(P,R,K,H="plain")=>{let J=r(nI);if(H==="transaction"&&!J)throw new G("useSolanaLedger plugin hook must be mounted");if(P===null||!ile(P))return;let X=new Bp(P,e,R,K,H,J);e.startAuthFlow(X)},be=()=>{let P=new URLSearchParams(window.location.search),R=P.get("privy_connector"),K=P.get("privy_wallet_client"),H=P.get("privy_connect_only")==="true";if(!R||!K)return;let J=Xk({connectorType:R,walletClientType:K});if(!J||!J.isInstalled)return pe(S0e);if(!e.connectors)throw new G("Connector not initialized");pe(H?Jy:aa);let X=new URL(window.location.href);X.searchParams.delete("privy_connector"),X.searchParams.delete("privy_wallet_client"),X.searchParams.delete("privy_connect_only"),window.history.pushState({},"",X),bt(R,K,void 0,H?void 0:R==="solana_adapter"?un:st)};y.useEffect((()=>{o&&d&&h===null&&e.getAuthenticatedUser().then(p)}),[o,d,h,e]);let _e=P=>{if(!d)throw ue(re,"linkAccount","onError",Q.MUST_BE_AUTHENTICATED,{linkMethod:P}),new G("User must be authenticated before linking an account.")},me=P=>{if(!d||!h)return!1;if(P.walletClientType==="privy")return!0;for(let R of h.linkedAccounts)if(R.type==="wallet"&&R.address===P.address&&R.walletClientType!=="privy")return!0;return!1},Be=()=>{g((P=>{var K;let R=((K=e.connectors)==null?void 0:K.wallets.filter(Na).map((H=>({...H,linked:me(H),loginOrLink:async()=>{if(!await H.isConnected())throw new G("Wallet is not connected");if(H.connectorType==="embedded"&&H.walletClientType==="privy")throw new G("Cannot link or login with embedded wallet");(async J=>{let X;if(!e.connectors)throw new G("Connector not initialized");X=J.type==="ethereum"?e.connectors.findWalletConnector(J.connectorType,J.walletClientType)||null:e.connectors.findSolanaWalletConnector(J.walletClientType)||null,S((le=>({...le,connector:X,status:"connected",connectedWallet:J,connectError:null,connectRetry:se}))),z.captchaEnabled&&!d?(ee({captchaModalData:{callback:le=>Na(J)?st(J,le):un(J,le),userIntentRequired:!1,onSuccessNavigateTo:aa,onErrorNavigateTo:dn}}),pe(ts)):(Na(J)?await st(J):await un(J),pe(aa))})(H)},fund:async J=>{await Ae.fundWallet(H.address,J)},unlink:async()=>{if(!d)throw new G("User is not authenticated.");if(H.connectorType==="embedded"&&H.walletClientType==="privy")throw new G("Cannot unlink an embedded wallet");p(await e.unlinkEthereumWallet(H.address))}}))))||[];return Yk(P,R)?P:R}))};y.useEffect((()=>{Be()}),[h==null?void 0:h.linkedAccounts,d,o]),y.useEffect((()=>{if(o){if(!e.connectors)throw new G("Connector not initialized");Be(),e.connectors.on("walletsUpdated",Be)}}),[o]),y.useEffect((()=>{var P,R;[...((P=z.loginMethodsAndOrder)==null?void 0:P.primary)??[],...((R=z.loginMethodsAndOrder)==null?void 0:R.overflow)??[]].filter((K=>K.startsWith("privy:"))).forEach((K=>e.getCrossAppProviderDetails(K.replace("privy:",""))))}),[!!e]);let at=({transaction:P,sponsor:R,uiOptions:K,fundWalletConfig:H,address:J,signOnly:X})=>new Promise((async(le,ce)=>{let{requesterAppId:Qe}=K||{},it=X?"signTransaction":"sendTransaction",dt=J?Ys(h,J):ys(h);if(!dt&&J){let we=Kg(f,J);if(we){if(R)throw new G("Cannot sponsor transactions for externally connected wallet.");try{let gt=await we.getEthereumProvider(),tt={...P,from:J,chainId:P.chainId||Number(we.chainId.replace("eip155:","")),value:P.value!==void 0?Yr(P.value):void 0},hn=await gt.request({method:it==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[tt]});return ue(re,it,"onSuccess",{hash:hn}),void le({hash:hn})}catch(gt){return ue(re,it,"onError",Q.TRANSACTION_FAILURE),void ce(gt??new or("Unable to "+it+gt))}}}if(!dt)return ue(re,it,"onError",Q.EMBEDDED_WALLET_NOT_FOUND),void ce(new G("No embedded or connected wallet found for address."));if(!d||!h)return ue(re,it,"onError",Q.MUST_BE_AUTHENTICATED),void ce(Error("User must be authenticated before signing with a Privy wallet"));let ft=dt.address,Ne=dt.walletIndex??0,{entropyId:Ze,entropyIdVerifier:je}=Ui(h,dt),He=Cn.wallets.find((we=>we.walletClientType==="privy"&&Zn(we.address)===Zn(ft)));if(!He)return ue(re,it,"onError",Q.EMBEDDED_WALLET_NOT_FOUND),void ce(Error("Must have a Privy wallet before signing"));let Ke=await He.getEthereumProvider(),pt=await Ke.request({method:"eth_chainId"}),kt=P.chainId?Number(P.chainId):jS(pt);(we=>{if(!z.chains.map((gt=>gt.id)).includes(we))throw new Jt(`Chain ID ${we} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,Q.UNSUPPORTED_CHAIN_ID)})(kt);let nt={...P,from:P.from??ft,chainId:kt},et=await Ht();if(!et||!W)return ue(re,it,"onError",Q.EMBEDDED_WALLET_NOT_FOUND),void ce(Error("Must have valid access token and Privy wallet to send transaction"));let xt=vc(nt.chainId,z.chains,z.rpcConfig,{appId:t.appId}),on=Vr(dt),_r=async({transactionRequest:we})=>{try{let gt;if(!await Ae.recoverEmbeddedWallet({address:ft}))throw ue(re,it,"onError",Q.UNKNOWN_CONNECT_WALLET_ERROR),ce(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(R){let tt=await(async({transactionRequest:hn})=>{if(!on)throw new G("Sponsoring is only supported for wallets on the TEE stack");if(X)throw new G("Cannot sponsor a sign transaction request");let pr=Di=>Di==null?void 0:Yr(Di),as=await Fi(n,(async({message:Di})=>await W.signWithUserSigner({accessToken:et,requesterAppId:Qe,message:Di})),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:Nd(Yr(hn.chainId)),sponsor:!0,params:{transaction:{from:hn.from,to:hn.to,chain_id:pr(hn.chainId),data:Zl(hn.data)?hn.data?hn.data:Yr(Uint8Array.from(hn.data)):void 0,value:pr(hn.value)}},wallet_id:dt.id});if(as.data&&"hash"in as.data)return as.data.hash;throw new or("Unable to sign transaction")})({transactionRequest:we});return ue(re,"sendTransaction","onSuccess",{hash:tt}),tt}if(on){let tt=pr=>pr==null?void 0:Yr(pr),hn=await Fi(n,(async({message:pr})=>await W.signWithUserSigner({accessToken:et,requesterAppId:Qe,message:pr})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:we.from,to:we.to,nonce:tt(we.nonce),chain_id:tt(we.chainId),data:Zl(we.data)?we.data?we.data:Yr(Uint8Array.from(we.data)):void 0,value:tt(we.value),type:we.type,gas_limit:tt(we.gasLimit??we.gas),gas_price:tt(we.gasPrice??we.gas),max_fee_per_gas:tt(we.maxFeePerGas),max_priority_fee_per_gas:tt(we.maxPriorityFeePerGas)}},wallet_id:dt.id});if(!hn.data||!("signed_transaction"in hn.data))throw new or("Unable to sign transaction");gt=hn.data.signed_transaction}else gt=await(async function({accessToken:tt,entropyId:hn,entropyIdVerifier:pr,transactingWalletIndex:as,walletProxy:Di,transactionRequest:Ag,requesterAppId:Tg}){return(await Di.rpc({entropyId:hn,entropyIdVerifier:pr,hdWalletIndex:as??0,chainType:"ethereum",accessToken:tt,requesterAppId:Tg,request:{method:"eth_signTransaction",params:[Ag]}})).response.data})({accessToken:et,entropyId:Ze,entropyIdVerifier:je,transactingWalletIndex:Ne,walletProxy:W,transactionRequest:we,requesterAppId:Qe});if(X)return ue(re,"signTransaction","onSuccess",{signature:gt}),gt;{let tt=await xt.sendRawTransaction({serializedTransaction:gt});return ue(re,"sendTransaction","onSuccess",{hash:tt}),tt}}catch(gt){throw ue(re,it,"onError",Q.TRANSACTION_FAILURE),gt}};if(Wt({showWalletUIs:K==null?void 0:K.showWalletUIs})){let we=X||R?nt:await Hp(nt,xt,nt.from);try{let gt=await _r({transactionRequest:we});X?ue(re,"signTransaction","onSuccess",{signature:gt}):ue(re,"sendTransaction","onSuccess",{hash:gt}),le({hash:gt})}catch(gt){ue(re,it,"onError",Q.TRANSACTION_FAILURE),ce(gt)}}else{let we={connectingWalletAddress:ft,recoveryMethod:dt.recoveryMethod,entropyId:Ze,entropyIdVerifier:je,onCompleteNavigateTo:pI,isUnifiedWallet:on,onFailure:tt=>{ue(re,it,"onError",Q.UNKNOWN_CONNECT_WALLET_ERROR),ce(tt)}},gt=(tt=>!!tt.fundingConfig&&OS(tt.fundingConfig.options).length>=1)(z)?mx({address:ft,appConfig:z,fundWalletConfig:H,methodScreen:xi,chainIdOverride:nt.chainId,comingFromSendTransactionScreen:!0}):void 0;ee({connectWallet:we,sendTransaction:{transactionRequest:nt,transactingWalletIndex:Ne,transactingWalletAddress:ft,entropyId:Ze,entropyIdVerifier:je,signOnly:X,scanTransaction:async()=>{var hn,pr,as,Di;let tt=await Hp(nt,xt,nt.from);return await e.scanTransaction({metadata:{domain:z.embeddedWallets.transactionScanning.domain},chain_id:tt.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:tt.from,to:tt.to,value:(hn=tt.value)==null?void 0:hn.toString(),gas:(pr=tt.gas)==null?void 0:pr.toString(),gasPrice:(as=tt.gasPrice)==null?void 0:as.toString(),nonce:(Di=tt.nonce)==null?void 0:Di.toString(),data:tt.data}]}})},getIsSponsored:async()=>!!R,onConfirm:({transactionRequest:tt})=>_r({transactionRequest:tt}),onSuccess:tt=>{X?ue(re,"signTransaction","onSuccess",{signature:tt.hash}):ue(re,"sendTransaction","onSuccess",{hash:tt.hash}),le(tt)},onFailure:tt=>{ue(re,it,"onError",Q.TRANSACTION_FAILURE),ce(tt)},uiOptions:K||{},fundWalletConfig:H,requesterAppId:Qe},funding:gt}),pe(rd)}}));function Xe(){return new Promise((async(P,R)=>{let K=await Ht();if(!K||!W)throw Error("Must have valid access token to enroll in MFA");try{await W.verifyMfa({accessToken:K}),P()}catch(H){R(H)}}))}let Ve=P=>P==null?void 0:P.linkedAccounts.filter((R=>R.latestVerifiedAt!==null&&!(R.type==="wallet"&&R.walletClientType==="privy"))).sort(((R,K)=>K.latestVerifiedAt.getTime()-R.latestVerifiedAt.getTime()))[0],De=P=>{let R=(h==null?void 0:h.linkedAccounts.filter((J=>J.type===P)).length)??0,{displayName:K,loginMethod:H}=mg(P);if(P==="passkey"&&R>=5||P!=="passkey"&&R>=1)throw ue(re,"linkAccount","onError",Q.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:H}),new G(`User already has an account of type ${K} linked.`)};async function Et({showAutomaticRecovery:P=!1,legacySetWalletPasswordFlow:R=!1}){E(null);let K=R?"setWalletPassword":"setWalletRecovery";if(!d||!h)throw ue(re,K,"onError",Q.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let H=Zi(h);if(!H||!W)throw ue(re,K,"onError",Q.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let J=Vr(H);if(J)throw ue(re,K,"onError",Q.UNSUPPORTED_WALLET_TYPE),new G("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Xe()}catch(X){throw ue(re,K,"onError",Q.MISSING_MFA_CREDENTIALS),X}return new Promise(((X,le)=>{let ce=H.recoveryMethod==="user-passcode",Qe=VI({walletAction:"update",availableRecoveryMethods:z.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:R,isResettingPassword:ce,showAutomaticRecovery:P}),{entropyId:it,entropyIdVerifier:dt}=Ui(h),ft={recoveryMethod:H.recoveryMethod,connectingWalletAddress:H.address,onCompleteNavigateTo:Qe,shouldForceMFA:!1,entropyId:it,isUnifiedWallet:J,entropyIdVerifier:dt,onFailure:Ne=>{ue(re,K,"onError",Q.UNKNOWN_CONNECT_WALLET_ERROR),le(Ne)}};ee({setWalletPassword:{onSuccess:Ne=>{ue(re,K,"onSuccess",{method:"user-passcode",wallet:Ne}),X(Ne)},onFailure:Ne=>{ue(re,K,"onError",Q.USER_EXITED_SET_PASSWORD_FLOW),le(Ne)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:it,entropyIdVerifier:dt,onFailure:le},connectWallet:ft,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:ce,shouldCreateEth:!1,shouldCreateSol:!1}}),pe(rd)}))}async function At({appId:P,action:R}){let K=await Ht();if(R==="link"&&!K)throw ue(re,"linkAccount","onError",Q.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${P}`}),new G("User must be authenticated before linking an account.");if(R==="login"&&K)throw ue(re,"login","onError",Q.UNKNOWN_AUTH_ERROR),new G("Attempted to log in, but user is already logged in. Use a `link` helper instead.");de.current=`privy:${P}`,ve.current=R;let H=lg();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:P}}),new Promise((async(J,X)=>{let{name:le,logoUrl:ce}=await GS({api:e.api,providerAppId:P,requesterAppId:z.id});ee({crossAppAuth:{appId:P,name:le,logoUrl:ce,action:R,popup:H,onSuccess:J,onError:X}}),pe(d0e)}))}let Kt={ready:o,authenticated:d,user:h,walletConnectors:e.connectors||null,connectWallet:P=>{P&&"target"in P&&P&&(P=void 0),ee({externalConnectWallet:{walletList:P!=null&&P.walletList&&(P==null?void 0:P.walletList.length)>0?P.walletList:void 0,walletChainType:P==null?void 0:P.walletChainType,description:P==null?void 0:P.description}}),pe(Od)},linkWallet:P=>{P&&"target"in P&&P&&(P=void 0),_e("siwe"),de.current="siwe",ve.current="link",ee({...V,externalConnectWallet:{...V.externalConnectWallet,walletList:P==null?void 0:P.walletList,walletChainType:P==null?void 0:P.walletChainType,description:(P==null?void 0:P.description)||`Link a wallet to your ${z==null?void 0:z.name} account`}}),pe(ep)},startCrossAppAuthFlow:At,linkEmail:()=>{_e("email"),De("email"),de.current="email",ve.current="link",pe(k0e)},linkPhone:()=>{_e("sms"),De("phone"),de.current="sms",ve.current="link",pe(Dv)},linkGoogle:async()=>{_e("google"),De("google_oauth"),ve.current="link",await Ae.initLoginWithOAuth("google")},linkTwitter:async()=>{_e("twitter"),De("twitter_oauth"),ve.current="link",await Ae.initLoginWithOAuth("twitter")},linkDiscord:async()=>{_e("discord"),De("discord_oauth"),ve.current="link",await Ae.initLoginWithOAuth("discord")},linkGithub:async()=>{_e("github"),De("github_oauth"),ve.current="link",await Ae.initLoginWithOAuth("github")},linkSpotify:async()=>{_e("spotify"),De("spotify_oauth"),ve.current="link",await Ae.initLoginWithOAuth("spotify")},linkInstagram:async()=>{_e("instagram"),De("instagram_oauth"),ve.current="link",await Ae.initLoginWithOAuth("instagram")},linkTiktok:async()=>{_e("tiktok"),De("tiktok_oauth"),ve.current="link",await Ae.initLoginWithOAuth("tiktok")},linkLine:async()=>{_e("line"),De("line_oauth"),ve.current="link",await Ae.initLoginWithOAuth("line")},linkLinkedIn:async()=>{_e("linkedin"),De("linkedin_oauth"),ve.current="link",await Ae.initLoginWithOAuth("linkedin")},linkApple:async()=>{_e("apple"),De("apple_oauth"),ve.current="link",await Ae.initLoginWithOAuth("apple")},linkPasskey:async()=>{_e("passkey"),De("passkey"),await Ae.initLinkWithPasskey(),pe(Z1e)},linkTelegram:async P=>{if(_e("telegram"),De("telegram"),ve.current="link",de.current="telegram",P==null?void 0:P.launchParams)if(P.launchParams.initDataRaw){let R=new Qc;e.startAuthFlow(R),R.meta.telegramAuthResult=void 0,R.meta.telegramWebAppData=Hk(P.launchParams.initDataRaw),ee({telegramAuthModalData:{seamlessAuth:!0}}),pe(tp)}else ue(re,"linkAccount","onError",Q.INVALID_DATA,{linkMethod:"telegram"});else await Ae.initLoginWithTelegram();pe(tp)},linkFarcaster:async()=>{_e("farcaster"),De("farcaster"),await Ae.initLoginWithFarcaster(),ve.current="link",de.current="farcaster",pe(t2)},updateEmail:()=>{if(_e("email"),!(h!=null&&h.email))throw new G("User does not have an email linked to their account.");ve.current="update",de.current="email",pe(Y0e)},updatePhone:()=>{if(_e("sms"),!(h!=null&&h.phone))throw new G("User does not have a phone number linked to their account.");ve.current="update",de.current="sms",pe(J0e)},login:async P=>{P&&"target"in P&&P&&(P=void 0);let R="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!o){let K=await new Promise((H=>{te((J=>H.bind(J)))}));if(te(null),K)return void console.warn(R)}!h||h.isGuest?(ve.current="login",ee({login:P}),pe(hr)):console.warn(R)},connectOrCreateWallet:async()=>{o||(await new Promise((P=>{te((()=>P))})),te(null)),d?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(ve.current="connect-or-create",pe(UI))},logout:async()=>{if(ve.current=null,de.current=null,h&&e.clearProviderAcccessTokens(h),E(null),await e.logout(),h&&W)try{await W.clearMfa({userId:h.id})}catch{}p(null),u(!1),ue(re,"logout","onSuccess"),s(!1),qe.del(Py),qe.del(Ik(z.id))},getAccessToken:y.useCallback((()=>e.getCustomerAccessToken()),[e]),unlinkWallet:async P=>{let R;return p(R=P.startsWith("0x")?await e.unlinkEthereumWallet(P):await e.unlinkSolanaWallet(P)),R},unlinkEmail:async P=>{let R=await e.unlinkEmail(P);return p(R),R},unlinkPhone:async P=>{let R=await e.unlinkPhone(P);return p(R),R},unlinkGoogle:async P=>{let R=await e.unlinkOAuth("google",P);return p(R),R},unlinkTwitter:async P=>{let R=await e.unlinkOAuth("twitter",P);return p(R),R},unlinkDiscord:async P=>{let R=await e.unlinkOAuth("discord",P);return p(R),R},unlinkGithub:async P=>{let R=await e.unlinkOAuth("github",P);return p(R),R},unlinkSpotify:async P=>{let R=await e.unlinkOAuth("spotify",P);return p(R),R},unlinkInstagram:async P=>{let R=await e.unlinkOAuth("instagram",P);return p(R),R},unlinkTiktok:async P=>{let R=await e.unlinkOAuth("tiktok",P);return p(R),R},unlinkLine:async P=>{let R=await e.unlinkOAuth("line",P);return p(R),R},unlinkLinkedIn:async P=>{let R=await e.unlinkOAuth("linkedin",P);return p(R),R},unlinkApple:async P=>{let R=await e.unlinkOAuth("apple",P);return p(R),R},unlinkFarcaster:async P=>{let R=await e.unlinkFarcaster(P);return p(R),R},unlinkTelegram:async P=>{let R=await e.unlinkTelegram(P);return p(R),R},unlinkPasskey:async P=>{let R=await Ht();if(!R)throw Error("Must have valid access token to enroll in MFA");if(!W)throw Error("Wallet proxy not initialized.");let K=z.passkeys.shouldUnenrollMfaOnUnlink;await W.unlinkPasskeyAccount({credentialId:P,accessToken:R,removeAsMfa:K});let H=await e.getAuthenticatedUser();return p(H),H},unlinkCrossAppAccount:async({subject:P})=>{var H;let R=(H=h==null?void 0:h.linkedAccounts.find((J=>J.type==="cross_app"&&J.subject===P)))==null?void 0:H.providerApp;if(!R)throw new G("Invalid subject");e.storeProviderAccessToken(R.id,null);let K=await e.unlinkOAuth(`privy:${R.id}`,P);return p(K),K},setWalletRecovery:async P=>Et({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:(P==null?void 0:P.showAutomaticRecovery)??!1}),setWalletPassword:async()=>Et({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(P,R)=>new Promise((async(K,H)=>{var Ze;let{requesterAppId:J}=(R==null?void 0:R.uiOptions)||{},X=P.message,le=R!=null&&R.address?Ys(h,R.address):ys(h);if(!le&&(R==null?void 0:R.address)!==void 0){let je=Kg(f,R.address);if(je)try{let He=await je.getEthereumProvider(),Ke=await He.request({method:"personal_sign",params:[X,je.address]});return ue(re,"signMessage","onSuccess",{signature:Ke}),void K({signature:Ke})}catch(He){return ue(re,"signMessage","onError",Q.UNABLE_TO_SIGN),void H(He??new or("Unable to sign message"))}}if(!le)throw new G("No embedded or connected wallet found for address.");if(!d||!h)return ue(re,"signMessage","onError",Q.MUST_BE_AUTHENTICATED),void H(Error("User must be authenticated before signing with a Privy wallet"));let ce=le.address,Qe=le.walletIndex??0,{entropyId:it,entropyIdVerifier:dt}=Ui(h,le),ft=Vr(le);if(typeof X!="string"||X.length<1)return ue(re,"signMessage","onError",Q.INVALID_MESSAGE),void H(Error("Message must be a non-empty string"));let Ne=async()=>{let je;if(!d)throw Error("User must be authenticated before signing with a Privy wallet");let He=await Ht();if(!W||!He||!await Ae.recoverEmbeddedWallet({address:ce}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:ce,requesterAppId:J}}),ft){let Ke=Zl(P.message,{strict:!0}),pt=await Fi(n,(async({message:kt})=>await W.signWithUserSigner({accessToken:He,requesterAppId:J,message:kt})),{chain_type:"ethereum",method:"personal_sign",params:Ke?{message:X.slice(2),encoding:"hex"}:{message:X,encoding:"utf-8"},wallet_id:le.id});if(!pt.data||!("signature"in pt.data))throw new or("Unable to sign message");je=pt.data.signature}else{let{response:Ke}=await W.rpc({accessToken:He,entropyId:it,entropyIdVerifier:dt,chainType:"ethereum",hdWalletIndex:Qe,requesterAppId:J,request:{method:"personal_sign",params:[X,ce]}});je=Ke.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:ce,requesterAppId:J}}),je};if(Wt({showWalletUIs:(Ze=R==null?void 0:R.uiOptions)==null?void 0:Ze.showWalletUIs}))try{let je=await Ne();ue(re,"signMessage","onSuccess",{signature:je}),K({signature:je})}catch(je){ue(re,"signMessage","onError",Q.UNABLE_TO_SIGN),H(je??new or("Unable to sign message"))}else ee({signMessage:{method:"personal_sign",data:X,confirmAndSign:Ne,onSuccess:je=>{ue(re,"signMessage","onSuccess",{signature:je}),K({signature:je})},onFailure:je=>{ue(re,"signMessage","onError",Q.UNABLE_TO_SIGN),H(je)},uiOptions:(R==null?void 0:R.uiOptions)||{}},connectWallet:{recoveryMethod:le.recoveryMethod,connectingWalletAddress:ce,entropyId:it,entropyIdVerifier:dt,onCompleteNavigateTo:T6,isUnifiedWallet:ft,onFailure:je=>{ue(re,"signMessage","onError",Q.UNKNOWN_CONNECT_WALLET_ERROR),H(je)}}}),pe(rd)})),signTypedData:(P,R)=>new Promise((async(K,H)=>{var Ze;let{requesterAppId:J}=(R==null?void 0:R.uiOptions)||{},X=R!=null&&R.address?Ys(h,R.address):ys(h);if(!X&&(R!=null&&R.address)){let je=Kg(f,R.address);if(je)try{let He=await je.getEthereumProvider(),Ke=Yh(P),pt=await He.request({method:"eth_signTypedData_v4",params:[je.address,Ke]});return ue(re,"signTypedData","onSuccess",{signature:pt}),void K({signature:pt})}catch(He){return ue(re,"signTypedData","onError",Q.UNABLE_TO_SIGN),void H(He??new or("Unable to sign typed data "+He))}}if(!X)throw new G("No embedded or connected wallet found for address.");if(!d||!h)return ue(re,"signTypedData","onError",Q.MUST_BE_AUTHENTICATED),void H(Error("User must be authenticated before signing with a Privy wallet"));let le=X.address,ce=X.walletIndex??0,{entropyId:Qe,entropyIdVerifier:it}=Ui(h,X),dt=Vr(X),ft=Yh(P),Ne=async()=>{let je;if(!d)throw Error("User must be authenticated before signing with a Privy wallet");let He=await Ht();if(!W||!He||!await Ae.recoverEmbeddedWallet({address:le}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:le,requesterAppId:J}}),dt){let{domain:Ke,types:pt,primaryType:kt,message:nt}=ft,et=await Fi(n,(async({message:xt})=>await W.signWithUserSigner({accessToken:He,requesterAppId:J,message:xt})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:Ke,types:pt,primary_type:kt,message:nt}},wallet_id:X.id});if(!et.data||!("signature"in et.data))throw new or("Unable to sign message");je=et.data.signature}else{let{response:Ke}=await W.rpc({accessToken:He,entropyId:Qe,entropyIdVerifier:it,chainType:"ethereum",hdWalletIndex:ce,requesterAppId:J,request:{method:"eth_signTypedData_v4",params:[le,ft]}});je=Ke.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:le,requesterAppId:J}}),je};if(Wt({showWalletUIs:(Ze=R==null?void 0:R.uiOptions)==null?void 0:Ze.showWalletUIs}))try{let je=await Ne();ue(re,"signTypedData","onSuccess",{signature:je}),K({signature:je})}catch(je){ue(re,"signTypedData","onError",Q.UNABLE_TO_SIGN),H(je??new or("Unable to sign message"))}else ee({signMessage:{method:"eth_signTypedData_v4",data:ft,confirmAndSign:Ne,onSuccess:je=>{ue(re,"signTypedData","onSuccess",{signature:je}),K({signature:je})},onFailure:je=>{ue(re,"signTypedData","onError",Q.UNABLE_TO_SIGN),H(je)},uiOptions:(R==null?void 0:R.uiOptions)||{}},connectWallet:{recoveryMethod:X.recoveryMethod,connectingWalletAddress:X.address,entropyId:Qe,isUnifiedWallet:dt,entropyIdVerifier:it,onCompleteNavigateTo:T6,onFailure:je=>{ue(re,"signMessage","onError",Q.UNKNOWN_CONNECT_WALLET_ERROR),H(je)}}}),pe(rd)})),sendTransaction:async(P,R)=>await at({transaction:P,sponsor:R==null?void 0:R.sponsor,uiOptions:R==null?void 0:R.uiOptions,fundWalletConfig:R==null?void 0:R.fundWalletConfig,address:R==null?void 0:R.address,signOnly:!1}),signTransaction:async(P,R)=>({signature:(await at({transaction:P,uiOptions:R==null?void 0:R.uiOptions,address:R==null?void 0:R.address,signOnly:!0})).hash}),exportWallet:P=>new Promise((async(R,K)=>{if(!d||!h)return void K(Error("User must be authenticated before exporting their Privy wallet"));P&&"target"in P&&P&&(P=void 0);let H=P!=null&&P.address?Ys(h,P.address):ys(h);if(!H)return void K(new G("User must have an embedded wallet."));let J=H.address,{entropyId:X,entropyIdVerifier:le}=Ui(h,H),ce=Vr(H);if(!J)return void K(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!Wx(J))return void K(Error("Must provide a valid Ethereum address."));let Qe={recoveryMethod:H.recoveryMethod,connectingWalletAddress:H.address,isUnifiedWallet:ce,entropyId:X,entropyIdVerifier:le,onCompleteNavigateTo:GI,onFailure:K,shouldForceMFA:!0};ee(V),await Ht()&&W?W?vu(H)?(ee({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:H.address,entropyId:X,entropyIdVerifier:le,hdWalletIndex:H.walletIndex,chainType:H.chainType,walletId:H.id,isUnifiedWallet:ce,imported:H.imported,onSuccess:R,onFailure:K},connectWallet:Qe}),pe(rd)):K(Error(`Export is not supported for ${H.chainType} wallets`)):K(Error("Must have a Privy wallet before exporting")):K(Error("Must have valid access token to enroll in MFA"))})),promptMfa:Xe,async init(P){switch(P){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${P}`)}},async submit(P,R){var K,H,J;switch(P){case"totp":case"sms":if(typeof R!="string")throw new G("Invalid MFA code");(K=Ce.current)==null||K.resolve({mfaMethod:P,mfaCode:R,relyingParty:window.origin}),await new Promise(((ce,Qe)=>{Ee.current={resolve:ce,reject:Qe}}));break;case"passkey":if(typeof R=="string")throw new G("Invalid authenticator response");let X=await za(()=>import("./class-map-DSkJZd-J.js").then(ce=>ce.i),__vite__mapDeps([4,3,1,2])),le=l0e(await X.startAuthentication(R));(H=Ce.current)==null||H.resolve({mfaMethod:P,mfaCode:le,relyingParty:window.origin}),await new Promise(((ce,Qe)=>{Ee.current={resolve:ce,reject:Qe}}));break;default:throw(J=Ce.current)==null||J.reject(new G("Unsupported MFA method")),new G(`Unsupported MFA method: ${P}`)}},cancel(){var P;(P=Ce.current)==null||P.reject(new G("MFA canceled"))},async initEnrollmentWithSms(P){let R=await Ht();if(!R||!W)throw Error("Must have valid access token to enroll in MFA");await W.initEnrollMfa({method:"sms",accessToken:R,phoneNumber:P.phoneNumber})},enrollInMfa:P=>new Promise(((R,K)=>{if(!P)return Ae.closePrivyModal(),void R();z.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),ee({mfaEnrollmentFlow:{mfaMethods:z.mfa.methods,shouldUnlinkOnUnenrollMfa:z.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:R,onFailure:K}}),pe(z0e)})),async initEnrollmentWithTotp(){let P=await Ht();if(!P||!W)throw Error("Must have valid access token to enroll in MFA");let R=await W.initEnrollMfa({method:"totp",accessToken:P});return{secret:R.secret,authUrl:R.authUrl}},async submitEnrollmentWithSms(P){let R=await Ht();if(!R||!W)throw Error("Must have valid access token to enroll in MFA");await W.submitEnrollMfa({method:"sms",accessToken:R,phoneNumber:P.phoneNumber,code:P.mfaCode}),p(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(P){let R=await Ht();if(!R||!W)throw Error("Must have valid access token to enroll in MFA");await W.submitEnrollMfa({method:"totp",accessToken:R,code:P.mfaCode}),p(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:P},R={}){let K=await Ht();if(!K||!W)throw Error("Must have valid access token to enroll in MFA");await W.submitEnrollMfa({method:"passkey",accessToken:K,credentialIds:P,removeForLogin:R.removeForLogin}),p(await e.getAuthenticatedUser())},async unenroll(P,R={}){let K=await Ht();if(!K||!W)throw Error("Must have valid access token to remove MFA");P==="passkey"?await W.submitEnrollMfa({method:"passkey",accessToken:K,credentialIds:[],removeForLogin:R.removeForLogin}):await W.unenrollMfa({method:P,accessToken:K}),p(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var H;let P=await Ht(),R=h==null?void 0:h.linkedAccounts.find((J=>J.type==="wallet"&&J.walletClientType==="privy"));if(!P)throw Error("Must have valid access token to connect with Farcaster");if(!W||!R)throw Error("Must have an embedded wallet to use Farcaster signers");if(Vr(R))throw new G("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((H=h==null?void 0:h.farcaster)!=null&&H.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ae.recoverEmbeddedWallet({address:R.address}))throw Error("Unable to connect to wallet");let K=await W.initFarcasterSigner({address:R.address,hdWalletIndex:null,accessToken:P,mfaCode:null,mfaMethod:null,relyingParty:window.origin});K.status==="approved"&&p(await e.getAuthenticatedUser()||h||null),ee({farcasterSigner:K}),pe(C0e)},getFarcasterSignerPublicKey:async()=>{var H,J;let P,R=await Ht(),K=h==null?void 0:h.linkedAccounts.find((X=>X.type==="wallet"&&X.walletClientType==="privy"));if(!R)throw Error("Must have valid access token to connect with Farcaster");if(!W||!K)throw Error("Must have an embedded wallet to use Farcaster signers");if(Vr(K))throw new G("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((H=h==null?void 0:h.farcaster)!=null&&H.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ae.recoverEmbeddedWallet({address:K.address}))throw Error("Unable to connect to wallet");if(!((J=h.farcaster)!=null&&J.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return P=h.farcaster.signerPublicKey.slice(2),Uint8Array.from(P.match(/.{1,2}/g).map((X=>parseInt(X,16))))},signFarcasterMessage:async P=>{var X,le;let R=await Ht(),K=h==null?void 0:h.linkedAccounts.find((ce=>ce.type==="wallet"&&ce.walletClientType==="privy"));if(!R)throw Error("Must have valid access token to connect with Farcaster");if(!W||!K)throw Error("Must have an embedded wallet to use Farcaster signers");if(Vr(K))throw new G("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((X=h==null?void 0:h.farcaster)!=null&&X.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ae.recoverEmbeddedWallet({address:K.address}))throw Error("Unable to connect to wallet");if(!((le=h.farcaster)!=null&&le.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let H=await za(()=>import("./class-map-DSkJZd-J.js").then(ce=>ce.i),__vite__mapDeps([4,3,1,2])),J=await W.signFarcasterMessage({address:K.address,hdWalletIndex:null,accessToken:R,mfaCode:null,mfaMethod:null,payload:{hash:H.bufferToBase64URLString(P)},fid:BigInt(h.farcaster.fid),relyingParty:window.origin});return new Uint8Array(H.base64URLStringToBuffer(J.signature))},signMessageWithCrossAppWallet(P,{address:R,chainId:K}){let H=h==null?void 0:h.linkedAccounts.some((J=>J.type==="cross_app"&&J.smartWallets.some((X=>X.address===R))));return Dh({user:h,client:e,address:R,requesterAppId:z.id,request:{method:H?"privy_signSmartWalletMessage":"personal_sign",params:[P,R],chainId:K},reconnect:At})},signTypedDataWithCrossAppWallet(P,{address:R,chainId:K}){let H=h==null?void 0:h.linkedAccounts.some((X=>X.type==="cross_app"&&X.smartWallets.some((le=>le.address===R)))),J=Yh(P);return Dh({user:h,client:e,address:R,requesterAppId:z.id,request:{method:H?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[R,J],chainId:K},reconnect:At})},sendTransactionWithCrossAppWallet(P,{address:R}){let K=h==null?void 0:h.linkedAccounts.some((H=>H.type==="cross_app"&&H.smartWallets.some((J=>J.address===R))));return Dh({user:h,client:e,address:R,requesterAppId:z.id,request:{method:K?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[P],chainId:P.chainId},reconnect:At})},signTransactionWithCrossAppWallet(P,{address:R}){let K=h==null?void 0:h.linkedAccounts.some((H=>H.type==="cross_app"&&H.smartWallets.some((J=>J.address===R))));return Dh({user:h,client:e,address:R,requesterAppId:z.id,request:{method:K?"privy_signSmartWalletTx":"eth_signTransaction",params:[P],chainId:P.chainId},reconnect:At})},isModalOpen:i||!!a,mfaMethods:z.mfa.methods};XS=Kt.signMessage,eA=Kt.signTypedData,nA=async(P,R)=>await at({transaction:P,...R,signOnly:!1}),tA=async(P,R)=>({signature:(await at({transaction:P,...R,signOnly:!0})).hash});let Ae={privy:n,setAuthenticated:u,setUser:p,setIsNewUser:C,isNewUserThisSession:v,pendingTransaction:null,walletConnectionStatus:k,setWalletConnectionStatus:S,connectors:((Pi=e.connectors)==null?void 0:Pi.walletConnectors)??[],rpcConfig:z.rpcConfig,chains:z.chains,appId:t.appId,showFiatPrices:z.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:zt,hideWalletUIs:St,isHeadlessSigning:y.useCallback(Wt,[z.embeddedWallets.showWalletUIs]),emailOtpState:A,setEmailOtpState:N,smsOtpState:O,setSmsOtpState:D,oAuthState:U,setOAuthState:L,telegramAuthState:T,setTelegramAuthState:j,siweState:M,setSiweState:B,isHeadlessOAuthLoading:x,baseAccountSdk:m,setBaseAccountSdk:w,nativeTokenSymbolForChainId:P=>{var R;return(R=z.chains.find((K=>K.id===Number(P))))==null?void 0:R.nativeCurrency.symbol},initializeWalletProxy:async P=>{if(W)return W;let R=new Promise((J=>{he.current=J})),K=new Promise((J=>setTimeout((()=>J(null)),P))),H=await Promise.race([R,K]);return he.current=null,H},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var P;return(P=e.authFlow)==null?void 0:P.meta},client:e,closePrivyModal:async(P={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let R,K=o&&d&&h;K&&de.current&&(R=Ve(h)),ve.current==="login"?P.shouldCallAuthOnSuccess&&K&&de.current?ue(re,"login","onComplete",{user:h,isNewUser:v,wasAlreadyAuthenticated:!1,loginMethod:de.current,loginAccount:R??null}):ue(re,"login","onError",Q.USER_EXITED_AUTH_FLOW):ve.current==="link"&&R?P.isSuccess&&K&&de.current?ue(re,"linkAccount","onSuccess",{user:h,linkMethod:de.current,linkedAccount:R}):de.current&&ue(re,"linkAccount","onError",Q.USER_EXITED_LINK_FLOW,{linkMethod:de.current}):ve.current==="update"&&R?P.isSuccess&&K&&de.current?ue(re,"update","onSuccess",{user:h,updateMethod:de.current,updatedAccount:R}):de.current&&ue(re,"update","onError",Q.USER_EXITED_UPDATE_FLOW,{linkMethod:de.current}):ve.current==="connect-or-create"&&(f[0]?ue(re,"connectOrCreateWallet","onSuccess",{wallet:f[0]}):ue(re,"connectOrCreateWallet","onError",Q.USER_EXITED_AUTH_FLOW));let H=_&&J1.has(_),J=_===dn&&V.errorModalData&&J1.has(V.errorModalData.previousScreen);if((H||J)&&V.funding){let X,le=J1.get(_)??null;if(V.funding.chainType==="solana"){let ce=z.solanaRpcs[V.funding.chain];if(!ce)return void console.warn("Unable to load solana rpc, skipping balance");if(r(e2))try{X=await pv({rpc:ce.rpc,address:V.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");ue(re,"fundSolanaWallet","onUserExited",{address:V.funding.address,fundingMethod:le,chain:V.funding.chain,balance:X})}else{let ce=vc(V.funding.chain.id,z.chains,z.rpcConfig,{appId:t.appId});try{X=await ce.getBalance({address:V.funding.address})}catch{console.error("Unable to pull wallet balance")}ue(re,"fundWallet","onUserExited",{address:V.funding.address,chain:V.funding.chain,fundingMethod:le,balance:X})}}ee((X=>({...X,externalConnectWallet:{}}))),ve.current=null,de.current=null,C(!1),s(!1),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:pe,connectWallet:ct,initLoginWithWallet:async(P,R,K,H)=>{Na(P)?(de.current="siwe",st(P,R,K)):(de.current="siws",un(P,R,K,H))},loginWithWallet:async()=>{let P,R,K;if(!o)throw new lo;if(e.authFlow instanceof nc?P="siwe":e.authFlow instanceof Bp&&(P="siws"),!P)throw new G("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:R}=await e.link()),de.current=P}catch(H){throw ue(re,"linkAccount","onError",H.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:P}),H}else try{({user:R,isNewUser:K}=await e.authenticate()),de.current=P}catch(H){throw ue(re,"login","onError",H.privyErrorCode||Q.GENERIC_CONNECT_WALLET_ERROR),H}p(R||h||null),C(K||!1),u(!0)},delegateWallet:async({address:P,chainType:R,showDelegationUIs:K})=>new Promise((async(H,J)=>{let X=await Ht();if(!d||!h||!X)throw new G("User must be authenticated and have an embedded wallet to delegate actions.");if(R!=="solana"&&R!=="ethereum")throw new G("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let le=Ae.walletProxy??await Ae.initializeWalletProxy(15e3);if(!le)throw new G("Wallet proxy not initialized.");if((({address:ft,user:Ne})=>!!Tx(Ne).find((Ze=>Ze.address===ft)))({address:P,user:h}))return H();let ce=Ys(h,P);if(!ce)throw new G("Address to delegate is not associated with current user.");if(Vr(ce))throw new G("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Qe=W1e({address:P,user:h}),it=z1e({address:P,user:h}),dt=async()=>{await le.createDelegatedAction({accessToken:X,rootWallet:it,delegatedWallets:[Qe]}),await Ae.refreshSessionAndUser()};if(await Ae.recoverEmbeddedWallet({address:P}),K)ee({delegatedActions:{consent:{address:P,onDelegate:dt,onSuccess:async()=>{H()},onError:async ft=>{J(ft)}}}}),pe(h0e);else try{await dt(),H()}catch(ft){J(ft)}})),revokeDelegatedWallets:async({showDelegationUIs:P})=>new Promise((async(R,K)=>{if(!d||!h)throw new G("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let H=Tx(h);if(H.length===0)throw new G("User has no delegated wallets to revoke.");if(H.some(Vr))throw new G("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let J=async()=>{await e.revokeDelegatedWallet(),await Ae.refreshSessionAndUser()};if(P)ee({delegatedActions:{revoke:{onRevoke:J,onSuccess:async()=>{R()},onError:async X=>{K(X)}}}}),pe(f0e);else try{await J(),R()}catch(X){K(X)}})),initLoginWithFarcaster:async(P,R)=>{let K=new vx(P,R);e.startAuthFlow(K);try{de.current="farcaster",await K.initializeFarcasterConnect()}catch(H){throw ve.current==="login"?ue(re,"login","onError",H.privyErrorCode||Q.UNKNOWN_AUTH_ERROR):ve.current==="link"&&ue(re,"linkAccount","onError",H.privyErrorCode||Q.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),H}},loginWithFarcaster:async()=>{let P,R;if(!o)throw new lo;if(!(e.authFlow instanceof vx))throw new G("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:P}=await e.link()),de.current="farcaster"}catch(K){throw ue(re,"linkAccount","onError",K.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),K}else try{({user:P,isNewUser:R}=await e.authenticate()),de.current="farcaster"}catch(K){throw ue(re,"login","onError",K.privyErrorCode||Q.UNKNOWN_AUTH_ERROR),K}p(P||null),C(R||!1),u(!0)},async crossAppAuthFlow({appId:P,popup:R,action:K}){let H=`privy:${P}`;de.current=H;let{url:J,stateCode:X,codeVerifier:le}=await(async function({api:ce,appId:Qe}){let it=eg(),dt=Ww(),ft=await zw(it);try{let{url:Ne}=await ce.post(MC,{provider:`privy:${Qe}`,redirect_to:window.location.href,code_challenge:ft,state_code:dt});return{url:Ne,stateCode:dt,codeVerifier:it}}catch(Ne){throw yt(Ne)}})({api:e.api,appId:P});if(!J)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:P}}),new G("No authorization URL returned for cross-app auth.");try{let ce=await(async function({url:Ne,popup:Ze}){return Ze.location=Ne,new Promise(((je,He)=>{let Ke,pt=setTimeout((()=>{He(new G("Authorization request timed out after 2 minutes.")),kt()}),12e4);function kt(){Ze==null||Ze.close(),window.removeEventListener("message",et)}let nt=setInterval((()=>{Ze!=null&&Ze.closed&&!Ke&&(kt(),clearInterval(nt),clearTimeout(pt),He(new G("User rejected request")))}),300);function et(xt){xt.data&&(xt.data.type==="PRIVY_OAUTH_RESPONSE"&&xt.data.stateCode&&xt.data.authorizationCode&&(clearTimeout(pt),je(xt.data),kt()),xt.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(pt),He(new G(xt.data.error)),kt()),xt.data.type===Dx&&((Ke=new BroadcastChannel(Px)).onmessage=et))}window.addEventListener("message",et)}))})({url:J,popup:R,provider:H}),Qe=ce.stateCode,it=ce.authorizationCode;if(Qe!==X)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:H,storedStateCode:X??"",returnedStateCode:Qe??""}}),new G("Unexpected auth flow. This may be a phishing attempt.",void 0,Q.OAUTH_UNEXPECTED);let dt=await(async function({appId:Ne,stateCode:Ze,codeVerifier:je,authorizationCode:He,action:Ke,client:pt}){var kt;if(!He||!Ze)throw new G("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(He==="undefined")throw new G("User denied confirmation during cross-app auth flow");try{let nt=new H1e({authorizationCode:He,stateCode:Ze,codeVerifier:je,provider:`privy:${Ne}`});pt.startAuthFlow(nt);let et=Ke==="link"?await pt.link():await pt.authenticate(),xt=(kt=et.oAuthTokens)==null?void 0:kt.accessToken;return console.debug(),xt}catch(nt){let et=yt(nt);throw et.privyErrorCode===Q.ACCOUNT_TRANSFER_REQUIRED?et:et.privyErrorCode?new G(et.message||"Invalid code during cross-app auth flow.",void 0,et.privyErrorCode):et.message==="User denied confirmation during cross-app auth flow"?new G("Invalid code during cross-app auth flow.",void 0,Q.OAUTH_USER_DENIED):new G("Invalid code during cross-app auth flow.",void 0,Q.UNKNOWN_AUTH_ERROR)}})({appId:P,codeVerifier:le,stateCode:Qe,authorizationCode:it,action:K,client:e});dt&&e.storeProviderAccessToken(P,dt);let ft=await Ae.refreshSessionAndUser();if(!ft)throw new G("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:P}}),ft}catch(ce){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:ce.toString(),provider:H}}),ce}},async initLoginWithOAuth(P,R,K){if(de.current=P,!Ay()||P==="google"&&Zy(window.navigator.userAgent))return void pe(Ox);P==="twitter"&&window.opener&&window.opener.postMessage({type:Dx},"*"),qe.del(Up),qe.del(Dd);let H=new Ll({provider:P,disableSignup:!!K,withPrivyUi:!0,customOAuthRedirectUrl:z.customOAuthRedirectUrl});R&&H.addCaptchaToken(R),e.startAuthFlow(H);let J=await e.authFlow.getAuthorizationUrl();if(J&&J.url)if(P==="twitter"&&It.isAndroid&&(J.url=J.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&h2())try{let{privyOAuthCode:X,privyOAuthState:le}=await bx(J.url);pe(Mx),H.meta.stateCode=le,H.meta.authorizationCode=X}catch(X){throw console.error("OAuth in chrome extension flow failed:",X),X}else window.location.assign(J.url)},async initLoginWithTelegram(P,R){if(!o)throw new lo;de.current="telegram";let K=new Qc(P,R);e.startAuthFlow(K),j({status:"loading"}),K.meta.telegramWebAppData=void 0,K.meta.telegramAuthResult=await new Promise(((H,J)=>z.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:z.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(X=>X?H(X):(ve.current==="link"?ue(re,"linkAccount","onError",Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}):ve.current==="login"?ue(re,"login","onError",Q.INVALID_CREDENTIALS):ve.current==="update"&&ue(re,"login","onError",Q.FAILED_TO_UPDATE_ACCOUNT),J(new G("Telegram auth failed or was canceled by the client"))))):J(new G("Telegram was not initialized")):J(new G("Telegram Auth configuration is not loaded"))))},async loginWithTelegram(P){var le;let R,K;if(!(e.authFlow instanceof Qc))throw new G("Must initialize Telegram flow before calling loginWithTelegram");(le=e.authFlow.meta).captchaToken||(le.captchaToken=P==null?void 0:P.captchaToken);let H=await Ht(),J=(P==null?void 0:P.intent)||ve.current;if(J==="login")try{let ce=await e.authenticate();R=ce.user,K=ce.isNewUser,de.current="telegram"}catch(ce){throw ue(re,"login","onError",ce.privyErrorCode||Q.UNKNOWN_AUTH_ERROR),ce}else{if(J!=="link")throw new G("Unknown auth intent");try{R=(await e.link()).user,de.current="telegram"}catch(ce){throw ue(re,"linkAccount","onError",ce.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),ce}}p(R),C(K||!1),u(!0),j({status:"done"});let X=(R==null?void 0:R.linkedAccounts.find((({type:ce})=>ce==="telegram")))||null;return{user:R,isNewUser:K||!1,wasAlreadyAuthenticated:!!H,loginAccount:X}},async loginWithOAuth(P){let R,K,H;if(!(e.authFlow instanceof Ll))throw new G("Must initialize OAuth flow before calling loginWithOAuth");let J=qe.get(Fp),X=e.authFlow.meta.stateCode;if(J!==X)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:P,storedStateCode:J??"",returnedStateCode:X??""}}),new G("Unexpected auth flow. This may be a phishing attempt.",void 0,Q.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let le=await e.link();R=le.user,H=le.oAuthTokens,de.current=P}catch(le){throw ue(re,"linkAccount","onError",le.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:P}),le}else try{let le=await e.authenticate();R=le.user,K=le.isNewUser,H=le.oAuthTokens,de.current=P}catch(le){throw ve.current==="login"?ue(re,"login","onError",le.privyErrorCode||Q.UNKNOWN_AUTH_ERROR):ve.current==="link"&&ue(re,"linkAccount","onError",le.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:P}),le}return p(R),C(K||!1),u(!0),H&&R&&ue(re,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:H,user:R}),H},passkeyAuthState:I,setPasskeyAuthState:$,async initSignupWithPasskey({captchaToken:P,withPrivyUi:R}){let K=new Ol({captchaToken:P,setPasskeyAuthState:$});e.startAuthFlow(K),ve.current="login";try{de.current="passkey",$({status:"generating-challenge"}),await K.initRegisterFlow(R),$({status:"awaiting-passkey"})}catch(H){throw $({status:"error",error:H}),ue(re,"login","onError",H.privyErrorCode||Q.UNKNOWN_AUTH_ERROR),H}},async signupWithPasskey(){let P,R;if(!o)throw new lo;if(!(e.authFlow instanceof Ol))throw new G("Must initialize Passkey flow first.");if(de.current!=="passkey"){let J=new G("Must init login with Passkey flow first.");throw $({status:"error",error:J}),J}let K=await Ht();try{de.current="passkey",$({status:"awaiting-passkey"}),{user:P,isNewUser:R}=await e.authenticate()}catch(J){throw $({status:"error",error:J}),ue(re,"login","onError",J.privyErrorCode||Q.UNKNOWN_AUTH_ERROR),J}p(P),C(R||!1),u(!0),$({status:"done"});let H=(P==null?void 0:P.linkedAccounts.find((({type:J})=>J==="passkey")))||null;return{user:P,isNewUser:R||!1,wasAlreadyAuthenticated:!!K,loginAccount:H}},async initLoginWithPasskey({captchaToken:P,withPrivyUi:R}){let K=new Ol({captchaToken:P,setPasskeyAuthState:$});e.startAuthFlow(K),ve.current="login";try{de.current="passkey",$({status:"generating-challenge"}),await K.initAuthenticationFlow(R),$({status:"awaiting-passkey"})}catch(H){throw $({status:"error",error:H}),ue(re,"login","onError",H.privyErrorCode||Q.UNKNOWN_AUTH_ERROR),H}},async loginWithPasskey(P){let R,K;if(!o)throw new lo;if(!(e.authFlow instanceof Ol))throw new G("Must initialize Passkey flow first.");if(P!=null&&P.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=P.credentialIds),de.current!=="passkey"){let X=new G("Must init login with Passkey flow first.");throw $({status:"error",error:X}),X}let H=await Ht();try{de.current="passkey",$({status:"awaiting-passkey"}),{user:R,isNewUser:K}=await e.authenticate()}catch(X){throw $({status:"error",error:X}),ue(re,"login","onError",X.privyErrorCode||Q.UNKNOWN_AUTH_ERROR),X}p(R),C(K||!1),u(!0),$({status:"done"});let J=(R==null?void 0:R.linkedAccounts.find((({type:X})=>X==="passkey")))||null;return{user:R,isNewUser:K||!1,wasAlreadyAuthenticated:!!H,loginAccount:J}},async initLinkWithPasskey(P){let R=new Ol({captchaToken:P});e.startAuthFlow(R),ve.current="link",de.current="passkey",$({status:"generating-challenge"});try{await R.initLinkFlow(),$({status:"awaiting-passkey"})}catch(K){throw ue(re,"linkAccount","onError",K.privyErrorCode||Q.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),$({status:"error",error:K}),K}},async linkWithPasskey(){let P;if(!o)throw new lo;if(!(e.authFlow instanceof Ol))throw new G("Must initialize Passkey flow first.");if(de.current!=="passkey")throw new G("Must init login with Passkey flow first.");try{de.current="passkey",{user:P}=await e.link()}catch(R){throw ue(re,"linkAccount","onError",R.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),R}return p(P||h||null),$({status:"done"}),P},async initLoginWithHeadlessOAuth(P,R,K){if(!Ay()||P==="google"&&Zy(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let H=new Ll({provider:P,withPrivyUi:!1,disableSignup:K??!1,customOAuthRedirectUrl:z.customOAuthRedirectUrl});R&&H.addCaptchaToken(R),L({status:"loading"});let J=await e.startAuthFlow(H).getAuthorizationUrl();if(J!=null&&J.url)if(window.location.protocol==="chrome-extension:"&&h2())try{let{privyOAuthCode:X,privyOAuthState:le}=await bx(J.url);H.meta.stateCode=le,H.meta.authorizationCode=X,await this.loginWithHeadlessOAuth(H.meta)}catch(X){throw L({status:"error",error:X}),X}else window.location.assign(J.url)},async loginWithHeadlessOAuth(P){let R,K,H;b(!0),L({status:"loading"}),e.startAuthFlow(new Ll({...P,customOAuthRedirectUrl:z.customOAuthRedirectUrl}));let J=qe.get(Fp),X=P.stateCode;if(J!==X)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:P.provider,storedStateCode:J??"",returnedStateCode:X??""}}),b(!1),new G("Unexpected auth flow. This may be a phishing attempt.",void 0,Q.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:R,oAuthTokens:H}=await e.link()),de.current=P.provider;let le=Ve(R);R&&le&&ue(re,"linkAccount","onSuccess",{user:R,linkMethod:de.current,linkedAccount:le})}catch(le){throw b(!1),ue(re,"linkAccount","onError",le.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:P.provider}),le}else try{({user:R,isNewUser:K,oAuthTokens:H}=await e.authenticate()),de.current=P.provider;let le=Ve(R);R&&le&&K!==void 0&&ue(re,"login","onComplete",{user:R,isNewUser:K,wasAlreadyAuthenticated:!1,loginMethod:de.current,loginAccount:le})}catch(le){throw b(!1),L({status:"error",error:le}),ue(re,"login","onError",le.privyErrorCode||Q.UNKNOWN_AUTH_ERROR),le}return p(R),C(K||!1),u(!0),b(!1),L({status:"done"}),H&&R&&ue(re,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:H,user:R}),R??void 0},initLoginWithEmail:async({email:P,captchaToken:R,disableSignup:K,withPrivyUi:H})=>{let J=new Gl({email:P,captchaToken:R,disableSignup:K});e.startAuthFlow(J);try{de.current="email",N({status:"sending-code"}),await J.sendCodeEmail({withPrivyUi:H}),N({status:"awaiting-code-input"})}catch(X){throw N({status:"error",error:X}),ve.current==="login"?ue(re,"login","onError",X.privyErrorCode||Q.UNKNOWN_AUTH_ERROR):ve.current==="link"&&ue(re,"linkAccount","onError",X.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),X}},initUpdateEmail:async({oldAddress:P,newAddress:R,captchaToken:K})=>{let H=new Zme(P,R,K);e.startAuthFlow(H);try{await H.sendCodeEmail({withPrivyUi:!0})}catch(J){ue(re,"update","onError",J.privyErrorCode||Q.UNKNOWN_AUTH_ERROR,{linkMethod:de.current})}},initUpdatePhone:async(P,R,K)=>{let H=new Xme(P,R,K);e.startAuthFlow(H);try{await H.sendSmsCode({withPrivyUi:!0})}catch(J){ue(re,"update","onError",J.privyErrorCode||Q.UNKNOWN_AUTH_ERROR,{linkMethod:de.current})}},initLoginWithSms:async({phoneNumber:P,captchaToken:R,disableSignup:K,withPrivyUi:H})=>{D({status:"sending-code"});let J=new Yl({phoneNumber:P,captchaToken:R,disableSignup:K});e.startAuthFlow(J);try{de.current="sms",await J.sendSmsCode({withPrivyUi:H}),D({status:"awaiting-code-input"})}catch(X){throw D({status:"error",error:X}),ve.current==="login"?ue(re,"login","onError",X.privyErrorCode||Q.UNKNOWN_AUTH_ERROR):ve.current==="link"&&ue(re,"linkAccount","onError",X.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),X}},resendEmailCode:async()=>{var P;await((P=e.authFlow)==null?void 0:P.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var P;await((P=e.authFlow)==null?void 0:P.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async P=>{let R,K;function H(ce){e.authFlow instanceof Gl?N(ce):e.authFlow instanceof Yl&&D(ce)}if(H({status:"submitting-code"}),!o){let ce=new lo;throw H({status:"error",error:ce}),ce}if(e.authFlow instanceof Gl)e.authFlow.meta.emailCode=P.trim();else{if(!(e.authFlow instanceof Yl)){let ce=new G("Must initialize a passwordless code flow first");throw H({status:"error",error:ce}),ce}e.authFlow.meta.smsCode=P.trim()}let J=await Ht();if(ve.current==="link")try{({user:R}=await e.link())}catch(ce){throw H({status:"error",error:ce}),ue(re,"linkAccount","onError",ce.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:de.current}),ce}else if(ve.current==="update")try{({user:R}=await e.link())}catch(ce){throw H({status:"error",error:ce}),ue(re,"update","onError",ce.privyErrorCode||Q.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:de.current}),ce}else try{({user:R,isNewUser:K}=await e.authenticate())}catch(ce){throw H({status:"error",error:ce}),ue(re,"login","onError",ce.privyErrorCode||Q.UNKNOWN_AUTH_ERROR),ce}let X=R||h;p(X||null),C(K||!1),u(!0),H({status:"done"});let le=null;return e.authFlow instanceof Gl?le=(X==null?void 0:X.linkedAccounts.find((({type:ce})=>ce==="email")))||null:e.authFlow instanceof Yl&&(le=(X==null?void 0:X.linkedAccounts.find((({type:ce})=>ce==="phone")))||null),{user:X,isNewUser:K||!1,wasAlreadyAuthenticated:!!J,linkedAccount:le}},generateSiweMessage:async({address:P,chainId:R,captchaToken:K})=>{ve.current=d?"link":"login",de.current="siwe",B({status:"generating-message"});let H=await e.generateSiweNonce({address:P,captchaToken:K});return B({status:"awaiting-signature"}),jy({address:P,chainId:R.replace("eip155:",""),nonce:H})},generateSiweMessageForSmartWallet:async({address:P,chainId:R})=>{let K=await e.generateSiweNonce({address:P});return jy({address:P,chainId:R.replace("eip155:",""),nonce:K})},linkSmartWallet:async({message:P,signature:R,smartWalletType:K,smartWalletVersion:H})=>{let J;J=await e.linkSmartWallet({message:P,signature:R,smartWalletType:K,smartWalletVersion:H}),p((J=await Ae.refreshSessionAndUser()??J)||h||null)},loginWithSiwe:async({message:P,signature:R,captchaToken:K,disableSignup:H})=>{let J,X=null;try{if(h)throw Error("User already authenticated");let le=new nc(e,void 0,K,H,{message:P,signature:R});if(e.startAuthFlow(le),de.current="siwe",ve.current="login",B({status:"submitting-signature"}),{user:X,isNewUser:J}=await e.authenticate(),!X)throw Error("Authentication failed - no user returned")}catch(le){throw ue(re,"login","onError",le.privyErrorCode||Q.UNKNOWN_AUTH_ERROR),B({status:"error",error:le}),le}return p(X),C(J||!1),u(!0),B({status:"done"}),ve.current=null,de.current=null,{user:X,isNewUser:J||!1}},linkWithSiwe:async({message:P,signature:R,chainId:K,walletClientType:H,connectorType:J})=>{let X;_e("siwe");let le=null;try{B({status:"submitting-signature"}),X=await e.linkWithSiwe({message:P,signature:R,chainId:K,walletClientType:H,connectorType:J}),X=await Ae.refreshSessionAndUser()??X,B({status:"done"}),(le=Ve(X)||null)&&ue(re,"linkAccount","onSuccess",{user:X,linkMethod:"siwe",linkedAccount:le})}catch(Qe){throw ue(re,"linkAccount","onError",Qe.privyErrorCode||Q.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),ve.current=null,de.current=null,B({status:"error",error:Qe}),Qe}let ce=X||h;return p(ce||null),ve.current=null,de.current=null,{user:ce,linkedAccount:le}},refreshSessionAndUser:async()=>{let P=await e.getAuthenticatedUser();return u(!!P),p(P),P},walletProxy:W,createAnalyticsEvent:({eventName:P,payload:R,timestamp:K})=>e.createAnalyticsEvent({eventName:P,payload:R,timestamp:K}),acceptTerms:async()=>{let P=await e.acceptTerms();return p(P),P},getUsdTokenPrice:P=>e.getUsdTokenPrice(P),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:P=>e.getSplTokenMetadata(P),recoverEmbeddedWallet:async P=>new Promise((async(R,K)=>{if(!h)return void R(!0);let H=P!=null&&P.address?Ys(h,P.address):Zi(h)||v0(h).at(0)||rF(h).at(0);if(!H||Vr(H))return void R(!0);let J=await Ht();if(!J||!W||!H)return void K(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:X,entropyIdVerifier:le}=Ui(h,H);try{await W.connect({accessToken:J,entropyId:X,entropyIdVerifier:le}),R(!0)}catch(ce){if(gu(ce)&&H.recoveryMethod==="privy"){let Qe;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:H.address}});try{Qe=await W.recover({entropyId:X,entropyIdVerifier:le,accessToken:J})}catch(it){return void K(it)}Qe.entropyId||K(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:H.address}}),R(!0)}else gu(ce)&&H.recoveryMethod!=="privy"&&H.recoveryMethod!=="privy-v2"?(ee({recoverWallet:{entropyId:X,entropyIdVerifier:le,onFailure:K,onSuccess:()=>R(!0)},recoveryOAuthStatus:{provider:H.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),pe(KI(H.recoveryMethod))):K(ce)}})),setReadyToTrue:P=>{l(!0),ae==null||ae(P)},updateWallets:()=>Be(),fundWallet:async(P,R)=>{ee({funding:mx({address:P,appConfig:z,fundWalletConfig:R,methodScreen:xi})}),pe(xi)},openModal:pe,requestFarcasterSignerStatus:async P=>{var J;let R=await Ht(),K=h==null?void 0:h.linkedAccounts.find((X=>X.type==="wallet"&&X.walletClientType==="privy"));if(!R)throw Error("Must have valid access token to connect with Farcaster");if(!W||!K)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((J=h==null?void 0:h.farcaster)!=null&&J.fid))throw Error("Must have Farcaster account to use Farcaster signers");let H=await e.requestFarcasterSignerStatus(P);return H.status==="approved"&&p(await e.getAuthenticatedUser()||h||null),H},connectCoinbaseSmartWallet:async()=>{var R,K;z.externalWallets.coinbaseWallet.config.preference={...z.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let P=((R=e.connectors)==null?void 0:R.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((K=e.connectors)==null?void 0:K.findWalletConnector("coinbase_wallet","coinbase_wallet"));if(P)return P.updateConnectionPreference("smartWalletOnly"),ct(P);await bt("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{var R;let P=(R=e.connectors)==null?void 0:R.findWalletConnector("base_account","base_account");if(P)return ct(P);await bt("base_account","base_account")},initiateAccountTransfer:async({nonce:P,account:R,accountType:K,externalWalletMetadata:H,telegramAuthResult:J,telegramWebAppData:X,farcasterEmbeddedAddress:le,oAuthUserInfo:ce})=>{let Qe=await e.sendAccountTransferRequest({nonce:P,account:R,accountType:K,externalWalletMetadata:H,telegramAuthResult:J,telegramWebAppData:X,farcasterEmbeddedAddress:le,oAuthUserInfo:ce});return p(Qe),Qe},inProgressAuthFlowRef:ve,inProgressLoginOrLinkMethodRef:de};rA=Ae.recoverEmbeddedWallet,Ae.recoverEmbeddedWallet;let Cn=y.useMemo((()=>({wallets:f,ready:xe&&We})),[f,xe,We]),Fr=e.authFlow instanceof Qc,Ur=!z.headless&&z.captchaEnabled&&!d&&(o||Fr);return c.jsx(QS.Provider,{value:!0,children:c.jsx(fa.Provider,{value:Kt,children:c.jsx(s$.Provider,{value:re,children:c.jsx(x$.Provider,{value:Cn,children:c.jsx(Qoe,{...z,children:c.jsxs(U2.Provider,{value:Ae,children:[c.jsx(bde,{children:c.jsxs(ule,{data:V,setModalData:ee,setInitialScreen:E,initialScreen:_,authenticated:d,open:i,children:[t.children,c.jsx(eye,{customAuth:z.customAuth}),Ur&&c.jsx(w1e,{delayedExecution:!1}),c.jsx(L1e,{}),c.jsx(o0e,{disabled:z.embeddedWallets.disableAutomaticMigration}),c.jsx($1e,{palette:z.appearance.palette||{}}),!z.render.standalone&&c.jsx(O1e,{open:i})]})}),c.jsx(B1e,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:h==null?void 0:h.mfaMethods,mfaPromise:Ce,mfaSubmitPromise:Ee,onLoad:Z,onLoadFailed:()=>null}),z.loginConfig.telegramAuthConfiguration&&c.jsx(xc,{$if:!0,children:c.jsx(M1e,{scriptHost:t.apiUrl||Ty,botUsername:z.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};function Lwe(t){let{linkEmail:e,linkPhone:n,linkWallet:r,linkGoogle:i,linkApple:s,linkTwitter:a,linkDiscord:o,linkGithub:l,linkLinkedIn:d,linkTiktok:u,linkLine:h,linkSpotify:p,linkInstagram:f,linkTelegram:g,linkFarcaster:m,linkPasskey:w}=y.useContext(fa);return Lc("linkAccount",t),{linkEmail:e,linkPhone:n,linkWallet:r,linkGoogle:i,linkApple:s,linkTwitter:a,linkDiscord:o,linkGithub:l,linkLinkedIn:d,linkTiktok:u,linkLine:h,linkSpotify:p,linkInstagram:f,linkFarcaster:m,linkTelegram:g,linkPasskey:w}}const Fwe=()=>{let{setUser:t,client:e}=y.useContext(U2),{user:n}=y.useContext(fa);return{user:n,refreshUser:y.useCallback((async()=>{let r=await(e==null?void 0:e.updateUserAndIdToken());return t(r??null),r}),[e,t])}};export{Owe as D,Mwe as G,Fwe as L,o2e as R,G as _,bge as a,vge as b,yge as c,$c as d,Iwe as e,Ss as f,jwe as g,Nwe as h,zme as q,EW as r,Se as s,Lwe as u,Ome as y,Rwe as z};
